(this["webpackJsonpual-reactjs-renderer-demo-multipass"]=this["webpackJsonpual-reactjs-renderer-demo-multipass"]||[]).push([[0],{114:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n(48),a=n(36),i=n(35),s=n(5),c=n.n(s),o=n(13),u=n(25),l=n(30),h=n(42),p=n(58),d=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"remove",value:function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.link.storage){e.next=3;break}return e.next=3,this.link.removeSession(this.identifier,this.auth);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"restore",value:function(e,t){switch(t.type){case"channel":return new f(e,t.data,t.metadata);case"fallback":return new m(e,t.data,t.metadata);default:throw new Error("Unable to restore, session data invalid")}}}]),e}(),f=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,a,i){var s;return Object(u.a)(this,n),(s=t.call(this)).type="channel",s.timeout=12e4,s.link=e,s.auth=a.auth,s.publicKey=a.publicKey,s.channel=a.channel,s.identifier=a.identifier,s.encrypt=function(e){return Object(p.f)(e.encode(!0,!1),a.requestKey,a.channel.key)},s.metadata=Object(r.a)({},i||{},{timeout:s.timeout,name:s.channel.name}),s.serialize=function(){return{type:"channel",data:a,metadata:s.metadata}},s}return Object(l.a)(n,[{key:"onSuccess",value:function(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)}},{key:"onFailure",value:function(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)}},{key:"onRequest",value:function(e,t){var n={expiration:new Date(Date.now()+this.timeout).toISOString().slice(0,-1)};this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,e,t),setTimeout((function(){t(new h.c("Wallet did not respond in time","E_TIMEOUT"))}),this.timeout+500),e.data.info.push({key:"link",value:Object(p.a)(n,"link_info")}),Object(p.b)(this.channel.url,{method:"POST",headers:{"X-Buoy-Wait":(this.timeout/1e3).toFixed(0)},body:this.encrypt(e)}).then((function(e){200!==e.status&&t(new h.c("Unable to push message","E_DELIVERY"))})).catch((function(e){t(new h.c("Unable to reach link service (".concat(e.message||String(e),")"),"E_DELIVERY"))}))}},{key:"prepare",value:function(e){return this.link.transport.prepare?this.link.transport.prepare(e,this):Promise.resolve(e)}},{key:"showLoading",value:function(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}},{key:"makeSignatureProvider",value:function(){return this.link.makeSignatureProvider([this.publicKey],this)}},{key:"makeAuthorityProvider",value:function(){return this.link.makeAuthorityProvider()}},{key:"transact",value:function(e,t){return this.link.transact(e,t,this)}}]),n}(d),m=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,r,a){var i;return Object(u.a)(this,n),(i=t.call(this)).type="fallback",i.link=e,i.auth=r.auth,i.publicKey=r.publicKey,i.metadata=a||{},i.identifier=r.identifier,i.serialize=function(){return{type:i.type,data:r,metadata:i.metadata}},i}return Object(l.a)(n,[{key:"onSuccess",value:function(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)}},{key:"onFailure",value:function(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)}},{key:"onRequest",value:function(e,t){this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,e,t):this.link.transport.onRequest(e,t)}},{key:"prepare",value:function(e){return this.link.transport.prepare?this.link.transport.prepare(e,this):Promise.resolve(e)}},{key:"showLoading",value:function(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}},{key:"makeSignatureProvider",value:function(){return this.link.makeSignatureProvider([this.publicKey],this)}},{key:"makeAuthorityProvider",value:function(){return this.link.makeAuthorityProvider()}},{key:"transact",value:function(e,t){return this.link.transact(e,t,this)}}]),n}(d)},117:function(e){e.exports=JSON.parse('[{"chainId":"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","name":"EOS","rpcEndpoints":[{"protocol":"https","host":"eos.eosn.io","port":443}]},{"chainId":"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","name":"Telos","rpcEndpoints":[{"protocol":"https","host":"api.telos.alohaeos.com","port":443}]},{"chainId":"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72","name":"Block.one (Testnet)","rpcEndpoints":[{"protocol":"https","host":"api.testnet.eos.io","port":443}]},{"chainId":"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","name":"FIO (Testnet)","rpcEndpoints":[{"protocol":"https","host":"fiotestnet.greymass.com","port":443}]},{"chainId":"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473","name":"Jungle 2 (Testnet)","rpcEndpoints":[{"protocol":"https","host":"jungle.greymass.com","port":443}]},{"chainId":"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840","name":"Jungle 3 (Testnet)","rpcEndpoints":[{"protocol":"https","host":"jungle.eosn.io","port":443}]},{"chainId":"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","name":"Proton (Testnet)","rpcEndpoints":[{"protocol":"https","host":"protontestnet.greymass.com","port":443}]},{"chainId":"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","name":"Telos (Testnet)","rpcEndpoints":[{"protocol":"https","host":"testnet.eos.miami","port":443}]},{"chainId":"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","name":"WAX (Testnet)","rpcEndpoints":[{"protocol":"https","host":"waxtestnet.greymass.com","port":443}]}]')},174:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(97),a=n(48),i=n(5),s=n.n(i),c=n(13),o=n(25),u=n(30),l=n(41),h=n(15),p=n(78),d=n(138),f=n.n(d),m=n(414),g=n.n(m),v=n(917),b=n(42),y=n(189),x=n(114),k=n(58),w=function(){function t(e){if(Object(o.a)(this,t),this.abiCache=new Map,this.pendingAbis=new Map,"object"!==typeof e)throw new TypeError("Missing options object");if(!e.transport)throw new TypeError("options.transport is required, see https://github.com/greymass/anchor-link#transports");void 0===e.rpc||"string"===typeof e.rpc?this.rpc=new h.JsonRpc(e.rpc||y.a.rpc,{fetch:k.b}):this.rpc=e.rpc,e.chainId?this.chainId="number"===typeof e.chainId?l.f(e.chainId):e.chainId:this.chainId=y.a.chainId,this.serviceAddress=(e.service||y.a.service).trim().replace(/\/$/,""),this.transport=e.transport,null!==e.storage&&(this.storage=e.storage||this.transport.storage),this.requestOptions={abiProvider:this,textDecoder:e.textDecoder||new TextDecoder,textEncoder:e.textEncoder||new TextEncoder,zlib:g.a}}return Object(u.a)(t,[{key:"getAbi",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.abiCache.get(t)){e.next=9;break}return(r=this.pendingAbis.get(t))||(r=this.rpc.get_abi(t),this.pendingAbis.set(t,r)),e.next=6,r;case 6:n=e.sent.abi,this.pendingAbis.delete(t),n&&this.abiCache.set(t,n);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCallbackUrl",value:function(){return"".concat(this.serviceAddress,"/").concat(Object(v.a)())}},{key:"createRequest",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||this.transport,e.next=3,l.e.create(Object(a.a)({},t,{chainId:this.chainId,broadcast:!1,callback:{url:this.createCallbackUrl(),background:!0}}),this.requestOptions);case 3:if(i=e.sent,!r.prepare){e.next=8;break}return e.next=7,r.prepare(i);case 7:i=e.sent;case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a,i,c,o,u,h,p,d,f,m,g,v,y,x,k,w,A=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A.length>2&&void 0!==A[2]&&A[2],a=n||this.transport,e.prev=2,function(e){return new Promise((function(t){return setTimeout(t,e)}))},i=t.data.callback,console.log(t.data),c=t.encode(),console.log(c),o=l.e.from(c,this.requestOptions),console.log(o),console.log(o.encode()),i.startsWith(this.serviceAddress)){e.next=13;break}throw new Error("Request must have a link callback");case 13:if(2===t.data.flags){e.next=15;break}throw new Error("Invalid request flags");case 15:return h=E(i,u={}).then((function(e){if("string"===typeof e.rejected)throw new b.a("Rejected by wallet: ".concat(e.rejected));return e})),p=new Promise((function(e,n){a.onRequest(t,(function(e){u.cancel&&u.cancel(),n("string"===typeof e?new b.a(e):e)}))})),e.next=20,Promise.race([h,p]);case 20:return d=e.sent,f={actor:d.sa,permission:d.sp},m=Object.keys(d).filter((function(e){return e.startsWith("sig")&&"sig0"!==e})).map((function(e){return d[e]})),e.next=25,l.d.fromPayload(d,this.requestOptions);case 25:if(g=e.sent,(v=g.request.getInfo()).fuel_sig&&m.unshift(v.fuel_sig),y=g.serializedTransaction,x=g.transaction,k={request:g.request,serializedTransaction:y,transaction:x,signatures:m,payload:d,signer:f},!r){e.next=35;break}return e.next=33,this.rpc.push_transaction({signatures:k.signatures,serializedTransaction:k.serializedTransaction});case 33:w=e.sent,k.processed=w.processed;case 35:return a.onSuccess&&a.onSuccess(t,k),e.abrupt("return",k);case 39:throw e.prev=39,e.t0=e.catch(2),a.onFailure&&a.onFailure(t,e.t0),e.t0;case 43:case"end":return e.stop()}}),e,this,[[2,39]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"transact",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n,r){var i,c,o,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||this.transport,c=!n||!1!==n.broadcast,i&&i.showLoading&&i.showLoading(),console.log(t),o=t,t.actions&&(o.expiration||o.ref_block_num||o.ref_block_prefix||o.max_net_usage_words||o.max_cpu_usage_ms||o.delay_sec)&&(t={transaction:Object(a.a)({expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0},o)}),console.log(t),e.next=9,this.createRequest(t,i);case 9:return u=e.sent,console.log(u),e.next=13,this.sendRequest(u,i,c);case 13:return l=e.sent,e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"identify",value:function(){var t=Object(c.a)(s.a.mark((function t(n,r){var i,c,o,u,h,d,f,m,g;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createRequest({identity:{permission:n||null},info:r});case 2:return i=t.sent,t.next=5,this.sendRequest(i);case 5:if((c=t.sent).request.isIdentity()){t.next=8;break}throw new b.b("Unexpected response");case 8:return o=e.concat([e.from(i.getChainId(),"hex"),e.from(c.serializedTransaction),e.alloc(32)]),u=c.signer,h=p.recover(c.signatures[0],o),t.next=13,this.rpc.get_account(u.actor);case 13:if(d=t.sent){t.next=16;break}throw new b.b("Signature from unknown account: ".concat(u.actor));case 16:if(f=d.permissions.find((function(e){return e.perm_name===u.permission}))){t.next=19;break}throw new b.b("".concat(u.actor," signed for unknown permission: ").concat(u.permission));case 19:if(m=f.required_auth,g=m.keys.find((function(e){var t=e.key;return Object(k.e)(t,h)}))){t.next=23;break}throw new b.b("".concat(A(u)," has no key matching id signature"));case 23:if(!(m.threshold>g.weight)){t.next=25;break}throw new b.b("".concat(A(u)," signature does not reach auth threshold"));case 25:if(!n){t.next=28;break}if(!(n.actor!==l.b&&n.actor!==u.actor||n.permission!==l.c&&n.permission!==u.permission)){t.next=28;break}throw new b.b("Unexpected identity proof from ".concat(A(u),", expected ").concat(A(n)," "));case 28:return t.abrupt("return",Object(a.a)({},c,{account:d,signerKey:h}));case 29:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r,i,c,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.c)();case 2:return n=e.sent,r=p.privateToPublic(n),i={session_name:t,request_key:r},e.next=7,this.identify(void 0,{link:Object(k.a)(i,"link_create")});case 7:if(c=e.sent,o={sameDevice:void 0!==c.request.getRawInfo().return_path},u=c.payload.link_ch&&c.payload.link_key&&c.payload.link_name?new x.a(this,{identifier:t,auth:c.signer,publicKey:c.signerKey,channel:{url:c.payload.link_ch,key:c.payload.link_key,name:c.payload.link_name},requestKey:n},o):new x.b(this,{identifier:t,auth:c.signer,publicKey:c.signerKey},o),!this.storage){e.next=13;break}return e.next=13,this.storeSession(t,u);case 13:return e.abrupt("return",Object(a.a)({},c,{session:u}));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restoreSession",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a,i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to restore session: No storage adapter configured");case 2:if(!n){e.next=6;break}r=this.sessionKey(t,A(n)),e.next=12;break;case 6:return e.next=8,this.listSessions(t);case 8:if(a=e.sent[0]){e.next=11;break}return e.abrupt("return",null);case 11:r=this.sessionKey(t,A(a));case 12:return e.next=14,this.storage.read(r);case 14:if(i=e.sent){e.next=17;break}return e.abrupt("return",null);case 17:e.prev=17,c=JSON.parse(i),e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(17),new Error("Unable to restore session: Stored JSON invalid (".concat(e.t0.message||String(e.t0),")"));case 24:if(o=x.c.restore(this,c),!n){e.next=28;break}return e.next=28,this.touchSession(t,n);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}}),e,this,[[17,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"listSessions",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to list sessions: No storage adapter configured");case 2:return n=this.sessionKey(t,"list"),e.prev=3,e.t0=JSON,e.next=7,this.storage.read(n);case 7:if(e.t1=e.sent,e.t1){e.next=10;break}e.t1="[]";case 10:e.t2=e.t1,r=e.t0.parse.call(e.t0,e.t2),e.next=17;break;case 14:throw e.prev=14,e.t3=e.catch(3),new Error("Unable to list sessions: Stored JSON invalid (".concat(e.t3.message||String(e.t3),")"));case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeSession",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to remove session: No storage adapter configured");case 2:return r=this.sessionKey(t,A(n)),e.next=5,this.storage.remove(r);case 5:return e.next=7,this.touchSession(t,n,!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clearSessions",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to clear sessions: No storage adapter configured");case 2:return e.t0=r.a,e.next=5,this.listSessions(t);case 5:e.t1=e.sent,n=(0,e.t0)(e.t1),e.prev=7,n.s();case 9:if((a=n.n()).done){e.next=15;break}return i=a.value,e.next=13,this.removeSession(t,i);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(7),n.e(e.t2);case 20:return e.prev=20,n.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[7,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"makeSignatureProvider",value:function(e,t){var n=this;return{getAvailableKeys:function(){var t=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),sign:function(){var e=Object(c.a)(s.a.mark((function e(r){var i,c,o,u,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t||n.transport,(c=l.e.fromTransaction(r.chainId,r.serializedTransaction,n.requestOptions)).setCallback(n.createCallbackUrl(),!0),c.setBroadcast(!1),!i.prepare){e.next=8;break}return e.next=7,i.prepare(c);case 7:c=e.sent;case 8:return e.next=10,n.sendRequest(c,i);case 10:return o=e.sent,u=o.serializedTransaction,h=o.signatures,e.abrupt("return",Object(a.a)({},r,{serializedTransaction:u,signatures:h}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},{key:"makeAuthorityProvider",value:function(){var e=this.rpc;return{getRequiredKeys:function(t){return Object(c.a)(s.a.mark((function n(){var r,a,i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.availableKeys,a=t.transaction,n.next=3,e.fetch("/v1/chain/get_required_keys",{transaction:a,available_keys:r.map(k.d)});case 3:return i=n.sent,n.abrupt("return",i.required_keys.map(k.d));case 5:case"end":return n.stop()}}),n)})))()}}}},{key:"touchSession",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a,i,c,o,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],e.next=3,this.listSessions(t);case 3:return a=e.sent,i=A(n),(c=a.findIndex((function(e){return A(e)===i})))>=0&&a.splice(c,1),!1===r&&a.unshift(n),o=this.sessionKey(t,"list"),e.next=11,this.storage.write(o,JSON.stringify(a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"storeSession",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.sessionKey(t,A(n.auth)),a=JSON.stringify(n.serialize()),e.next=4,this.storage.write(r,a);case 4:return e.next=6,this.touchSession(t,n.auth);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sessionKey",value:function(e,t){return[this.chainId,e,t].join("-")}}]),t}();function E(e,t){return new Promise((function(n,r){var a=!0,i=0,s=e.replace(/^http/,"ws"),c=function(e){try{n(JSON.parse(e))}catch(t){t.message="Unable to parse callback JSON: "+t.message,r(t)}};!function e(){var n=new f.a(s);t.cancel=function(){a=!1,n.readyState!==f.a.OPEN&&n.readyState!==f.a.CONNECTING||n.close()},n.onmessage=function(e){if(a=!1,n.readyState===f.a.OPEN&&n.close(),"undefined"!==typeof Blob&&e.data instanceof Blob){var t=new FileReader;t.onload=function(){c(t.result)},t.onerror=function(e){r(e)},t.readAsText(e.data)}else"string"===typeof e.data?c(e.data):c(e.data.toString())},n.onopen=function(){i=0},n.onerror=function(e){},n.onclose=function(t){var n;a&&setTimeout(e,(n=i++,Math.min(Math.pow(10*n,2),1e4)))}}()}))}function A(e){var t=e.actor,n=e.permission;return t===l.b&&(t="<any>"),n!==l.b&&n!==l.c||(n="<any>"),"".concat(t,"@").concat(n)}}).call(this,n(8).Buffer)},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",rpc:"https://eos.greymass.com",service:"https://cb.anchor.link"}},252:function(e,t,n){e.exports=n.p+"static/media/jungle.3f2409df.png"},308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Name="Anchor"},309:function(e,t,n){"use strict";var r=n(125),a=n(5),i=n(11),s=n(12),c=n(53),o=n(27),u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{o(r.next(e))}catch(t){i(t)}}function c(e){try{o(r.throw(e))}catch(t){i(t)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(197),h=n(310),p=function(e){o(n,e);var t=c(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).accountName="",a.requestPermission="",a.chainId=r.link.chainId,a.accountName=r.auth.actor,a.requestPermission=r.auth.permission,a.session=r,a.rpc=e,a}return s(n,[{key:"signTransaction",value:function(e,t){return u(this,void 0,void 0,a.mark((function n(){var r,i,s,c;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log(e.expiration),n.next=4,this.session.transact(e,t);case 4:return r=n.sent,console.log(r.transaction.expiration),n.abrupt("return",this.returnEosjsTransaction(t.broadcast,r));case 9:throw n.prev=9,n.t0=n.catch(0),i=n.t0.message?n.t0.message:"Unable to sign transaction",s=l.UALErrorType.Signing,c=n.t0,new h.UALAnchorError(i,s,c);case 15:case"end":return n.stop()}}),n,this,[[0,9]])})))}},{key:"signArbitrary",value:function(e,t,n){return u(this,void 0,void 0,a.mark((function n(){return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:throw console.log("signArbitrary",e,t),new h.UALAnchorError("Anchor does not currently support signArbitrary",l.UALErrorType.Unsupported,null);case 2:case"end":return n.stop()}}),n)})))}},{key:"verifyKeyOwnership",value:function(e){return u(this,void 0,void 0,a.mark((function t(){return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw console.log("verifyKeyOwnership",e),new h.UALAnchorError("Anchor does not currently support verifyKeyOwnership",l.UALErrorType.Unsupported,null);case 2:case"end":return t.stop()}}),t)})))}},{key:"getAccountName",value:function(){return u(this,void 0,void 0,a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.accountName);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getChainId",value:function(){return u(this,void 0,void 0,a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.chainId);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getKeys",value:function(){return u(this,void 0,void 0,a.mark((function e(){var t,n,r,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getKeys"),e.prev=1,e.next=4,this.signatureProvider.getAvailableKeys(this.requestPermission);case 4:return t=e.sent,e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(1),n="Unable to getKeys for account ".concat(this.accountName,".\n        Please make sure your wallet is running."),r=l.UALErrorType.DataRequest,i=e.t0,new h.UALAnchorError(n,r,i);case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))}},{key:"isAccountValid",value:function(){return u(this,void 0,void 0,a.mark((function e(){var t,n,r,i,s,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("isAccountValid"),e.prev=1,e.t0=this.rpc,!e.t0){e.next=7;break}return e.next=6,this.rpc.get_account(this.accountName);case 6:e.t0=e.sent;case 7:return t=e.t0,n=this.extractAccountKeys(t),e.next=11,this.getKeys();case 11:return r=e.sent,e.abrupt("return",n.filter((function(e){return-1!==r.indexOf(e)})).length>0);case 15:if(e.prev=15,e.t1=e.catch(1),"UALAnchorError"!==e.t1.constructor.name){e.next=19;break}throw e.t1;case 19:throw i="Account validation failed for account ".concat(this.accountName,"."),s=l.UALErrorType.Validation,c=e.t1,new h.UALAnchorError(i,s,c);case 23:case"end":return e.stop()}}),e,this,[[1,15]])})))}},{key:"extractAccountKeys",value:function(e){console.log("extractAccountKeys",e);var t,n=e.permissions.map((function(e){return e.required_auth.keys.map((function(e){return e.key}))})),a=[],i=r(n);try{for(i.s();!(t=i.n()).done;){var s=t.value;a=a.concat(s)}}catch(c){i.e(c)}finally{i.f()}return a}}]),n}(l.User);t.AnchorUser=p},310:function(e,t,n){"use strict";var r=n(11),a=n(53),i=n(27);Object.defineProperty(t,"__esModule",{value:!0});var s=n(197),c=n(308),o=function(e){i(n,e);var t=a(n);function n(e,a,i){return r(this,n),t.call(this,e,a,i,c.Name)}return n}(s.UALError);t.UALAnchorError=o},413:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(464)),r(n(309))},416:function(e,t,n){"use strict";t.a={version:"eosio::abi/1.1",types:[],structs:[{name:"sealed_message",base:"",fields:[{name:"from",type:"public_key"},{name:"nonce",type:"uint64"},{name:"ciphertext",type:"bytes"},{name:"checksum",type:"uint32"}]},{name:"link_create",base:"",fields:[{name:"session_name",type:"name"},{name:"request_key",type:"public_key"}]},{name:"link_info",base:"",fields:[{name:"expiration",type:"time_point_sec"}]}],actions:[],ricardian_clauses:[],error_messages:[],tables:[],abi_extensions:[]}},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));var r=n(25),a=n(36),i=n(35),s=n(193),c=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,"User canceled request ".concat(e?"("+e+")":""))).code="E_CANCEL",a}return n}(Object(s.a)(Error)),o=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,"Unable to verify identity ".concat(e?"("+e+")":""))).code="E_IDENTITY",a}return n}(Object(s.a)(Error)),u=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,a){var i;return Object(r.a)(this,n),(i=t.call(this,e)).code=a,i}return n}(Object(s.a)(Error))},427:function(e,t,n){e.exports=n.p+"static/media/eos.b3392955.png"},428:function(e,t,n){e.exports=n.p+"static/media/fio.9ae02e71.svg"},429:function(e,t,n){e.exports=n.p+"static/media/proton.c090f672.png"},430:function(e,t){e.exports="data:image/png;base64,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"},431:function(e,t,n){e.exports=n.p+"static/media/wax.f02a31b4.png"},458:function(e,t,n){e.exports=n(915)},464:function(e,t,n){"use strict";var r=n(5),a=n(95),i=n(11),s=n(12),c=n(53),o=n(27),u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{o(r.next(e))}catch(t){i(t)}}function c(e){try{o(r.throw(e))}catch(t){i(t)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}o((r=r.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(197),p=l(n(475)),d=n(549),f=n(308),m=n(309),g=n(557),v=n(310),b=l(n(916)),y=function(e){o(n,e);var t=c(n);function n(e,r){var s;i(this,n),(s=t.call(this,e)).users=[],s.service="https://cb.anchor.link",s.disableGreymassFuel=!1,s.requestStatus=!1,s.chainId=e[0].chainId,s.users=[];var c=a(e,1)[0],o=a(c.rpcEndpoints,1)[0];if(!r||!r.appName)throw new v.UALAnchorError("ual-anchor requires the appName property to be set on the `options` argument during initialization.",h.UALErrorType.Initialization,null);return s.appName=r.appName,r&&r.rpc?s.rpc=r.rpc:s.rpc=new d.JsonRpc("".concat(o.protocol,"://").concat(o.host,":").concat(o.port)),r.service&&(s.service=r.service),r&&r.disableGreymassFuel&&(s.disableGreymassFuel=r.disableGreymassFuel),r&&r.requestStatus&&(s.requestStatus=r.requestStatus),s}return s(n,[{key:"init",value:function(){return u(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.link=new p.default({chainId:this.chainId,rpc:this.rpc,service:this.service,transport:new b.default({requestStatus:this.requestStatus,disableGreymassFuel:this.disableGreymassFuel})}),e.next=3,this.link.restoreSession(this.appName);case 3:(t=e.sent)&&(this.users=[new m.AnchorUser(this.rpc,t)]);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"reset",value:function(){this.users=[]}},{key:"isErrored",value:function(){return!1}},{key:"getOnboardingLink",value:function(){return"https://github.com/greymass/anchor/"}},{key:"getError",value:function(){return null}},{key:"isLoading",value:function(){return!1}},{key:"getName",value:function(){return"anchor"}},{key:"getStyle",value:function(){return{icon:g.AnchorLogo,text:f.Name,textColor:"white",background:"#3650A2"}}},{key:"shouldRender",value:function(){return!this.isLoading()}},{key:"shouldAutoLogin",value:function(){return this.users.length>0}},{key:"shouldRequestAccountName",value:function(){return u(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))}},{key:"login",value:function(){return u(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.chains.length>1)){e.next=2;break}throw new v.UALAnchorError("UAL-Anchor does not yet support providing multiple chains to UAL. Please initialize the UAL provider with a single chain.",h.UALErrorType.Unsupported,null);case 2:if(e.prev=2,0!==this.users.length){e.next=8;break}return e.next=6,this.link.login(this.appName);case 6:t=e.sent,this.users=[new m.AnchorUser(this.rpc,t.session)];case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),new v.UALAnchorError(e.t0.message,h.UALErrorType.Login,e.t0);case 13:return e.abrupt("return",this.users);case 14:case"end":return e.stop()}}),e,this,[[2,10]])})))}},{key:"logout",value:function(){return u(this,void 0,void 0,r.mark((function e(){var t,n,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(this.users,1),n=t[0],i=n.session.auth,e.next=4,this.link.removeSession(this.appName,i);case 4:this.reset();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"requiresGetKeyConfirmation",value:function(){return!1}}]),n}(h.Authenticator);t.Anchor=y},475:function(e,t,n){"use strict";n.r(t);var r=n(174);n.d(t,"Link",(function(){return r.a}));var a=n(114);n.d(t,"LinkSession",(function(){return a.c})),n.d(t,"LinkChannelSession",(function(){return a.a})),n.d(t,"LinkFallbackSession",(function(){return a.b}));var i=n(42);n.d(t,"CancelError",(function(){return i.a})),n.d(t,"IdentityError",(function(){return i.b})),n.d(t,"SessionError",(function(){return i.c}));var s=n(41);n.d(t,"PlaceholderAuth",(function(){return s.a})),n.d(t,"PlaceholderName",(function(){return s.b})),n.d(t,"PlaceholderPermission",(function(){return s.c})),t.default=r.a},490:function(e,t){},492:function(e,t){},502:function(e,t){},504:function(e,t){},557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnchorLogo="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS40NCwgMCwgMCwgMS40NCwgLTguNTAxOTI1LCAtNTcuMDc0NTcpIiBzdHlsZT0iIj4KICAgIDx0aXRsZT5XaGl0ZTwvdGl0bGU+CiAgICA8Y2lyY2xlIGN4PSI5NC43OTMiIGN5PSIxMjguNTI0IiByPSI4MCIgZmlsbD0iI0ZCRkRGRiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0gOTQuNzk5IDc4LjUyNCBDIDk3LjA5OCA3OC41MjQgOTkuMTk1IDc5LjgzNyAxMDAuMTk4IDgxLjkwNiBMIDEyNC4yMDQgMTMxLjQwNiBMIDEyNC43NDYgMTMyLjUyNCBMIDExMS40MDkgMTMyLjUyNCBMIDEwNy41MyAxMjQuNTI0IEwgODIuMDY5IDEyNC41MjQgTCA3OC4xODkgMTMyLjUyNCBMIDY0Ljg1MyAxMzIuNTI0IEwgNjUuMzk1IDEzMS40MDYgTCA4OS40MDEgODEuOTA2IEMgOTAuNDA0IDc5LjgzNyA5Mi41MDEgNzguNTI0IDk0Ljc5OSA3OC41MjQgWiBNIDg2LjkxOSAxMTQuNTI0IEwgMTAyLjY4IDExNC41MjQgTCA5NC43OTkgOTguMjc0IEwgODYuOTE5IDExNC41MjQgWiBNIDExMi43OTMgMTQ5LjUyNCBMIDEyNC43OTggMTQ5LjUyNCBDIDEyNC40MzcgMTY1LjY3NiAxMTEuMDY3IDE3OC41MjQgOTQuNzk5IDE3OC41MjQgQyA3OC41MzIgMTc4LjUyNCA2NS4xNjIgMTY1LjY3NiA2NC44MDEgMTQ5LjUyNCBMIDc2LjgwNiAxNDkuNTI0IEMgNzcuMDg3IDE1Ni44NzggODEuOTc0IDE2My4xNTUgODguNzkzIDE2NS41MiBMIDg4Ljc5MyAxNDEuNTI0IEMgODguNzkzIDEzOC4yMSA5MS40OCAxMzUuNTI0IDk0Ljc5MyAxMzUuNTI0IEMgOTguMTA3IDEzNS41MjQgMTAwLjc5MyAxMzguMjEgMTAwLjc5MyAxNDEuNTI0IEwgMTAwLjc5MyAxNjUuNTI0IEMgMTA3LjYyIDE2My4xNjIgMTEyLjUxMSAxNTYuODgzIDExMi43OTMgMTQ5LjUyNCBaIiBmaWxsPSIjMzY1MEEyIi8+CiAgPC9nPgo8L3N2Zz4="},58:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return v}));var r=n(5),a=n.n(r),i=n(13),s=n(15),c=n(78),o=n(415),u=n.n(o),l=n(416),h=u()().fetch,p=s.Serialize.getTypesFromAbi(s.Serialize.createInitialTypes(),l.a);function d(e,t){var n=p.get(t);if(!n)throw new Error("No such type: ".concat(t));var r=new s.Serialize.SerialBuffer;return n.serialize(r,e),r.asUint8Array()}function f(e,t,n){var r=c.Aes.encrypt(t,n,e);return d({from:c.privateToPublic(t),nonce:r.nonce.toString(),ciphertext:r.message,checksum:r.checksum},"sealed_message")}function m(e){return e.startsWith("PUB_")?e:s.Numeric.publicKeyToString(s.Numeric.stringToPublicKey("EOS"+e.substr(-50)))}function g(e,t){return m(e)===m(t)}function v(){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"===typeof window||!window.crypto){t.next=6;break}return n=new Uint32Array(32),window.crypto.getRandomValues(n),t.abrupt("return",c.PrivateKey.fromBuffer(e.from(n)).toString());case 6:return t.next=8,c.randomKey();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(8).Buffer)},657:function(e,t){},681:function(e,t){},682:function(e,t){},915:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(67),s=n.n(i),c=(n(463),n(57)),o=n(25),u=n(30),l=n(36),h=n(35),p=n(413),d=n(418),f=n(419),m=n(177),g=n(421),v=n(117),b=n(5),y=n.n(b),x=n(13),k=n(924),w=n(931),E=n(930),A=n(929),j=n(926),C=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.activeUser,r=t.chain,i=t.users;return a.a.createElement(j.a,null,a.a.createElement(j.a.Header,null,a.a.createElement(j.a.Row,null,a.a.createElement(j.a.HeaderCell,{collapsing:!0},r.name),a.a.createElement(j.a.HeaderCell,null,"Account"),a.a.createElement(j.a.HeaderCell,null,"Permission"),a.a.createElement(j.a.HeaderCell,null))),i.length?a.a.createElement(j.a.Body,null,i.map((function(t){var r,i,s,o=!1;if(n.scatter){var u=Object(c.a)(n.scatter.identity.accounts,1)[0],l=Object(c.a)(t.scatter.identity.accounts,1)[0];o=l&&l.name===u.name&&l.authority===u.authority,s=[l.name,l.authority].join("-"),r=l.name,i=l.authority}return n.session&&(o=n&&t.accountName===n.accountName&&t.requestPermission===n.requestPermission,s=Object.values(t).join("-"),r=t.accountName,i=t.requestPermission),a.a.createElement(j.a.Row,{key:s},a.a.createElement(j.a.Cell,{collapsing:!0},a.a.createElement(A.a,{color:o?"blue":"green",content:o?"In Use":"Use Account",disabled:o,onClick:function(){return e.props.setSession({actor:r,permission:i})}})),a.a.createElement(j.a.Cell,null,r),a.a.createElement(j.a.Cell,null,i),a.a.createElement(j.a.Cell,{collapsing:!0},a.a.createElement(A.a,{color:"red",icon:"trash",onClick:function(){return e.props.removeSession({actor:r,permission:i})}})))}))):a.a.createElement(j.a.Body,null,a.a.createElement(j.a.Row,{textAlign:"center"},a.a.createElement(j.a.Cell,{colSpan:"4"},"No Accounts Imported"))),a.a.createElement(j.a.Footer,{fullWidth:!0},a.a.createElement(j.a.Row,null,a.a.createElement(j.a.HeaderCell,null),a.a.createElement(j.a.HeaderCell,{colSpan:"4",textAlign:"center"},a.a.createElement(A.a,{basic:!0,content:"Add Account",fluid:!0,onClick:this.props.addAccount,primary:!0})))))}}]),n}(r.Component),O=n(927),S=n(427),V=n.n(S),N=n(428),T=n.n(N),I=n(252),L=n.n(I),M=n(429),q=n.n(M),z=n(430),R=n.n(z),D=n(431),U=n.n(D),P={"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72":V.a,b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e:T.a,e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473:L.a,"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840":L.a,"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd":q.a,"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f":R.a,f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12:U.a},K=v.map((function(e){return{key:e.chainId,text:e.name,value:e.chainId,image:{avatar:!0,src:P[e.chainId]}}})),F=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.chain;return a.a.createElement(O.a,{fluid:!0,onChange:this.props.onChange,options:K,placeholder:"Select Blockchain...",search:!0,selection:!0,value:e.chainId})}}]),n}(r.Component),B=n(48),J=n(928),Q=n(256),_=n.n(Q),H=n(140),Z=n(192),X=n(411),Y=Z.Serialize.getTypesFromAbi(Z.Serialize.createInitialTypes(),X),W=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).testResponse=function(){var t=e.props.response;return[{name:"Not Broadcast",desc:"The adapter has not broadcast the transaction.",test:function(e){return!1===e.wasBroadcast},data:function(e){return e.wasBroadcast}},{name:"Signatures returned by signer",desc:"The signer has returned signatures in its response.",test:function(e){return!!(e.transaction.signatures&&e.transaction.signatures.length>=1)},data:function(e){return JSON.stringify(e.transaction.signatures)}},{name:"Unserialized transaction returned by signer",desc:"The signer has returned an unserialized transaction in its response.",test:function(e){return!!e.transaction.transaction},data:function(e){return JSON.stringify(e.transaction.transaction)}},{name:"Serialized transaction returned by signer",desc:"The signer has returned a serialized transaction in its response.",test:function(e){return!!e.transaction.serializedTransaction},data:function(e){return JSON.stringify(e.transaction.serializedTransaction)}},{name:"Serialized transaction successfully deserialized",desc:"The serialized transaction the signer returned can be successfully deserialized.",test:function(t){try{var n=e.deserialize(t.transaction.serializedTransaction);return n.expiration&&n.actions&&n.actions.length>0&&n.ref_block_num>0&&n.ref_block_prefix>0}catch(r){return!1}},data:function(t){try{var n=e.deserialize(t.transaction.serializedTransaction);return JSON.stringify(n)}catch(r){return JSON.stringify({})}}}].map((function(e){return Object(B.a)({},e,{res:e.test(t),val:e.data(t)})}))},e.deserialize=function(e){var t=new Z.Serialize.SerialBuffer({array:e});return Y.get("transaction").deserialize(t)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.response,t=this.testResponse();return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{style:{overflowX:"scroll"}},a.a.createElement(J.a,{divided:!0,relaxed:!0},t.map((function(e){return a.a.createElement(J.a.Item,null,a.a.createElement(J.a.Icon,{color:e.res?"green":"red",name:e.res?"checkmark":"x",size:"large",verticalAlign:"top"}),a.a.createElement(J.a.Content,null,a.a.createElement(J.a.Header,null,e.name),a.a.createElement(J.a.Description,null,e.desc),a.a.createElement(J.a.Content,{style:{margin:"0.5em 0"}},a.a.createElement("code",null,e.val))))})))),a.a.createElement(E.a,{style:{background:"rgb(39, 40, 34)"}},a.a.createElement(w.a,{dividing:!0,size:"large",style:{borderBottom:"1px solid white",color:"white"}},"Callback Payload"),a.a.createElement(H.a,{text:"console.log(response.payload);",language:"javascript",showLineNumbers:!1,theme:H.b,wrapLines:!0}),a.a.createElement(_.a,{displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1,iconStyle:"square",name:null,src:e.payload,style:{background:"rgb(39, 40, 34)",marginTop:"1em",overflow:"scroll"},theme:"harmonic"})),a.a.createElement(E.a,{style:{background:"rgb(39, 40, 34)"}},a.a.createElement(w.a,{dividing:!0,size:"large",style:{borderBottom:"1px solid white",color:"white"}},"Signer"),a.a.createElement(H.a,{text:"console.log(response.signer);",language:"javascript",showLineNumbers:!1,theme:H.b,wrapLines:!0}),a.a.createElement(_.a,{displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1,iconStyle:"square",name:null,src:e.signer,style:{background:"rgb(39, 40, 34)",marginTop:"1em",overflow:"scroll"},theme:"harmonic"})))}}]),n}(r.Component),G=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).addAccount=function(){r.props.ual.showModal()},r.signTransaction=Object(x.a)(y.a.mark((function e(){var t,n,a,i,s,o,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.ual.activeUser,r.setState({response:void 0,transacting:!0}),e.prev=2,t.scatter&&(i=Object(c.a)(t.scatter.identity.accounts,1),s=i[0],n=s.name,a=s.authority),t.session&&(n=t.accountName,a=t.requestPermission),o={actions:[{account:"eosio",name:"voteproducer",authorization:[{actor:n,permission:a}],data:{producers:[],proxy:"waaaaaaaaaat",voter:t.accountName}}]},console.log(o),e.next=9,t.signTransaction(o,{broadcast:!1,sign:!0});case 9:u=e.sent,console.log(u),r.setState({response:u,transacting:!1}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),r.setState({transacting:!1});case 18:case"end":return e.stop()}}),e,null,[[2,14]])}))),r.setSession=function(){var e=Object(x.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.link.restoreSession(r.props.appName,t);case 2:n=e.sent,r.setState({response:void 0,session:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.removeSession=function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,r.props.ual.logout)();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={response:void 0,session:void 0,sessions:[],transacting:!1},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.response,n=e.transacting,r=this.props.chain,i=this.props.ual.activeUser,s=this.props.ual.users;return a.a.createElement(k.a,{style:{paddingTop:"2em"}},a.a.createElement(w.a,{attached:"top",block:!0,size:"huge"},"ual-reactjs-renderer-demo-multipass",a.a.createElement(w.a.Subheader,null,a.a.createElement("p",null,"An UAL demo using the ual-reactjs-renderer that allows multiple persistent logins from different wallets, blockchains, and accounts."),a.a.createElement("p",null,"Source code: ",a.a.createElement("a",{href:"https://github.com/greymass/ual-reactjs-renderer-demo-multipass"},"https://github.com/greymass/ual-reactjs-renderer-demo-multipass")))),a.a.createElement(E.a,{attached:!0,padded:!0},a.a.createElement("p",null,"Switch to a specific blockchain."),a.a.createElement(F,{chain:r,onChange:this.props.setChainId})),a.a.createElement(E.a,{attached:!0,padded:!0},a.a.createElement(w.a,null,"Available Accounts"),a.a.createElement(C,{activeUser:i,addAccount:this.addAccount,chain:r,setSession:this.setSession,removeSession:this.removeSession,users:s})),a.a.createElement(E.a,{attached:!!t||"bottom",padded:!0},a.a.createElement(w.a,null,"Transact with UAL"),a.a.createElement(A.a,{content:"Sign Test Transaction",disabled:!i||n,loading:n,icon:"external",onClick:this.signTransaction,primary:!0,size:"huge"}),!i&&a.a.createElement("p",{style:{marginTop:"0.5em"}},"Login using UAL to sign a test transaction.")),!!t&&a.a.createElement(E.a,{attached:"bottom",padded:!0},a.a.createElement(w.a,null,"Transaction Response"),a.a.createElement(W,{response:t})))}}]),n}(r.Component),$=Object(m.withUAL)(G),ee="ual-reactjs-renderer-demo-multipass",te=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(o.a)(this,n),(r=t.call(this,e)).getAuthenticators=function(e){var t=v.filter((function(t){return t.chainId===e})),n=Object(c.a)(t,1)[0];return[new p.Anchor([n],{appName:ee}),new d.Ledger([n]),new f.Scatter([n],{appName:ee})]},r.setChainId=function(e,t){var n=t.value;return r.setState({chainId:n},(function(){var e=new URLSearchParams(window.location.search);e.set("chainId",n),window.history.pushState(null,null,"?".concat(e.toString()))}))};var a=window.location.search,i=new URLSearchParams(a).get("chainId")||"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72";return r.state={chainId:i},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.chainId,t=Object(g.find)(v,{chainId:e}),n=this.getAuthenticators(e);return a.a.createElement(m.UALProvider,{appName:ee,authenticators:n,chains:v,key:t.chainId},a.a.createElement($,{appName:ee,chain:t,setChainId:this.setChainId,key:t.chainId}))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},916:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n(5),a=n.n(r),i=n(13),s=n(25),c=n(30),o=n(417),u={aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906:"https://eos.greymass.com","2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840":"https://jungle3.greymass.com","4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11":"https://telos.greymass.com"};function l(e,t){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n){return d.apply(this,arguments)}function d(){return(d=Object(i.a)(a.a.mark((function e(t,n,r){var i,s,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r("Detecting if Fuel is required."),i=t.clone(),s=i.getChainId().toLowerCase(),c=u[s]){e.next=6;break}throw new Error("Chain does not support Fuel.");case 6:return e.next=8,l(c+"/v1/cosigner/sign",{request:i,signer:n.auth});case 8:if(!(o=e.sent).data.signatures[0]){e.next=13;break}i.setInfoKey("fuel_sig",o.data.signatures[0]),e.next=14;break;case 13:throw new Error("No signature returned from Fuel");case 14:return i.data.req=o.data.request,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(){function e(t){Object(s.a)(this,e),this.keyPrefix=t}return Object(c.a)(e,[{key:"write",value:function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem(this.storageKey(t),n);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem(this.storageKey(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem(this.storageKey(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"storageKey",value:function(e){return"".concat(this.keyPrefix,"-").concat(e)}}]),e}(),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),this.options=t,this.classPrefix=t.classPrefix||"anchor-link",this.injectStyles=!(!1===t.injectStyles),this.requestStatus=!(!1===t.requestStatus),this.fuelEnabled=!0!==t.disableGreymassFuel,this.storage=new f(t.storagePrefix||"anchor-link")}return Object(c.a)(e,[{key:"closeModal",value:function(){this.hide(),this.activeCancel&&(this.activeRequest=void 0,this.activeCancel("Modal closed"),this.activeCancel=void 0)}},{key:"setupElements",value:function(){var e=this;if(this.injectStyles&&!this.styleEl){this.styleEl=document.createElement("style"),this.styleEl.type="text/css";var t="\n/* Anchor Link */\n\n.%prefix% * {\n    box-sizing: border-box;\n    line-height: 1;\n}\n\n.%prefix% {\n    font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',\n        Arial, sans-serif;\n    font-size: 13px;\n    background: rgba(0, 0, 0, 0.65);\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 2147483647;\n    display: none;\n    align-items: center;\n    justify-content: center;\n}\n\n.%prefix%-active {\n    display: flex;\n}\n\n.%prefix%-inner {\n    background: #EFF1F7;\n    margin: 20px;\n    padding-top: 50px;\n    border-radius: 20px;\n    box-shadow: 0px 4px 100px rgba(0, 0, 0, .5);\n    width: 340px;\n    transition-property: all;\n    transition-duration: .5s;\n    transition-timing-function: ease-in-out;\n    position: relative;\n}\n\n.%prefix%-close {\n    display: block;\n    position: absolute;\n    top: 11px;\n    right: 16px;\n    width: 28px;\n    height: 28px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23007AFF'/%3E%3C/svg%3E\");\n    background-size: 14px;\n    background-repeat: no-repeat;\n    background-position: 50%;\n    border-radius: 100%;\n    cursor: pointer;\n}\n\n.%prefix%-close:hover {\n    background-color: white;\n}\n\n.%prefix%-logo {\n    width: 70px;\n    height: 70px;\n    margin: 0 auto;\n    margin-top: -56px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M18.81 9.19h33.25V59.5H18.81z'/%3E%3Cpath d='M38.45 28.88h-6.9L35 21.77l3.45 7.1z' fill='%233650A2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M35 70a35 35 0 100-70 35 35 0 000 70zm2.36-55.4a2.62 2.62 0 00-4.72 0L21.9 36.75h5.84l1.7-3.5h11.13l1.7 3.5h5.83L37.36 14.6zM48.13 44.2h-5.26a7.76 7.76 0 01-5.24 7v-10.5a2.62 2.62 0 10-5.25 0v10.5a7.76 7.76 0 01-5.25-7h-5.25c.16 7.06 6 12.69 13.12 12.69 7.12 0 12.97-5.63 13.13-12.7z' fill='%233650A2'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.loading {\n    border-radius: 100%;\n    background-color: #3650A2;\n    background-image: url(\"data:image/svg+xml,%3Csvg viewBox='0.5 0.5 45 45' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' transform='translate(1 1)' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='1.5s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='1.5s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='1.5s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='3s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='3s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='3s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='8'%3E%3Canimate attributeName='r' begin='0s' dur='1.5s' values='6;1;2;3;4;5;6' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.error {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%23FC3D39'/%3E%3Cpath fill='%23fff' d='M22.3 48h25.4c2.5 0 4-1.7 4-4a4 4 0 00-.5-2L38.5 19.3a4 4 0 00-3.5-2 4 4 0 00-3.5 2L18.8 42.1c-.3.6-.5 1.3-.5 2 0 2.2 1.6 4 4 4zM35 37c-.9 0-1.4-.6-1.4-1.5l-.2-7.7c0-.9.6-1.6 1.6-1.6s1.7.7 1.7 1.6l-.3 7.7c0 1-.5 1.5-1.4 1.5zm0 6c-1 0-1.9-.8-1.9-1.8s.9-1.8 2-1.8c1 0 1.8.7 1.8 1.8 0 1-.9 1.8-1.9 1.8z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.success {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%233DC55D'/%3E%3Cpath fill='%23fff' d='M30.9 49.7a2 2 0 001.8-1L48 24.9c.3-.5.4-1 .4-1.4 0-1-.7-1.7-1.7-1.7-.8 0-1.2.3-1.6 1L30.8 45.4 23.5 36c-.5-.6-1-.9-1.6-.9-1 0-1.8.8-1.8 1.8 0 .4.2.9.6 1.3L29 48.7c.6.7 1.1 1 1.9 1z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-request {\n    padding: 20px;\n    border-radius: 20px;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    background: white;\n}\n\n.%prefix%-info {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.%prefix%-title {\n    color: #000000;\n    font-size: 25px;\n    margin-top: 14px;\n    font-weight: bold;\n    line-height: 30px;\n}\n\n.%prefix%-subtitle {\n    margin: 14px 0;\n    color: #5C5C5C;\n    text-align: center;\n    line-height: 1.3;\n}\n\n.%prefix%-actions {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.%prefix%-uri {\n    width: 100%;\n}\n\n.%prefix%-uri a {\n    color: #007AFF;\n    background: #EFF1F7;\n    text-decoration: none;\n    font-size: 17px;\n    flex-grow: 1;\n    flex: 1;\n    width: 100%;\n    line-height: 1;\n    padding: 20px 18px;\n    border-radius: 12px;\n    font-weight: 400;\n    text-align: center;\n    display: block;\n    margin-top: 1em;\n}\n\n.%prefix%-qr {\n    margin-top: 1em;\n}\n\n.%prefix%-qr svg {\n    width: 100%;\n}\n\n.%prefix%-footnote {\n    text-align: center;\n\n    width: 100%;\n    position: absolute;\n    bottom: -26px;\n    left: 0;\n    color: white;\n}\n\n.%prefix%-footnote a {\n    color: white;\n}\n\n\n\n@media (prefers-color-scheme: dark) {\n    .%prefix%-inner {\n        background: #262D43;\n        color: white;\n    }\n    .%prefix%-request {\n        background: #131B33;\n    }\n    .%prefix%-title {\n        color: #FCFCFC;\n    }\n    .%prefix%-subtitle {\n        color: #B8C0DA;\n    }\n    .%prefix%-qr svg path {\n        fill: #131B33;\n    }\n    .%prefix%-qr svg path:last-child {\n        stroke: white;\n    }\n    .%prefix%-uri a {\n        color: #FCFCFC;\n        background: #262D43;\n    }\n    .%prefix%-close {\n        background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23FCFCFC'/%3E%3C/svg%3E\");\n    }\n    .%prefix%-close:hover {\n        background-color: black;\n    }\n}\n".replace(/%prefix%/g,this.classPrefix);this.styleEl.appendChild(document.createTextNode(t)),document.head.appendChild(this.styleEl)}if(this.containerEl||(this.containerEl=this.createEl(),this.containerEl.className=this.classPrefix,this.containerEl.onclick=function(t){t.target===e.containerEl&&(t.stopPropagation(),e.closeModal())},document.body.appendChild(this.containerEl)),!this.requestEl){var n=this.createEl({class:"inner"}),r=this.createEl({class:"close"});r.onclick=function(t){t.stopPropagation(),e.closeModal()},this.requestEl=this.createEl({class:"request"}),n.appendChild(this.requestEl),n.appendChild(r),this.containerEl.appendChild(n)}}},{key:"createEl",value:function(e){e||(e={});var t=document.createElement(e.tag||"div");if(e)for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],i=e[a];switch(a){case"tag":break;case"text":t.appendChild(document.createTextNode(i));break;case"class":t.className="".concat(this.classPrefix,"-").concat(i);break;default:t.setAttribute(a,i)}}return t}},{key:"hide",value:function(){this.containerEl&&this.containerEl.classList.remove("".concat(this.classPrefix,"-active")),this.clearTimers()}},{key:"show",value:function(){this.containerEl&&this.containerEl.classList.add("".concat(this.classPrefix,"-active"))}},{key:"displayRequest",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,s,c,u,l,h,p,d,f,m,v,b,x,k,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setupElements(),(n=t.clone()).setInfoKey("same_device",!0),n.setInfoKey("return_path",y()),r=n.encode(!0,!1),i=t.encode(!0,!1),s=t.isIdentity(),c=s?"Login":"Sign",u="Scan the QR-code with your Anchor app.",l=this.createEl({class:"qr"}),e.prev=10,e.next=13,o.toString(i,{margin:0,errorCorrectionLevel:"L"});case 13:l.innerHTML=e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.warn("Unable to generate QR code",e.t0);case 19:h=this.createEl({class:"uri"}),(p=this.createEl({tag:"a",href:i,text:"Open Anchor app"})).addEventListener("click",(function(e){e.preventDefault(),window.location.href=r})),h.appendChild(p),d=this.createEl({class:"info"}),f=this.createEl({class:"title",tag:"span",text:c}),m=this.createEl({class:"subtitle",tag:"span",text:u}),d.appendChild(f),d.appendChild(m),(v=this.createEl({class:"actions"})).appendChild(l),v.appendChild(h),s?(b=this.createEl({class:"footnote",text:"Don't have Anchor? "}),x=this.createEl({tag:"a",target:"_blank",href:"https://greymass.com/anchor",text:"Download Anchor app now"}),b.appendChild(x)):(b=this.createEl({class:"footnote",text:"Anchor signing is brought to you by "}),k=this.createEl({tag:"a",target:"_blank",href:"https://greymass.com",text:"Greymass"}),b.appendChild(k)),g(this.requestEl),w=this.createEl({class:"logo"}),this.requestEl.appendChild(w),this.requestEl.appendChild(d),this.requestEl.appendChild(v),this.requestEl.appendChild(b),this.show();case 39:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"showLoading",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setupElements(),g(this.requestEl),t=this.createEl({class:"info"}),n=this.createEl({class:"title",tag:"span",text:"Loading"}),r=this.createEl({class:"subtitle",tag:"span",text:"Preparing request..."}),this.prepareStatusEl=r,t.appendChild(n),t.appendChild(r),i=this.createEl({class:"logo loading"}),this.requestEl.appendChild(i),this.requestEl.appendChild(t),this.show();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRequest",value:function(e,t){this.activeRequest=e,this.activeCancel=t,this.displayRequest(e).catch(t)}},{key:"onSessionRequest",value:function(e,t,n){if(e.metadata.sameDevice&&t.setInfoKey("return_path",y()),"fallback"===e.type)return this.onRequest(t,n),void(e.metadata.sameDevice&&(window.location.href=t.encode()));this.activeRequest=t,this.activeCancel=n,this.setupElements();var r=e.metadata.timeout||12e4,a=e.metadata.name,i=Date.now(),s=this.createEl({class:"title",tag:"span",text:"Sign"}),c=function(){var e=r+i-Date.now(),t=e>0?new Date(e).toISOString().substr(14,5):"00:00";s.textContent="Sign - ".concat(t)};this.countdownTimer=setInterval(c,500),c();var o,u=this.createEl({class:"info"});u.appendChild(s),o=a&&a.length>0?"Please open Anchor app on \u201c".concat(a,"\u201d to review and sign the transaction."):"Please review and sign the transaction in the linked wallet.";var l=this.createEl({class:"subtitle",tag:"span",text:o});u.appendChild(l),g(this.requestEl);var h=this.createEl({class:"logo"});this.requestEl.appendChild(h),this.requestEl.appendChild(u),this.show(),/iP(ad|od|hone)/i.test(navigator.userAgent)&&e.metadata.sameDevice&&(window.location.href="anchor://link")}},{key:"clearTimers",value:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=void 0),this.countdownTimer&&(clearTimeout(this.countdownTimer),this.countdownTimer=void 0)}},{key:"updatePrepareStatus",value:function(e){this.prepareStatusEl&&(this.prepareStatusEl.textContent=e)}},{key:"prepare",value:function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.showLoading(),this.fuelEnabled&&n&&!t.isIdentity()){e.next=3;break}return e.abrupt("return",t);case 3:return e.prev=3,r=p(t,n,this.updatePrepareStatus.bind(this)),i=new Promise((function(e){return setTimeout(e,3500)})).then((function(){throw new Error("Fuel API timeout after 3500ms")})),e.next=8,Promise.race([r,i]);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(3),console.info("Not applying fuel (".concat(e.t0.message,")"));case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onSuccess",value:function(e){var t=this;if(e===this.activeRequest)if(this.clearTimers(),this.requestStatus){this.setupElements();var n=this.createEl({class:"info"}),r=this.createEl({class:"logo"});r.classList.add("success");var a=this.createEl({class:"title",tag:"span",text:"Success!"}),i=e.isIdentity()?"Identity signed.":"Transaction signed.",s=this.createEl({class:"subtitle",tag:"span",text:i});n.appendChild(a),n.appendChild(s),g(this.requestEl),this.requestEl.appendChild(r),this.requestEl.appendChild(n),this.show(),this.closeTimer=setTimeout((function(){t.hide()}),1500)}else this.hide()}},{key:"onFailure",value:function(e,t){if(e===this.activeRequest&&"E_CANCEL"!==t.code)if(this.clearTimers(),this.requestStatus){this.setupElements();var n=this.createEl({class:"info"}),r=this.createEl({class:"logo"});r.classList.add("error");var a=this.createEl({class:"title",tag:"span",text:"Transaction error"}),i=this.createEl({class:"subtitle",tag:"span",text:t.message||String(t)});n.appendChild(a),n.appendChild(i),g(this.requestEl),this.requestEl.appendChild(r),this.requestEl.appendChild(n),this.show()}else this.hide()}}]),e}();function g(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",b=v.length;function y(){for(var e=window.location.href.split("#")[0]+"#",t=0;t<8;t++)e+=v.charAt(Math.floor(Math.random()*b));return e}}},[[458,152,153]]]);
//# sourceMappingURL=main.549c4503.chunk.js.map