{"version":3,"sources":["../../src/link-session.ts","../../../eosjs-ecc/lib/key_public.js","../../../eosjs-ecc/lib/key_utils.js","../../../eosjs-ecc/lib/key_private.js","../../src/link.ts","../../src/link-options.ts","assets/jungle.png","../../../eosjs-ecc/lib/aes.js","../../../eosjs-ecc/lib/signature.js","../../../eosjs-ecc/lib/enforce_types.js","../../ual-anchor/dist/interfaces.js","../../ual-anchor/dist/AnchorUser.js","../../ual-anchor/dist/UALAnchorError.js","../../ual-scatter/dist/interfaces.js","../../ual-scatter/dist/ScatterUser.js","../../ual-scatter/dist/UALScatterError.js","../../ual-anchor/dist/index.js","../../src/link-abi-data.ts","../../ual-scatter/dist/index.js","assets/eos.png","assets/fio.svg","assets/proton.png","assets/telos.png","assets/wax.png","../../src/errors.ts","../../ual-anchor/dist/Anchor.js","../../src/index.ts","../../../eosjs-ecc/lib/api_common.js","../../../eosjs-ecc/lib/promise-async.js","../../../eosjs-ecc/lib/ecdsa.js","../../../eosjs-ecc/lib/ecsignature.js","../../../eosjs-ecc/lib/api_object.js","../../ual-anchor/dist/AnchorLogo.js","../../ual-scatter/dist/Scatter.js","../../ual-scatter/dist/scatterLogo.js","../../src/utils.ts","../../../eosjs-ecc/lib/index.js","../../../eosjs-ecc/lib/hash.js","Accounts.js","Blockchains.js","Response.js","Main.js","App.js","serviceWorker.js","index.js","../../src/styles.ts"],"names":["serialize","type","data","metadata","this","link","transport","onSuccess","_interopRequireDefault","require","_slicedToArray2","_typeof2","assert","ecurve","BigInteger","secp256k1","getCurveByName","hash","keyUtils","G","n","PublicKey","Q","pubkey_prefix","arguments","length","undefined","publicKey","fromString","Buffer","isBuffer","fromBuffer","toBuffer","compressed","getEncoded","toString","checkEncode","toUncompressed","buf","point","Point","decodeFrom","fromPoint","child","offset","console","error","equal","concat","sha256","c","compareTo","Error","cG","multiply","Qprime","add","isInfinity","toHex","module","exports","isValid","pubkey","e","fromBinary","bin","buffer","public_key","fromStringOrThrow","match","prefix_match","RegExp","test","substring","checkDecode","_match","keyType","keyString","fromHex","hex","fromStringHex","base58","randomBytes","random32ByteBuffer","_ref","_ref$cpuEntropyBits","cpuEntropyBits","_ref$safe","safe","_entropyCount","hash_array","push","from","cpuEntropy","externalEntropyArray","browserEntropy","addEntropy","_len","ints","Array","_key","_i","_ints","i","pos","entropyPos","i2","entropyCount","newCheck","decode","checksum","slice","key","check","ripemd160","keyBuffer","encode","_checksum","collected","lastCount","lowEntropySamples","count","floatingPointCount","delta","Math","abs","bits","floor","log2","pct","Number","toFixed","warn","d","Date","now","x","sin","sqrt","log","LN2","entropyStr","join","window","screen","height","width","colorDepth","availHeight","availWidth","pixelDepth","navigator","language","location","history","mimeType","mimeTypes","description","suffixes","entropy","start_t","_toConsumableArray2","createHash","promiseAsync","PrivateKey","isBigInteger","TypeError","toWif","private_key","toPublic","getSharedSecret","KB","KBP","fromAffine","r","S","affineX","size","sha512","getChildKey","name","update","digest","parseKey","privateStr","versionKey","version","readUInt8","privateKey","format","fromSeed","seed","isWif","text","fromWif","str","randomKey","initialize","then","unsafeRandomKey","Promise","resolve","initialized","pvt","pvtError","pub","doesNotThrow","unitTest","apply","cb","msg","message","ByteBuffer","crypto","Long","crypt","nonce","toLongObj","ebuf","DEFAULT_CAPACITY","LITTLE_ENDIAN","writeUint64","append","copy","toBinary","encryption_key","iv","cbuf","readUint32","toBinaryBuffer","decipher","createDecipheriv","cryptoJsDecrypt","cipher","createCipheriv","cryptoJsEncrypt","uniqueNonce","unique_nonce_entropy","b","Uint8Array","parseInt","_long","fromNumber","shiftLeft","or","encrypt","decrypt","o","isLong","ecdsa","curve","Signature","s","verify","encoding","verifyHash","dataSha256","recover","recoverHash","recoverPubKey","writeUInt8","signatureCache","verifyHex","verifyBuffer","recoverPublicKey","recoverPublicKeyFromBuffer","sign","signHash","der","ecsignature","lenR","lenS","toDER","calcPubKeyRecoveryParam","signature","getName","fn","value","isArray","constructor","Object","defineProperty","Name","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","next","rejected","result","done","universal_authenticator_library_1","eosjs_1","UALAnchorError_1","AnchorUser","chain","session","accountName","requestPermission","auth","actor","permission","rpcEndpoint","rpcEndpoints","rpcEndpointString","protocol","host","port","rpc","JsonRpc","transaction","broadcast","blocksBehind","expireSeconds","tx","actions","keys","transact","completedTransaction","returnEosjsTransaction","_","UALAnchorError","UALErrorType","Unsupported","challenge","chainId","signatureProvider","getAvailableKeys","DataRequest","cause","get_account","account","actualKeys","extractAccountKeys","getKeys","authorizationKeys","filter","indexOf","Validation","keySubsets","permissions","map","required_auth","keySubset","User","interfaces_1","UALError","elliptic_1","eosjs_jssig_1","UALScatterError_1","KeyType","Numeric","ec","ScatterUser","scatter","buildRpcEndpoint","network","blockchain","api","eos","Api","setTimeout","authenticate","getArbitrarySignature","refreshIdentity","getIdentity","accounts","identity","UALScatterError","getPublicKey","myKeys","resolvedValue","f","ellipticSignature","toElliptic","ellipticHashedStringAsBuffer","ellipticRecoveredPublicKey","recoveryParam","ellipticPublicKey","keyFromPublic","fromElliptic","k1","__export","m","p","hasOwnProperty","types","structs","base","fields","ricardian_clauses","error_messages","tables","abi_extensions","reason","__importDefault","mod","__esModule","anchor_link_1","AnchorUser_1","AnchorLogo_1","anchor_link_browser_transport_1","Anchor","chains","options","users","service","appName","Initialization","default","requestStatus","listSessions","sessions","restoreSession","icon","AnchorLogo","textColor","background","isLoading","login","Login","user","removeSession","reset","Authenticator","ecc","seedPrivate","privateToPublic","wif","isValidPublic","isValidPrivate","resultEncoding","func","args","err","enforceType","ECSignature","deterministicGenerateK","checkSig","k","v","fill","HmacSHA256","T","signum","verifyRaw","modInverse","u1","u2","R","multiplyTwo","equals","strictEqual","isYOdd","pointFromX","nR","eNeg","negate","rInv","validate","N_OVER_TWO","shiftRight","subtract","rBa","toDERInteger","sBa","sequence","unshift","toCompact","toScriptSignature","hashType","hashTypeBuffer","parseCompact","fromDER","rLen","sLen","rB","sB","fromDERInteger","parseScriptSignature","hashTypeMod","Aes","key_utils","core_1","eosjs2_1","scatterLogo_1","ScatterUser_1","Scatter","scatterIsLoading","initError","plugins","connect","ScatterJS","init","scatterLogo","isMobile","logout","Logout","userAgent","isIOS","includes","isAndroid","isCustom","toLowerCase","commonApi","objectApi","assign","createHmac","sha1","secret","Debug","props","activeUser","Table","Header","Row","HeaderCell","collapsing","Body","isCurrent","active","current","authority","values","Cell","Button","color","content","disabled","onClick","setSession","textAlign","colSpan","Footer","fullWidth","basic","fluid","addAccount","primary","Component","logoMap","eosLogo","fioLogo","jungleLogo","protonLogo","telosLogo","waxLogo","blockchains","image","avatar","src","Blockchains","Dropdown","onChange","placeholder","search","selection","Transaction","response","Fragment","Segment","style","dividing","borderBottom","showLineNumbers","theme","monokai","wrapLines","displayDataTypes","displayObjectSize","enableClipboard","iconStyle","payload","marginTop","overflow","signatures","signer","App","ual","showModal","signTransaction","a","setState","authorization","producers","proxy","voter","state","prevProps","prevState","Container","paddingTop","attached","block","Subheader","href","padded","setChainId","Accounts","Response","withUAL","getAuthenticators","Ledger","URLSearchParams","get","find","authenticators","Main","Boolean","hostname","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.0b3f2db4.chunk.js","sourcesContent":["import { SessionError } from './errors';\nimport { abiEncode, sealMessage } from './utils';\n/**\n * Type describing a link session that can create a eosjs compatible\n * signature provider and transact for a specific auth.\n */\nexport class LinkSession {\n    /**\n     * Convenience, remove this session from associated [[Link]] storage if set.\n     * Equivalent to:\n     * ```ts\n     * session.link.removeSession(session.identifier, session.auth)\n     * ```\n     */\n    async remove() {\n        if (this.link.storage) {\n            await this.link.removeSession(this.identifier, this.auth);\n        }\n    }\n    /** Restore a previously serialized session. */\n    static restore(link, data) {\n        switch (data.type) {\n            case 'channel':\n                return new LinkChannelSession(link, data.data, data.metadata);\n            case 'fallback':\n                return new LinkFallbackSession(link, data.data, data.metadata);\n            default:\n                throw new Error('Unable to restore, session data invalid');\n        }\n    }\n}\n/**\n * Link session that pushes requests over a channel.\n * @internal\n */\nexport class LinkChannelSession extends LinkSession {\n    constructor(link, data, metadata) {\n        super();\n        this.type = 'channel';\n        this.timeout = 2 * 60 * 1000; // ms\n        this.link = link;\n        this.auth = data.auth;\n        this.publicKey = data.publicKey;\n        this.channel = data.channel;\n        this.identifier = data.identifier;\n        this.encrypt = (request) => {\n            return sealMessage(request.encode(true, false), data.requestKey, data.channel.key);\n        };\n        this.metadata = {\n            ...(metadata || {}),\n            timeout: this.timeout,\n            name: this.channel.name,\n        };\n        this.serialize = () => ({\n            type: 'channel',\n            data,\n            metadata: this.metadata,\n        });\n    }\n    onSuccess(request, result) {\n        if (this.link.transport.onSuccess) {\n            this.link.transport.onSuccess(request, result);\n        }\n    }\n    onFailure(request, error) {\n        if (this.link.transport.onFailure) {\n            this.link.transport.onFailure(request, error);\n        }\n    }\n    onRequest(request, cancel) {\n        const info = {\n            expiration: new Date(Date.now() + this.timeout).toISOString().slice(0, -1),\n        };\n        if (this.link.transport.onSessionRequest) {\n            this.link.transport.onSessionRequest(this, request, cancel);\n        }\n        setTimeout(() => {\n            cancel(new SessionError('Wallet did not respond in time', 'E_TIMEOUT'));\n        }, this.timeout + 500);\n        request.data.info.push({\n            key: 'link',\n            value: abiEncode(info, 'link_info'),\n        });\n        this.link.rpc\n            .fetchBuiltin(this.channel.url, {\n            method: 'POST',\n            headers: {\n                'X-Buoy-Wait': (this.timeout / 1000).toFixed(0),\n            },\n            body: this.encrypt(request),\n        })\n            .then((response) => {\n            if (response.status !== 200) {\n                cancel(new SessionError('Unable to push message', 'E_DELIVERY'));\n            }\n            else {\n                // request delivered\n            }\n        })\n            .catch((error) => {\n            cancel(new SessionError(`Unable to reach link service (${error.message || String(error)})`, 'E_DELIVERY'));\n        });\n    }\n    makeSignatureProvider() {\n        return this.link.makeSignatureProvider([this.publicKey], this);\n    }\n    makeAuthorityProvider() {\n        return this.link.makeAuthorityProvider();\n    }\n    transact(args) {\n        return this.link.transact(args, this);\n    }\n}\n/**\n * Link session that sends every request over the transport.\n * @internal\n */\nexport class LinkFallbackSession extends LinkSession {\n    constructor(link, data, metadata) {\n        super();\n        this.type = 'fallback';\n        this.link = link;\n        this.auth = data.auth;\n        this.publicKey = data.publicKey;\n        this.metadata = metadata || {};\n        this.identifier = data.identifier;\n        this.serialize = () => ({\n            type: this.type,\n            data,\n            metadata: this.metadata,\n        });\n    }\n    onSuccess(request, result) {\n        if (this.link.transport.onSuccess) {\n            this.link.transport.onSuccess(request, result);\n        }\n    }\n    onFailure(request, error) {\n        if (this.link.transport.onFailure) {\n            this.link.transport.onFailure(request, error);\n        }\n    }\n    onRequest(request, cancel) {\n        if (this.link.transport.onSessionRequest) {\n            this.link.transport.onSessionRequest(this, request, cancel);\n        }\n        else {\n            this.link.transport.onRequest(request, cancel);\n        }\n    }\n    makeSignatureProvider() {\n        return this.link.makeSignatureProvider([this.publicKey], this);\n    }\n    makeAuthorityProvider() {\n        return this.link.makeAuthorityProvider();\n    }\n    transact(args) {\n        return this.link.transact(args, this);\n    }\n}\n//# sourceMappingURL=link-session.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar assert = require('assert');\n\nvar ecurve = require('ecurve');\n\nvar BigInteger = require('bigi');\n\nvar secp256k1 = ecurve.getCurveByName('secp256k1');\n\nvar hash = require('./hash');\n\nvar keyUtils = require('./key_utils');\n\nvar G = secp256k1.G;\nvar n = secp256k1.n;\nmodule.exports = PublicKey;\n/**\n  @param {string|Buffer|PublicKey|ecurve.Point} public key\n  @param {string} [pubkey_prefix = 'EOS']\n*/\n\nfunction PublicKey(Q) {\n  var pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n\n  if (typeof Q === 'string') {\n    var publicKey = PublicKey.fromString(Q, pubkey_prefix);\n    assert(publicKey != null, 'Invalid public key');\n    return publicKey;\n  } else if (Buffer.isBuffer(Q)) {\n    return PublicKey.fromBuffer(Q);\n  } else if ((0, _typeof2[\"default\"])(Q) === 'object' && Q.Q) {\n    return PublicKey(Q.Q);\n  }\n\n  assert.equal((0, _typeof2[\"default\"])(Q), 'object', 'Invalid public key');\n  assert.equal((0, _typeof2[\"default\"])(Q.compressed), 'boolean', 'Invalid public key');\n\n  function toBuffer() {\n    var compressed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Q.compressed;\n    return Q.getEncoded(compressed);\n  }\n\n  var pubdata; // cache\n  // /**\n  //     @todo secp224r1\n  //     @return {string} PUB_K1_base58pubkey..\n  // */\n  // function toString() {\n  //     if(pubdata) {\n  //         return pubdata\n  //     }\n  //     pubdata = `PUB_K1_` + keyUtils.checkEncode(toBuffer(), 'K1')\n  //     return pubdata;\n  // }\n\n  /** @todo rename to toStringLegacy\n   * @arg {string} [pubkey_prefix = 'EOS'] - public key prefix\n  */\n\n  function toString() {\n    var pubkey_prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'EOS';\n    return pubkey_prefix + keyUtils.checkEncode(toBuffer());\n  }\n\n  function toUncompressed() {\n    var buf = Q.getEncoded(false);\n    var point = ecurve.Point.decodeFrom(secp256k1, buf);\n    return PublicKey.fromPoint(point);\n  }\n  /** @deprecated */\n\n\n  function child(offset) {\n    console.error('Deprecated warning: PublicKey.child');\n    assert(Buffer.isBuffer(offset), \"Buffer required: offset\");\n    assert.equal(offset.length, 32, \"offset length\");\n    offset = Buffer.concat([toBuffer(), offset]);\n    offset = hash.sha256(offset);\n    var c = BigInteger.fromBuffer(offset);\n    if (c.compareTo(n) >= 0) throw new Error(\"Child offset went out of bounds, try again\");\n    var cG = G.multiply(c);\n    var Qprime = Q.add(cG);\n    if (secp256k1.isInfinity(Qprime)) throw new Error(\"Child offset derived to an invalid key, try again\");\n    return PublicKey.fromPoint(Qprime);\n  }\n\n  function toHex() {\n    return toBuffer().toString('hex');\n  }\n\n  return {\n    Q: Q,\n    toString: toString,\n    // toStringLegacy,\n    toUncompressed: toUncompressed,\n    toBuffer: toBuffer,\n    child: child,\n    toHex: toHex\n  };\n}\n/**\n  @param {string|Buffer|PublicKey|ecurve.Point} pubkey - public key\n  @param {string} [pubkey_prefix = 'EOS']\n*/\n\n\nPublicKey.isValid = function (pubkey) {\n  var pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n\n  try {\n    PublicKey(pubkey, pubkey_prefix);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nPublicKey.fromBinary = function (bin) {\n  return PublicKey.fromBuffer(new Buffer(bin, 'binary'));\n};\n\nPublicKey.fromBuffer = function (buffer) {\n  return PublicKey(ecurve.Point.decodeFrom(secp256k1, buffer));\n};\n\nPublicKey.fromPoint = function (point) {\n  return PublicKey(point);\n};\n/**\n    @arg {string} public_key - like PUB_K1_base58pubkey..\n    @arg {string} [pubkey_prefix = 'EOS'] - public key prefix\n    @return PublicKey or `null` (invalid)\n*/\n\n\nPublicKey.fromString = function (public_key) {\n  var pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n\n  try {\n    return PublicKey.fromStringOrThrow(public_key, pubkey_prefix);\n  } catch (e) {\n    return null;\n  }\n};\n/**\n    @arg {string} public_key - like PUB_K1_base58pubkey..\n    @arg {string} [pubkey_prefix = 'EOS'] - public key prefix\n\n    @throws {Error} if public key is invalid\n\n    @return PublicKey\n*/\n\n\nPublicKey.fromStringOrThrow = function (public_key) {\n  var pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n  assert.equal((0, _typeof2[\"default\"])(public_key), 'string', 'public_key');\n  var match = public_key.match(/^PUB_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);\n\n  if (match === null) {\n    // legacy\n    var prefix_match = new RegExp(\"^\" + pubkey_prefix);\n\n    if (prefix_match.test(public_key)) {\n      public_key = public_key.substring(pubkey_prefix.length);\n    }\n\n    return PublicKey.fromBuffer(keyUtils.checkDecode(public_key));\n  }\n\n  assert(match.length === 3, 'Expecting public key like: PUB_K1_base58pubkey..');\n\n  var _match = (0, _slicedToArray2[\"default\"])(match, 3),\n      keyType = _match[1],\n      keyString = _match[2];\n\n  assert.equal(keyType, 'K1', 'K1 private key expected');\n  return PublicKey.fromBuffer(keyUtils.checkDecode(keyString, keyType));\n};\n\nPublicKey.fromHex = function (hex) {\n  return PublicKey.fromBuffer(new Buffer(hex, 'hex'));\n};\n\nPublicKey.fromStringHex = function (hex) {\n  return PublicKey.fromString(new Buffer(hex, 'hex'));\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar base58 = require('bs58');\n\nvar assert = require('assert');\n\nvar randomBytes = require('randombytes');\n\nvar hash = require('./hash');\n\nmodule.exports = {\n  random32ByteBuffer: random32ByteBuffer,\n  addEntropy: addEntropy,\n  cpuEntropy: cpuEntropy,\n  entropyCount: function entropyCount() {\n    return _entropyCount;\n  },\n  checkDecode: checkDecode,\n  checkEncode: checkEncode\n};\nvar entropyPos = 0,\n    _entropyCount = 0;\nvar externalEntropyArray = randomBytes(101);\n/**\n    Additional forms of entropy are used.  A week random number generator can run out of entropy.  This should ensure even the worst random number implementation will be reasonably safe.\n\n    @arg {number} [cpuEntropyBits = 0] generate entropy on the fly.  This is\n    not required, entropy can be added in advanced via addEntropy or initialize().\n\n    @arg {boolean} [safe = true] false for testing, otherwise this will be\n    true to ensure initialize() was called.\n\n    @return a random buffer obtained from the secure random number generator.  Additional entropy is used.\n*/\n\nfunction random32ByteBuffer() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$cpuEntropyBits = _ref.cpuEntropyBits,\n      cpuEntropyBits = _ref$cpuEntropyBits === void 0 ? 0 : _ref$cpuEntropyBits,\n      _ref$safe = _ref.safe,\n      safe = _ref$safe === void 0 ? true : _ref$safe;\n\n  assert.equal((0, _typeof2[\"default\"])(cpuEntropyBits), 'number', 'cpuEntropyBits');\n  assert.equal((0, _typeof2[\"default\"])(safe), 'boolean', 'boolean');\n\n  if (safe) {\n    assert(_entropyCount >= 128, 'Call initialize() to add entropy');\n  } // if(entropyCount > 0) {\n  //     console.log(`Additional private key entropy: ${entropyCount} events`)\n  // }\n\n\n  var hash_array = [];\n  hash_array.push(randomBytes(32));\n  hash_array.push(Buffer.from(cpuEntropy(cpuEntropyBits)));\n  hash_array.push(externalEntropyArray);\n  hash_array.push(browserEntropy());\n  return hash.sha256(Buffer.concat(hash_array));\n}\n/**\n    Adds entropy.  This may be called many times while the amount of data saved\n    is accumulatively reduced to 101 integers.  Data is retained in RAM for the\n    life of this module.\n\n    @example React <code>\n    componentDidMount() {\n        this.refs.MyComponent.addEventListener(\"mousemove\", this.onEntropyEvent, {capture: false, passive: true})\n    }\n    componentWillUnmount() {\n        this.refs.MyComponent.removeEventListener(\"mousemove\", this.onEntropyEvent);\n    }\n    onEntropyEvent = (e) => {\n        if(e.type === 'mousemove')\n            key_utils.addEntropy(e.pageX, e.pageY, e.screenX, e.screenY)\n        else\n            console.log('onEntropyEvent Unknown', e.type, e)\n    }\n    </code>\n*/\n\n\nfunction addEntropy() {\n  assert.equal(externalEntropyArray.length, 101, 'externalEntropyArray');\n\n  for (var _len = arguments.length, ints = new Array(_len), _key = 0; _key < _len; _key++) {\n    ints[_key] = arguments[_key];\n  }\n\n  _entropyCount += ints.length;\n\n  for (var _i = 0, _ints = ints; _i < _ints.length; _i++) {\n    var i = _ints[_i];\n    var pos = entropyPos++ % 101;\n    var i2 = externalEntropyArray[pos] += i;\n    if (i2 > 9007199254740991) externalEntropyArray[pos] = 0;\n  }\n}\n/**\n    This runs in just under 1 second and ensures a minimum of cpuEntropyBits\n    bits of entropy are gathered.\n\n    Based on more-entropy. @see https://github.com/keybase/more-entropy/blob/master/src/generator.iced\n\n    @arg {number} [cpuEntropyBits = 128]\n    @return {array} counts gathered by measuring variations in the CPU speed during floating point operations.\n*/\n\n\nfunction cpuEntropy() {\n  var cpuEntropyBits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 128;\n  var collected = [];\n  var lastCount = null;\n  var lowEntropySamples = 0;\n\n  while (collected.length < cpuEntropyBits) {\n    var count = floatingPointCount();\n\n    if (lastCount != null) {\n      var delta = count - lastCount;\n\n      if (Math.abs(delta) < 1) {\n        lowEntropySamples++;\n        continue;\n      } // how many bits of entropy were in this sample\n\n\n      var bits = Math.floor(log2(Math.abs(delta)) + 1);\n\n      if (bits < 4) {\n        if (bits < 2) {\n          lowEntropySamples++;\n        }\n\n        continue;\n      }\n\n      collected.push(delta);\n    }\n\n    lastCount = count;\n  }\n\n  if (lowEntropySamples > 10) {\n    var pct = Number(lowEntropySamples / cpuEntropyBits * 100).toFixed(2); // Is this algorithm getting inefficient?\n\n    console.warn(\"WARN: \".concat(pct, \"% low CPU entropy re-sampled\"));\n  }\n\n  return collected;\n}\n/**\n    @private\n    Count while performing floating point operations during a fixed time\n    (7 ms for example).  Using a fixed time makes this algorithm\n    predictable in runtime.\n*/\n\n\nfunction floatingPointCount() {\n  var workMinMs = 7;\n  var d = Date.now();\n  var i = 0,\n      x = 0;\n\n  while (Date.now() < d + workMinMs + 1) {\n    x = Math.sin(Math.sqrt(Math.log(++i + x)));\n  }\n\n  return i;\n}\n\nvar log2 = function log2(x) {\n  return Math.log(x) / Math.LN2;\n};\n/**\n    @private\n    Attempt to gather and hash information from the browser's window, history, and supported mime types.  For non-browser environments this simply includes secure random data.  In any event, the information is re-hashed in a loop for 25 milliseconds seconds.\n\n    @return {Buffer} 32 bytes\n*/\n\n\nfunction browserEntropy() {\n  var entropyStr = Array(randomBytes(101)).join();\n\n  try {\n    entropyStr += new Date().toString() + \" \" + window.screen.height + \" \" + window.screen.width + \" \" + window.screen.colorDepth + \" \" + \" \" + window.screen.availHeight + \" \" + window.screen.availWidth + \" \" + window.screen.pixelDepth + navigator.language + \" \" + window.location + \" \" + window.history.length;\n\n    for (var i = 0, mimeType; i < navigator.mimeTypes.length; i++) {\n      mimeType = navigator.mimeTypes[i];\n      entropyStr += mimeType.description + \" \" + mimeType.type + \" \" + mimeType.suffixes + \" \";\n    }\n  } catch (error) {\n    //nodejs:ReferenceError: window is not defined\n    entropyStr += hash.sha256(new Date().toString());\n  }\n\n  var b = new Buffer(entropyStr);\n  entropyStr += b.toString('binary') + \" \" + new Date().toString();\n  var entropy = entropyStr;\n  var start_t = Date.now();\n\n  while (Date.now() - start_t < 25) {\n    entropy = hash.sha256(entropy);\n  }\n\n  return entropy;\n}\n/**\n  @arg {Buffer} keyBuffer data\n  @arg {string} keyType = sha256x2, K1, etc\n  @return {string} checksum encoded base58 string\n*/\n\n\nfunction checkEncode(keyBuffer) {\n  var keyType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  assert(Buffer.isBuffer(keyBuffer), 'expecting keyBuffer<Buffer>');\n\n  if (keyType === 'sha256x2') {\n    // legacy\n    var checksum = hash.sha256(hash.sha256(keyBuffer)).slice(0, 4);\n    return base58.encode(Buffer.concat([keyBuffer, checksum]));\n  } else {\n    var check = [keyBuffer];\n\n    if (keyType) {\n      check.push(Buffer.from(keyType));\n    }\n\n    var _checksum = hash.ripemd160(Buffer.concat(check)).slice(0, 4);\n\n    return base58.encode(Buffer.concat([keyBuffer, _checksum]));\n  }\n}\n/**\n  @arg {Buffer} keyString data\n  @arg {string} keyType = sha256x2, K1, etc\n  @return {string} checksum encoded base58 string\n*/\n\n\nfunction checkDecode(keyString) {\n  var keyType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  assert(keyString != null, 'private key expected');\n  var buffer = new Buffer(base58.decode(keyString));\n  var checksum = buffer.slice(-4);\n  var key = buffer.slice(0, -4);\n  var newCheck;\n\n  if (keyType === 'sha256x2') {\n    // legacy\n    newCheck = hash.sha256(hash.sha256(key)).slice(0, 4); // WIF (legacy)\n  } else {\n    var check = [key];\n\n    if (keyType) {\n      check.push(Buffer.from(keyType));\n    }\n\n    newCheck = hash.ripemd160(Buffer.concat(check)).slice(0, 4); //PVT\n  }\n\n  if (checksum.toString('hex') !== newCheck.toString('hex')) {\n    throw new Error('Invalid checksum, ' + \"\".concat(checksum.toString('hex'), \" != \").concat(newCheck.toString('hex')));\n  }\n\n  return key;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar ecurve = require('ecurve');\n\nvar Point = ecurve.Point;\nvar secp256k1 = ecurve.getCurveByName('secp256k1');\n\nvar BigInteger = require('bigi');\n\nvar assert = require('assert');\n\nvar hash = require('./hash');\n\nvar PublicKey = require('./key_public');\n\nvar keyUtils = require('./key_utils');\n\nvar createHash = require('create-hash');\n\nvar promiseAsync = require('./promise-async');\n\nvar G = secp256k1.G;\nvar n = secp256k1.n;\nmodule.exports = PrivateKey;\n/**\n  @typedef {string} wif - https://en.bitcoin.it/wiki/Wallet_import_format\n  @typedef {string} pubkey - EOSKey..\n  @typedef {ecurve.Point} Point\n*/\n\n/**\n  @param {BigInteger} d\n*/\n\nfunction PrivateKey(d) {\n  if (typeof d === 'string') {\n    return PrivateKey.fromString(d);\n  } else if (Buffer.isBuffer(d)) {\n    return PrivateKey.fromBuffer(d);\n  } else if ((0, _typeof2[\"default\"])(d) === 'object' && BigInteger.isBigInteger(d.d)) {\n    return PrivateKey(d.d);\n  }\n\n  if (!BigInteger.isBigInteger(d)) {\n    throw new TypeError('Invalid private key');\n  }\n  /** @return {string} private key like PVT_K1_base58privatekey.. */\n\n\n  function toString() {\n    // todo, use PVT_K1_\n    // return 'PVT_K1_' + keyUtils.checkEncode(toBuffer(), 'K1')\n    return toWif();\n  }\n  /**\n      @return  {wif}\n  */\n\n\n  function toWif() {\n    var private_key = toBuffer(); // checksum includes the version\n\n    private_key = Buffer.concat([new Buffer([0x80]), private_key]);\n    return keyUtils.checkEncode(private_key, 'sha256x2');\n  }\n\n  var public_key;\n  /**\n      @return {Point}\n  */\n\n  function toPublic() {\n    if (public_key) {\n      // cache\n      // S L O W in the browser\n      return public_key;\n    }\n\n    var Q = secp256k1.G.multiply(d);\n    return public_key = PublicKey.fromPoint(Q);\n  }\n\n  function toBuffer() {\n    return d.toBuffer(32);\n  }\n  /**\n    ECIES\n    @arg {string|Object} pubkey wif, PublicKey object\n    @return {Buffer} 64 byte shared secret\n  */\n\n\n  function getSharedSecret(public_key) {\n    public_key = PublicKey(public_key);\n    var KB = public_key.toUncompressed().toBuffer();\n    var KBP = Point.fromAffine(secp256k1, BigInteger.fromBuffer(KB.slice(1, 33)), // x\n    BigInteger.fromBuffer(KB.slice(33, 65)) // y\n    );\n    var r = toBuffer();\n    var P = KBP.multiply(BigInteger.fromBuffer(r));\n    var S = P.affineX.toBuffer({\n      size: 32\n    }); // SHA512 used in ECIES\n\n    return hash.sha512(S);\n  } // /** ECIES TODO unit test\n  //   @arg {string|Object} pubkey wif, PublicKey object\n  //   @return {Buffer} 64 byte shared secret\n  // */\n  // function getSharedSecret(public_key) {\n  //     public_key = PublicKey(public_key).toUncompressed()\n  //     var P = public_key.Q.multiply( d );\n  //     var S = P.affineX.toBuffer({size: 32});\n  //     // ECIES, adds an extra sha512\n  //     return hash.sha512(S);\n  // }\n\n  /**\n    @arg {string} name - child key name.\n    @return {PrivateKey}\n     @example activePrivate = masterPrivate.getChildKey('owner').getChildKey('active')\n    @example activePrivate.getChildKey('mycontract').getChildKey('myperm')\n  */\n\n\n  function getChildKey(name) {\n    // console.error('WARNING: getChildKey untested against eosd'); // no eosd impl yet\n    var index = createHash('sha256').update(toBuffer()).update(name).digest();\n    return PrivateKey(index);\n  }\n\n  function toHex() {\n    return toBuffer().toString('hex');\n  }\n\n  return {\n    d: d,\n    toWif: toWif,\n    toString: toString,\n    toPublic: toPublic,\n    toBuffer: toBuffer,\n    getSharedSecret: getSharedSecret,\n    getChildKey: getChildKey\n  };\n}\n/** @private */\n\n\nfunction parseKey(privateStr) {\n  assert.equal((0, _typeof2[\"default\"])(privateStr), 'string', 'privateStr');\n  var match = privateStr.match(/^PVT_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);\n\n  if (match === null) {\n    // legacy WIF - checksum includes the version\n    var versionKey = keyUtils.checkDecode(privateStr, 'sha256x2');\n    var version = versionKey.readUInt8(0);\n    assert.equal(0x80, version, \"Expected version \".concat(0x80, \", instead got \", version));\n\n    var _privateKey = PrivateKey.fromBuffer(versionKey.slice(1));\n\n    var _keyType = 'K1';\n    var format = 'WIF';\n    return {\n      privateKey: _privateKey,\n      format: format,\n      keyType: _keyType\n    };\n  }\n\n  assert(match.length === 3, 'Expecting private key like: PVT_K1_base58privateKey..');\n\n  var _match = (0, _slicedToArray2[\"default\"])(match, 3),\n      keyType = _match[1],\n      keyString = _match[2];\n\n  assert.equal(keyType, 'K1', 'K1 private key expected');\n  var privateKey = PrivateKey.fromBuffer(keyUtils.checkDecode(keyString, keyType));\n  return {\n    privateKey: privateKey,\n    format: 'PVT',\n    keyType: keyType\n  };\n}\n\nPrivateKey.fromHex = function (hex) {\n  return PrivateKey.fromBuffer(new Buffer(hex, 'hex'));\n};\n\nPrivateKey.fromBuffer = function (buf) {\n  if (!Buffer.isBuffer(buf)) {\n    throw new Error(\"Expecting parameter to be a Buffer type\");\n  }\n\n  if (buf.length === 33 && buf[32] === 1) {\n    // remove compression flag\n    buf = buf.slice(0, -1);\n  }\n\n  if (32 !== buf.length) {\n    throw new Error(\"Expecting 32 bytes, instead got \".concat(buf.length));\n  }\n\n  return PrivateKey(BigInteger.fromBuffer(buf));\n};\n/**\n    @arg {string} seed - any length string.  This is private, the same seed\n    produces the same private key every time.\n\n    @return {PrivateKey}\n*/\n\n\nPrivateKey.fromSeed = function (seed) {\n  // generate_private_key\n  if (!(typeof seed === 'string')) {\n    throw new Error('seed must be of type string');\n  }\n\n  return PrivateKey.fromBuffer(hash.sha256(seed));\n};\n/**\n  @arg {wif} key\n  @return {boolean} true if key is in the Wallet Import Format\n*/\n\n\nPrivateKey.isWif = function (text) {\n  try {\n    assert(parseKey(text).format === 'WIF');\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n/**\n  @arg {wif|Buffer|PrivateKey} key\n  @return {boolean} true if key is convertable to a private key object.\n*/\n\n\nPrivateKey.isValid = function (key) {\n  try {\n    PrivateKey(key);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n/** @deprecated */\n\n\nPrivateKey.fromWif = function (str) {\n  console.log('PrivateKey.fromWif is deprecated, please use PrivateKey.fromString');\n  return PrivateKey.fromString(str);\n};\n/**\n    @throws {AssertError|Error} parsing key\n    @arg {string} privateStr Eosio or Wallet Import Format (wif) -- a secret\n*/\n\n\nPrivateKey.fromString = function (privateStr) {\n  return parseKey(privateStr).privateKey;\n};\n/**\n  Create a new random private key.\n\n  Call initialize() first to run some self-checking code and gather some CPU\n  entropy.\n\n  @arg {number} [cpuEntropyBits = 0] - additional CPU entropy, this already\n  happens once so it should not be needed again.\n\n  @return {Promise<PrivateKey>} - random private key\n*/\n\n\nPrivateKey.randomKey = function () {\n  var cpuEntropyBits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return PrivateKey.initialize().then(function () {\n    return PrivateKey.fromBuffer(keyUtils.random32ByteBuffer({\n      cpuEntropyBits: cpuEntropyBits\n    }));\n  });\n};\n/**\n  @return {Promise<PrivateKey>} for testing, does not require initialize().\n*/\n\n\nPrivateKey.unsafeRandomKey = function () {\n  return Promise.resolve(PrivateKey.fromBuffer(keyUtils.random32ByteBuffer({\n    safe: false\n  })));\n};\n\nvar initialized = false,\n    unitTested = false;\n/**\n  Run self-checking code and gather CPU entropy.\n\n  Initialization happens once even if called multiple times.\n\n  @return {Promise}\n*/\n\nfunction initialize() {\n  if (initialized) {\n    return;\n  }\n\n  unitTest();\n  keyUtils.addEntropy.apply(keyUtils, (0, _toConsumableArray2[\"default\"])(keyUtils.cpuEntropy()));\n  assert(keyUtils.entropyCount() >= 128, 'insufficient entropy');\n  initialized = true;\n}\n\nPrivateKey.initialize = promiseAsync(initialize);\n/**\n  Unit test basic private and public key functionality.\n\n  @throws {AssertError}\n*/\n\nfunction unitTest() {\n  var pvt = PrivateKey(hash.sha256(''));\n  var pvtError = 'key comparison test failed on a known private key';\n  assert.equal(pvt.toWif(), '5KYZdUEo39z3FPrtuX2QbbwGnNP5zTd7yyr2SC1j299sBCnWjss', pvtError);\n  assert.equal(pvt.toString(), '5KYZdUEo39z3FPrtuX2QbbwGnNP5zTd7yyr2SC1j299sBCnWjss', pvtError); // assert.equal(pvt.toString(), 'PVT_K1_2jH3nnhxhR3zPUcsKaWWZC9ZmZAnKm3GAnFD1xynGJE1Znuvjd', pvtError)\n\n  var pub = pvt.toPublic();\n  var pubError = 'pubkey string comparison test failed on a known public key';\n  assert.equal(pub.toString(), 'EOS859gxfnXyUriMgUeThh1fWv3oqcpLFyHa3TfFYC4PK2HqhToVM', pubError); // assert.equal(pub.toString(), 'PUB_K1_859gxfnXyUriMgUeThh1fWv3oqcpLFyHa3TfFYC4PK2Ht7beeX', pubError)\n  // assert.equal(pub.toStringLegacy(), 'EOS859gxfnXyUriMgUeThh1fWv3oqcpLFyHa3TfFYC4PK2HqhToVM', pubError)\n\n  doesNotThrow(function () {\n    return PrivateKey.fromString(pvt.toWif());\n  }, 'converting known wif from string');\n  doesNotThrow(function () {\n    return PrivateKey.fromString(pvt.toString());\n  }, 'converting known pvt from string');\n  doesNotThrow(function () {\n    return PublicKey.fromString(pub.toString());\n  }, 'converting known public key from string'); // doesNotThrow(() => PublicKey.fromString(pub.toStringLegacy()), 'converting known public key from string')\n\n  unitTested = true;\n}\n/** @private */\n\n\nvar doesNotThrow = function doesNotThrow(cb, msg) {\n  try {\n    cb();\n  } catch (error) {\n    error.message = \"\".concat(msg, \" ==> \").concat(error.message);\n    throw error;\n  }\n};","import * as esr from 'eosio-signing-request';\nimport { JsonRpc } from 'eosjs';\nimport * as ecc from 'eosjs-ecc';\nimport makeFetch from 'fetch-ponyfill';\nimport WebSocket from 'isomorphic-ws';\nimport zlib from 'pako';\nimport { v4 as uuid } from 'uuid';\nimport { CancelError, IdentityError } from './errors';\nimport { defaults } from './link-options';\nimport { LinkChannelSession, LinkFallbackSession, LinkSession, } from './link-session';\nimport { abiEncode, generatePrivateKey, normalizePublicKey, publicKeyEqual } from './utils';\n/** @internal */\nconst fetch = makeFetch().fetch;\n/**\n * Main class, also exposed as the default export of the library.\n *\n * Example:\n *\n * ```ts\n * import AnchorLink from 'anchor-link'\n * import ConsoleTransport from 'anchor-link-console-transport'\n *\n * const link = new AnchorLink({\n *     transport: new ConsoleTransport()\n * })\n *\n * const result = await link.transact({actions: myActions, broadcast: true})\n * ```\n */\nexport class Link {\n    /** Create a new link instance. */\n    constructor(options) {\n        this.abiCache = new Map();\n        if (typeof options !== 'object') {\n            throw new TypeError('Missing options object');\n        }\n        if (!options.transport) {\n            throw new TypeError('options.transport is required, see https://github.com/greymass/anchor-link#transports');\n        }\n        if (options.rpc === undefined || typeof options.rpc === 'string') {\n            this.rpc = new JsonRpc(options.rpc || defaults.rpc, { fetch: fetch });\n        }\n        else {\n            this.rpc = options.rpc;\n        }\n        if (options.chainId) {\n            this.chainId =\n                typeof options.chainId === 'number'\n                    ? esr.nameToId(options.chainId)\n                    : options.chainId;\n        }\n        else {\n            this.chainId = defaults.chainId;\n        }\n        this.serviceAddress = (options.service || defaults.service).trim().replace(/\\/$/, '');\n        this.transport = options.transport;\n        if (options.storage !== null) {\n            this.storage = options.storage || this.transport.storage;\n        }\n        this.requestOptions = {\n            abiProvider: this,\n            textDecoder: options.textDecoder || new TextDecoder(),\n            textEncoder: options.textEncoder || new TextEncoder(),\n            zlib,\n        };\n    }\n    /**\n     * Fetch the ABI for given account, cached.\n     * @internal\n     */\n    async getAbi(account) {\n        let rv = this.abiCache.get(account);\n        if (!rv) {\n            rv = (await this.rpc.get_abi(account)).abi;\n            if (rv) {\n                this.abiCache.set(account, rv);\n            }\n        }\n        return rv;\n    }\n    /**\n     * Create a new unique buoy callback url.\n     * @internal\n     */\n    createCallbackUrl() {\n        return `${this.serviceAddress}/${uuid()}`;\n    }\n    /**\n     * Create a SigningRequest instance configured for this link.\n     * @internal\n     */\n    async createRequest(args) {\n        // generate unique callback url\n        const request = await esr.SigningRequest.create({\n            ...args,\n            chainId: this.chainId,\n            broadcast: false,\n            callback: {\n                url: this.createCallbackUrl(),\n                background: true,\n            },\n        }, this.requestOptions);\n        return request;\n    }\n    /**\n     * Send a SigningRequest instance using this link.\n     * @internal\n     */\n    async sendRequest(request, transport, broadcast = false) {\n        const t = transport || this.transport;\n        try {\n            const linkUrl = request.data.callback;\n            if (!linkUrl.startsWith(this.serviceAddress)) {\n                throw new Error('Request must have a link callback');\n            }\n            if (request.data.flags !== 2) {\n                throw new Error('Invalid request flags');\n            }\n            // wait for callback or user cancel\n            const ctx = {};\n            const socket = waitForCallback(linkUrl, ctx);\n            const cancel = new Promise((resolve, reject) => {\n                t.onRequest(request, (reason) => {\n                    if (ctx.cancel) {\n                        ctx.cancel();\n                    }\n                    if (typeof reason === 'string') {\n                        reject(new CancelError(reason));\n                    }\n                    else {\n                        reject(reason);\n                    }\n                });\n            });\n            const payload = await Promise.race([socket, cancel]);\n            const signer = {\n                actor: payload.sa,\n                permission: payload.sp,\n            };\n            const signatures = Object.keys(payload)\n                .filter((key) => key.startsWith('sig') && key !== 'sig0')\n                .map((key) => payload[key]);\n            // recreate transaction from request response\n            const resolved = await esr.ResolvedSigningRequest.fromPayload(payload, this.requestOptions);\n            const { serializedTransaction, transaction } = resolved;\n            const result = {\n                request: resolved.request,\n                serializedTransaction,\n                transaction,\n                signatures,\n                payload,\n                signer,\n            };\n            if (broadcast) {\n                const res = await this.rpc.push_transaction({\n                    signatures: result.signatures,\n                    serializedTransaction: result.serializedTransaction,\n                });\n                result.processed = res.processed;\n            }\n            if (t.onSuccess) {\n                t.onSuccess(request, result);\n            }\n            return result;\n        }\n        catch (error) {\n            if (t.onFailure) {\n                t.onFailure(request, error);\n            }\n            throw error;\n        }\n    }\n    /**\n     * Sign and optionally broadcast a EOSIO transaction, action or actions.\n     *\n     * Example:\n     *\n     * ```ts\n     * let result = await myLink.transact({transaction: myTx})\n     * ```\n     *\n     * @param args The transact arguments.\n     * @param transport Transport override, for internal use.\n     */\n    async transact(args, transport) {\n        const t = transport || this.transport;\n        const broadcast = args.broadcast || false;\n        const request = await this.createRequest(args);\n        const result = await this.sendRequest(request, t, broadcast);\n        return result;\n    }\n    /**\n     * Send an identity request and verify the identity proof.\n     * @param requestPermission Optional request permission if the request is for a specific account or permission.\n     * @param info Metadata to add to the request.\n     * @note This is for advanced use-cases, you probably want to use [[Link.login]] instead.\n     */\n    async identify(requestPermission, info) {\n        const request = await this.createRequest({\n            identity: { permission: requestPermission || null },\n            info,\n        });\n        const res = await this.sendRequest(request);\n        if (!res.request.isIdentity()) {\n            throw new IdentityError(`Unexpected response`);\n        }\n        const message = Buffer.concat([\n            Buffer.from(request.getChainId(), 'hex'),\n            Buffer.from(res.serializedTransaction),\n            Buffer.alloc(32),\n        ]);\n        const { signer } = res;\n        const signerKey = ecc.recover(res.signatures[0], message);\n        const account = await this.rpc.get_account(signer.actor);\n        if (!account) {\n            throw new IdentityError(`Signature from unknown account: ${signer.actor}`);\n        }\n        const permission = account.permissions.find(({ perm_name }) => perm_name === signer.permission);\n        if (!permission) {\n            throw new IdentityError(`${signer.actor} signed for unknown permission: ${signer.permission}`);\n        }\n        const auth = permission.required_auth;\n        const keyAuth = auth.keys.find(({ key }) => publicKeyEqual(key, signerKey));\n        if (!keyAuth) {\n            throw new IdentityError(`${formatAuth(signer)} has no key matching id signature`);\n        }\n        if (auth.threshold > keyAuth.weight) {\n            throw new IdentityError(`${formatAuth(signer)} signature does not reach auth threshold`);\n        }\n        if (requestPermission) {\n            if ((requestPermission.actor !== esr.PlaceholderName &&\n                requestPermission.actor !== signer.actor) ||\n                (requestPermission.permission !== esr.PlaceholderPermission &&\n                    requestPermission.permission !== signer.permission)) {\n                throw new IdentityError(`Unexpected identity proof from ${formatAuth(signer)}, expected ${formatAuth(requestPermission)} `);\n            }\n        }\n        return {\n            ...res,\n            account,\n            signerKey,\n        };\n    }\n    /**\n     * Login and create a persistent session.\n     * @param identifier The session identifier, an EOSIO name (`[a-z1-5]{1,12}`).\n     *                   Should be set to the contract account if applicable.\n     */\n    async login(identifier) {\n        const privateKey = await generatePrivateKey();\n        const requestKey = ecc.privateToPublic(privateKey);\n        const createInfo = {\n            session_name: identifier,\n            request_key: requestKey,\n        };\n        const res = await this.identify(undefined, {\n            link: abiEncode(createInfo, 'link_create'),\n        });\n        const metadata = { sameDevice: res.request.getRawInfo()['return_path'] !== undefined };\n        let session;\n        if (res.payload.link_ch && res.payload.link_key && res.payload.link_name) {\n            session = new LinkChannelSession(this, {\n                identifier,\n                auth: res.signer,\n                publicKey: res.signerKey,\n                channel: {\n                    url: res.payload.link_ch,\n                    key: res.payload.link_key,\n                    name: res.payload.link_name,\n                },\n                requestKey: privateKey,\n            }, metadata);\n        }\n        else {\n            session = new LinkFallbackSession(this, {\n                identifier,\n                auth: res.signer,\n                publicKey: res.signerKey,\n            }, metadata);\n        }\n        if (this.storage) {\n            await this.storeSession(identifier, session);\n        }\n        return {\n            ...res,\n            session,\n        };\n    }\n    /**\n     * Restore previous session, see [[Link.login]] to create a new session.\n     * @param identifier The session identifier, should be same as what was used when creating the session with [[Link.login]].\n     * @param auth A specific session auth to restore, if omitted the most recently used session will be restored.\n     * @returns A [[LinkSession]] instance or null if no session can be found.\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error retrieving the session data.\n     **/\n    async restoreSession(identifier, auth) {\n        if (!this.storage) {\n            throw new Error('Unable to restore session: No storage adapter configured');\n        }\n        let key;\n        if (auth) {\n            key = this.sessionKey(identifier, formatAuth(auth));\n        }\n        else {\n            let latest = (await this.listSessions(identifier))[0];\n            if (!latest) {\n                return null;\n            }\n            key = this.sessionKey(identifier, formatAuth(latest));\n        }\n        let data = await this.storage.read(key);\n        if (!data) {\n            return null;\n        }\n        let sessionData;\n        try {\n            sessionData = JSON.parse(data);\n        }\n        catch (error) {\n            throw new Error(`Unable to restore session: Stored JSON invalid (${error.message || String(error)})`);\n        }\n        const session = LinkSession.restore(this, sessionData);\n        if (auth) {\n            // update latest used\n            await this.touchSession(identifier, auth);\n        }\n        return session;\n    }\n    /**\n     * List stored session auths for given identifier.\n     * The most recently used session is at the top (index 0).\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error retrieving the session list.\n     **/\n    async listSessions(identifier) {\n        if (!this.storage) {\n            throw new Error('Unable to list sessions: No storage adapter configured');\n        }\n        let key = this.sessionKey(identifier, 'list');\n        let list;\n        try {\n            list = JSON.parse((await this.storage.read(key)) || '[]');\n        }\n        catch (error) {\n            throw new Error(`Unable to list sessions: Stored JSON invalid (${error.message || String(error)})`);\n        }\n        return list;\n    }\n    /**\n     * Remove stored session for given identifier and auth.\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error removing the session data.\n     */\n    async removeSession(identifier, auth) {\n        if (!this.storage) {\n            throw new Error('Unable to remove session: No storage adapter configured');\n        }\n        let key = this.sessionKey(identifier, formatAuth(auth));\n        await this.storage.remove(key);\n        await this.touchSession(identifier, auth, true);\n    }\n    /**\n     * Remove all stored sessions for given identifier.\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error removing the session data.\n     */\n    async clearSessions(identifier) {\n        if (!this.storage) {\n            throw new Error('Unable to clear sessions: No storage adapter configured');\n        }\n        for (const auth of await this.listSessions(identifier)) {\n            await this.removeSession(identifier, auth);\n        }\n    }\n    /**\n     * Create an eosjs compatible signature provider using this link.\n     * @param availableKeys Keys the created provider will claim to be able to sign for.\n     * @param transport (internal) Transport override for this call.\n     * @note We don't know what keys are available so those have to be provided,\n     *       to avoid this use [[LinkSession.makeSignatureProvider]] instead. Sessions can be created with [[Link.login]].\n     */\n    makeSignatureProvider(availableKeys, transport) {\n        return {\n            getAvailableKeys: async () => availableKeys,\n            sign: async (args) => {\n                const request = esr.SigningRequest.fromTransaction(args.chainId, args.serializedTransaction, this.requestOptions);\n                request.setCallback(this.createCallbackUrl(), true);\n                request.setBroadcast(false);\n                const { signatures } = await this.sendRequest(request, transport);\n                return {\n                    ...args,\n                    signatures,\n                };\n            },\n        };\n    }\n    /**\n     * Create an eosjs authority provider using this link.\n     * @note Uses the configured RPC Node's `/v1/chain/get_required_keys` API to resolve keys.\n     */\n    makeAuthorityProvider() {\n        const { rpc } = this;\n        return {\n            async getRequiredKeys(args) {\n                const { availableKeys, transaction } = args;\n                const result = await rpc.fetch('/v1/chain/get_required_keys', {\n                    transaction,\n                    available_keys: availableKeys.map(normalizePublicKey),\n                });\n                return result.required_keys.map(normalizePublicKey);\n            },\n        };\n    }\n    /** Makes sure session is in storage list of sessions and moves it to top (most recently used). */\n    async touchSession(identifier, auth, remove = false) {\n        let auths = await this.listSessions(identifier);\n        let formattedAuth = formatAuth(auth);\n        let existing = auths.findIndex((a) => formatAuth(a) === formattedAuth);\n        if (existing >= 0) {\n            auths.splice(existing, 1);\n        }\n        if (remove === false) {\n            auths.unshift(auth);\n        }\n        let key = this.sessionKey(identifier, 'list');\n        await this.storage.write(key, JSON.stringify(auths));\n    }\n    /** Makes sure session is in storage list of sessions and moves it to top (most recently used). */\n    async storeSession(identifier, session) {\n        let key = this.sessionKey(identifier, formatAuth(session.auth));\n        let data = JSON.stringify(session.serialize());\n        await this.storage.write(key, data);\n        await this.touchSession(identifier, session.auth);\n    }\n    /** Session storage key for identifier and suffix. */\n    sessionKey(identifier, suffix) {\n        return [this.chainId, identifier, suffix].join('-');\n    }\n}\n/**\n * Connect to a WebSocket channel and wait for a message.\n * @internal\n */\nfunction waitForCallback(url, ctx) {\n    return new Promise((resolve, reject) => {\n        let active = true;\n        let retries = 0;\n        const socketUrl = url.replace(/^http/, 'ws');\n        const handleResponse = (response) => {\n            try {\n                resolve(JSON.parse(response));\n            }\n            catch (error) {\n                error.message = 'Unable to parse callback JSON: ' + error.message;\n                reject(error);\n            }\n        };\n        const connect = () => {\n            const socket = new WebSocket(socketUrl);\n            ctx.cancel = () => {\n                active = false;\n                if (socket.readyState === WebSocket.OPEN ||\n                    socket.readyState === WebSocket.CONNECTING) {\n                    socket.close();\n                }\n            };\n            socket.onmessage = (event) => {\n                active = false;\n                if (socket.readyState === WebSocket.OPEN) {\n                    socket.close();\n                }\n                if (typeof Blob !== 'undefined' && event.data instanceof Blob) {\n                    const reader = new FileReader();\n                    reader.onload = () => {\n                        handleResponse(reader.result);\n                    };\n                    reader.onerror = (error) => {\n                        reject(error);\n                    };\n                    reader.readAsText(event.data);\n                }\n                else {\n                    if (typeof event.data === 'string') {\n                        handleResponse(event.data);\n                    }\n                    else {\n                        handleResponse(event.data.toString());\n                    }\n                }\n            };\n            socket.onopen = () => {\n                retries = 0;\n            };\n            socket.onerror = (error) => { };\n            socket.onclose = (close) => {\n                if (active) {\n                    setTimeout(connect, backoff(retries++));\n                }\n            };\n        };\n        connect();\n    });\n}\n/**\n * Exponential backoff function that caps off at 10s after 10 tries.\n * https://i.imgur.com/IrUDcJp.png\n * @internal\n */\nfunction backoff(tries) {\n    return Math.min(Math.pow(tries * 10, 2), 10 * 1000);\n}\n/**\n * Format a EOSIO permission level in the format `actor@permission` taking placeholders into consideration.\n * @internal\n */\nfunction formatAuth(auth) {\n    let { actor, permission } = auth;\n    if (actor === esr.PlaceholderName) {\n        actor = '<any>';\n    }\n    if (permission === esr.PlaceholderName || permission === esr.PlaceholderPermission) {\n        permission = '<any>';\n    }\n    return `${actor}@${permission}`;\n}\n//# sourceMappingURL=link.js.map","/** @internal */\nexport const defaults = {\n    chainId: 'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906',\n    rpc: 'https://eos.greymass.com',\n    service: 'https://cb.anchor.link',\n};\n//# sourceMappingURL=link-options.js.map","module.exports = __webpack_public_path__ + \"static/media/jungle.3f2409df.png\";","\"use strict\";\n\nvar randomBytes = require('randombytes');\n\nvar ByteBuffer = require('bytebuffer');\n\nvar crypto = require('browserify-aes');\n\nvar assert = require('assert');\n\nvar PublicKey = require('./key_public');\n\nvar PrivateKey = require('./key_private');\n\nvar hash = require('./hash');\n\nvar Long = ByteBuffer.Long;\nmodule.exports = {\n  encrypt: encrypt,\n  decrypt: decrypt\n};\n/**\n    Spec: http://localhost:3002/steem/@dantheman/how-to-encrypt-a-memo-when-transferring-steem\n\n    @throws {Error|TypeError} - \"Invalid Key, ...\"\n\n    @arg {PrivateKey} private_key - required and used for decryption\n    @arg {PublicKey} public_key - required and used to calcualte the shared secret\n    @arg {string} [nonce = uniqueNonce()] - assigned a random unique uint64\n\n    @return {object}\n    @property {string} nonce - random or unique uint64, provides entropy when re-using the same private/public keys.\n    @property {Buffer} message - Plain text message\n    @property {number} checksum - shared secret checksum\n*/\n\nfunction encrypt(private_key, public_key, message) {\n  var nonce = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : uniqueNonce();\n  return crypt(private_key, public_key, nonce, message);\n}\n/**\n    Spec: http://localhost:3002/steem/@dantheman/how-to-encrypt-a-memo-when-transferring-steem\n\n    @arg {PrivateKey} private_key - required and used for decryption\n    @arg {PublicKey} public_key - required and used to calcualte the shared secret\n    @arg {string} nonce - random or unique uint64, provides entropy when re-using the same private/public keys.\n    @arg {Buffer} message - Encrypted or plain text message\n    @arg {number} checksum - shared secret checksum\n\n    @throws {Error|TypeError} - \"Invalid Key, ...\"\n\n    @return {Buffer} - message\n*/\n\n\nfunction decrypt(private_key, public_key, nonce, message, checksum) {\n  return crypt(private_key, public_key, nonce, message, checksum).message;\n}\n/**\n    @arg {Buffer} message - Encrypted or plain text message (see checksum)\n    @arg {number} checksum - shared secret checksum (null to encrypt, non-null to decrypt)\n    @private\n*/\n\n\nfunction crypt(private_key, public_key, nonce, message, checksum) {\n  private_key = PrivateKey(private_key);\n  if (!private_key) throw new TypeError('private_key is required');\n  public_key = PublicKey(public_key);\n  if (!public_key) throw new TypeError('public_key is required');\n  nonce = toLongObj(nonce);\n  if (!nonce) throw new TypeError('nonce is required');\n\n  if (!Buffer.isBuffer(message)) {\n    if (typeof message !== 'string') throw new TypeError('message should be buffer or string');\n    message = new Buffer(message, 'binary');\n  }\n\n  if (checksum && typeof checksum !== 'number') throw new TypeError('checksum should be a number');\n  var S = private_key.getSharedSecret(public_key);\n  var ebuf = new ByteBuffer(ByteBuffer.DEFAULT_CAPACITY, ByteBuffer.LITTLE_ENDIAN);\n  ebuf.writeUint64(nonce);\n  ebuf.append(S.toString('binary'), 'binary');\n  ebuf = new Buffer(ebuf.copy(0, ebuf.offset).toBinary(), 'binary');\n  var encryption_key = hash.sha512(ebuf); // D E B U G\n  // console.log('crypt', {\n  //     priv_to_pub: private_key.toPublic().toString(),\n  //     pub: public_key.toString(),\n  //     nonce: nonce.toString(),\n  //     message: message.length,\n  //     checksum,\n  //     S: S.toString('hex'),\n  //     encryption_key: encryption_key.toString('hex'),\n  // })\n\n  var iv = encryption_key.slice(32, 48);\n  var key = encryption_key.slice(0, 32); // check is first 64 bit of sha256 hash treated as uint64_t truncated to 32 bits.\n\n  var check = hash.sha256(encryption_key);\n  check = check.slice(0, 4);\n  var cbuf = ByteBuffer.fromBinary(check.toString('binary'), ByteBuffer.DEFAULT_CAPACITY, ByteBuffer.LITTLE_ENDIAN);\n  check = cbuf.readUint32();\n\n  if (checksum) {\n    if (check !== checksum) throw new Error('Invalid key');\n    message = cryptoJsDecrypt(message, key, iv);\n  } else {\n    message = cryptoJsEncrypt(message, key, iv);\n  }\n\n  return {\n    nonce: nonce,\n    message: message,\n    checksum: check\n  };\n}\n/** This method does not use a checksum, the returned data must be validated some other way.\n\n    @arg {string|Buffer} message - ciphertext binary format\n    @arg {string<utf8>|Buffer} key - 256bit\n    @arg {string<utf8>|Buffer} iv - 128bit\n\n    @return {Buffer}\n*/\n\n\nfunction cryptoJsDecrypt(message, key, iv) {\n  assert(message, \"Missing cipher text\");\n  message = toBinaryBuffer(message);\n  var decipher = crypto.createDecipheriv('aes-256-cbc', key, iv); // decipher.setAutoPadding(true)\n\n  message = Buffer.concat([decipher.update(message), decipher[\"final\"]()]);\n  return message;\n}\n/** This method does not use a checksum, the returned data must be validated some other way.\n    @arg {string|Buffer} message - plaintext binary format\n    @arg {string<utf8>|Buffer} key - 256bit\n    @arg {string<utf8>|Buffer} iv - 128bit\n\n    @return {Buffer}\n*/\n\n\nfunction cryptoJsEncrypt(message, key, iv) {\n  assert(message, \"Missing plain text\");\n  message = toBinaryBuffer(message);\n  var cipher = crypto.createCipheriv('aes-256-cbc', key, iv); // cipher.setAutoPadding(true)\n\n  message = Buffer.concat([cipher.update(message), cipher[\"final\"]()]);\n  return message;\n}\n/** @return {string} unique 64 bit unsigned number string.  Being time based, this is careful to never choose the same nonce twice.  This value could be recorded in the blockchain for a long time.\n*/\n\n\nfunction uniqueNonce() {\n  if (unique_nonce_entropy === null) {\n    var b = new Uint8Array(randomBytes(2));\n    unique_nonce_entropy = parseInt(b[0] << 8 | b[1], 10);\n  }\n\n  var _long = Long.fromNumber(Date.now());\n\n  var entropy = ++unique_nonce_entropy % 0xFFFF; // console.log('uniqueNonce date\\t', ByteBuffer.allocate(8).writeUint64(long).toHex(0))\n  // console.log('uniqueNonce entropy\\t', ByteBuffer.allocate(8).writeUint64(Long.fromNumber(entropy)).toHex(0))\n\n  _long = _long.shiftLeft(16).or(Long.fromNumber(entropy)); // console.log('uniqueNonce final\\t', ByteBuffer.allocate(8).writeUint64(long).toHex(0))\n\n  return _long.toString();\n}\n\nvar unique_nonce_entropy = null; // for(let i=1; i < 10; i++) key.uniqueNonce()\n\nvar toLongObj = function toLongObj(o) {\n  return o ? Long.isLong(o) ? o : Long.fromString(o) : o;\n};\n\nvar toBinaryBuffer = function toBinaryBuffer(o) {\n  return o ? Buffer.isBuffer(o) ? o : new Buffer(o, 'binary') : o;\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar ecdsa = require('./ecdsa');\n\nvar hash = require('./hash');\n\nvar curve = require('ecurve').getCurveByName('secp256k1');\n\nvar assert = require('assert');\n\nvar BigInteger = require('bigi');\n\nvar keyUtils = require('./key_utils');\n\nvar PublicKey = require('./key_public');\n\nvar PrivateKey = require('./key_private');\n\nmodule.exports = Signature;\n\nfunction Signature(r, s, i) {\n  assert.equal(r != null, true, 'Missing parameter');\n  assert.equal(s != null, true, 'Missing parameter');\n  assert.equal(i != null, true, 'Missing parameter');\n  /**\n      Verify signed data.\n       @arg {String|Buffer} data - full data\n      @arg {pubkey|PublicKey} pubkey - EOSKey..\n      @arg {String} [encoding = 'utf8'] - data encoding (if data is a string)\n       @return {boolean}\n  */\n\n  function verify(data, pubkey) {\n    var encoding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'utf8';\n\n    if (typeof data === 'string') {\n      data = Buffer.from(data, encoding);\n    }\n\n    assert(Buffer.isBuffer(data), 'data is a required String or Buffer');\n    data = hash.sha256(data);\n    return verifyHash(data, pubkey);\n  }\n  /**\n      Verify a buffer of exactally 32 bytes in size (sha256(text))\n       @arg {String|Buffer} dataSha256 - 32 byte buffer or string\n      @arg {String|PublicKey} pubkey - EOSKey..\n      @arg {String} [encoding = 'hex'] - dataSha256 encoding (if string)\n       @return {boolean}\n  */\n\n\n  function verifyHash(dataSha256, pubkey) {\n    var encoding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'hex';\n\n    if (typeof dataSha256 === 'string') {\n      dataSha256 = Buffer.from(dataSha256, encoding);\n    }\n\n    if (dataSha256.length !== 32 || !Buffer.isBuffer(dataSha256)) throw new Error(\"dataSha256: 32 bytes required\");\n    var publicKey = PublicKey(pubkey);\n    assert(publicKey, 'pubkey required');\n    return ecdsa.verify(curve, dataSha256, {\n      r: r,\n      s: s\n    }, publicKey.Q);\n  }\n\n  ;\n  /** @deprecated\n       Verify hex data by converting to a buffer then hashing.\n       @return {boolean}\n  */\n\n  function verifyHex(hex, pubkey) {\n    console.log('Deprecated: use verify(data, pubkey, \"hex\")');\n    var buf = Buffer.from(hex, 'hex');\n    return verify(buf, pubkey);\n  }\n\n  ;\n  /**\n      Recover the public key used to create this signature using full data.\n       @arg {String|Buffer} data - full data\n      @arg {String} [encoding = 'utf8'] - data encoding (if string)\n       @return {PublicKey}\n  */\n\n  function recover(data) {\n    var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'utf8';\n\n    if (typeof data === 'string') {\n      data = Buffer.from(data, encoding);\n    }\n\n    console.log(data);\n    assert(Buffer.isBuffer(data), 'data is a required String or Buffer');\n    data = hash.sha256(data);\n    return recoverHash(data);\n  }\n\n  ;\n  /**\n      @arg {String|Buffer} dataSha256 - sha256 hash 32 byte buffer or hex string\n      @arg {String} [encoding = 'hex'] - dataSha256 encoding (if string)\n       @return {PublicKey}\n  */\n\n  function recoverHash(dataSha256) {\n    var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'hex';\n\n    if (typeof dataSha256 === 'string') {\n      dataSha256 = Buffer.from(dataSha256, encoding);\n    }\n\n    if (dataSha256.length !== 32 || !Buffer.isBuffer(dataSha256)) {\n      throw new Error(\"dataSha256: 32 byte String or buffer requred\");\n    }\n\n    var e = BigInteger.fromBuffer(dataSha256);\n    var i2 = i;\n    i2 -= 27;\n    i2 = i2 & 3;\n    var Q = ecdsa.recoverPubKey(curve, e, {\n      r: r,\n      s: s,\n      i: i\n    }, i2);\n    return PublicKey.fromPoint(Q);\n  }\n\n  ;\n\n  function toBuffer() {\n    var buf;\n    buf = new Buffer(65);\n    buf.writeUInt8(i, 0);\n    r.toBuffer(32).copy(buf, 1);\n    s.toBuffer(32).copy(buf, 33);\n    return buf;\n  }\n\n  ;\n\n  function toHex() {\n    return toBuffer().toString(\"hex\");\n  }\n\n  ;\n  var signatureCache;\n\n  function toString() {\n    if (signatureCache) {\n      return signatureCache;\n    }\n\n    signatureCache = 'SIG_K1_' + keyUtils.checkEncode(toBuffer(), 'K1');\n    return signatureCache;\n  }\n\n  return {\n    r: r,\n    s: s,\n    i: i,\n    toBuffer: toBuffer,\n    verify: verify,\n    verifyHash: verifyHash,\n    verifyHex: verifyHex,\n    // deprecated\n    recover: recover,\n    recoverHash: recoverHash,\n    toHex: toHex,\n    toString: toString,\n\n    /** @deprecated use verify (same arguments and return) */\n    verifyBuffer: function verifyBuffer() {\n      console.log('Deprecated: use signature.verify instead (same arguments)');\n      return verify.apply(void 0, arguments);\n    },\n\n    /** @deprecated use recover (same arguments and return) */\n    recoverPublicKey: function recoverPublicKey() {\n      console.log('Deprecated: use signature.recover instead (same arguments)');\n      return recover.apply(void 0, arguments);\n    },\n\n    /** @deprecated use recoverHash (same arguments and return) */\n    recoverPublicKeyFromBuffer: function recoverPublicKeyFromBuffer() {\n      console.log('Deprecated: use signature.recoverHash instead (same arguments)');\n      return recoverHash.apply(void 0, arguments);\n    }\n  };\n}\n/**\n    Hash and sign arbitrary data.\n\n    @arg {string|Buffer} data - full data\n    @arg {wif|PrivateKey} privateKey\n    @arg {String} [encoding = 'utf8'] - data encoding (if string)\n\n    @return {Signature}\n*/\n\n\nSignature.sign = function (data, privateKey) {\n  var encoding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'utf8';\n\n  if (typeof data === 'string') {\n    data = Buffer.from(data, encoding);\n  }\n\n  assert(Buffer.isBuffer(data), 'data is a required String or Buffer');\n  data = hash.sha256(data);\n  return Signature.signHash(data, privateKey);\n};\n/**\n    Sign a buffer of exactally 32 bytes in size (sha256(text))\n\n    @arg {string|Buffer} dataSha256 - 32 byte buffer or string\n    @arg {wif|PrivateKey} privateKey\n    @arg {String} [encoding = 'hex'] - dataSha256 encoding (if string)\n\n    @return {Signature}\n*/\n\n\nSignature.signHash = function (dataSha256, privateKey) {\n  var encoding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'hex';\n\n  if (typeof dataSha256 === 'string') {\n    dataSha256 = Buffer.from(dataSha256, encoding);\n  }\n\n  if (dataSha256.length !== 32 || !Buffer.isBuffer(dataSha256)) throw new Error(\"dataSha256: 32 byte buffer requred\");\n  privateKey = PrivateKey(privateKey);\n  assert(privateKey, 'privateKey required');\n  var der, e, ecsignature, i, lenR, lenS, nonce;\n  i = null;\n  nonce = 0;\n  e = BigInteger.fromBuffer(dataSha256);\n\n  while (true) {\n    ecsignature = ecdsa.sign(curve, dataSha256, privateKey.d, nonce++);\n    der = ecsignature.toDER();\n    lenR = der[3];\n    lenS = der[5 + lenR];\n\n    if (lenR === 32 && lenS === 32) {\n      i = ecdsa.calcPubKeyRecoveryParam(curve, e, ecsignature, privateKey.toPublic().Q);\n      i += 4; // compressed\n\n      i += 27; // compact  //  24 or 27 :( forcing odd-y 2nd key candidate)\n\n      break;\n    }\n\n    if (nonce % 10 === 0) {\n      console.log(\"WARN: \" + nonce + \" attempts to find canonical signature\");\n    }\n  }\n\n  return Signature(ecsignature.r, ecsignature.s, i);\n};\n\nSignature.fromBuffer = function (buf) {\n  var i, r, s;\n  assert(Buffer.isBuffer(buf), 'Buffer is required');\n  assert.equal(buf.length, 65, 'Invalid signature length');\n  i = buf.readUInt8(0);\n  assert.equal(i - 27, i - 27 & 7, 'Invalid signature parameter');\n  r = BigInteger.fromBuffer(buf.slice(1, 33));\n  s = BigInteger.fromBuffer(buf.slice(33));\n  return Signature(r, s, i);\n};\n\nSignature.fromHex = function (hex) {\n  return Signature.fromBuffer(Buffer.from(hex, \"hex\"));\n};\n/**\n    @arg {string} signature - like SIG_K1_base58signature..\n    @return {Signature} or `null` (invalid)\n*/\n\n\nSignature.fromString = function (signature) {\n  try {\n    return Signature.fromStringOrThrow(signature);\n  } catch (e) {\n    return null;\n  }\n};\n/**\n    @arg {string} signature - like SIG_K1_base58signature..\n    @throws {Error} invalid\n    @return {Signature}\n*/\n\n\nSignature.fromStringOrThrow = function (signature) {\n  assert.equal((0, _typeof2[\"default\"])(signature), 'string', 'signature');\n  var match = signature.match(/^SIG_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);\n  assert(match != null && match.length === 3, 'Expecting signature like: SIG_K1_base58signature..');\n\n  var _match = (0, _slicedToArray2[\"default\"])(match, 3),\n      keyType = _match[1],\n      keyString = _match[2];\n\n  assert.equal(keyType, 'K1', 'K1 signature expected');\n  return Signature.fromBuffer(keyUtils.checkDecode(keyString, keyType));\n};\n/**\n    @arg {String|Signature} o - hex string\n    @return {Signature}\n*/\n\n\nSignature.from = function (o) {\n  var signature = o ? o.r && o.s && o.i ? o : typeof o === 'string' && o.length === 130 ? Signature.fromHex(o) : typeof o === 'string' && o.length !== 130 ? Signature.fromStringOrThrow(o) : Buffer.isBuffer(o) ? Signature.fromBuffer(o) : null : o;\n  /*null or undefined*/\n\n  if (!signature) {\n    throw new TypeError('signature should be a hex string or buffer');\n  }\n\n  return signature;\n};","\"use strict\";\n\nmodule.exports = function enforce(type, value) {\n  // Copied from https://github.com/bitcoinjs/bitcoinjs-lib\n  switch (type) {\n    case 'Array':\n      {\n        if (Array.isArray(value)) return;\n        break;\n      }\n\n    case 'Boolean':\n      {\n        if (typeof value === 'boolean') return;\n        break;\n      }\n\n    case 'Buffer':\n      {\n        if (Buffer.isBuffer(value)) return;\n        break;\n      }\n\n    case 'Number':\n      {\n        if (typeof value === 'number') return;\n        break;\n      }\n\n    case 'String':\n      {\n        if (typeof value === 'string') return;\n        break;\n      }\n\n    default:\n      {\n        if (getName(value.constructor) === getName(type)) return;\n      }\n  }\n\n  throw new TypeError('Expected ' + (getName(type) || type) + ', got ' + value);\n};\n\nfunction getName(fn) {\n  // Why not fn.name: https://kangax.github.io/compat-table/es6/#function_name_property\n  var match = fn.toString().match(/function (.*?)\\(/);\n  return match ? match[1] : null;\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Name = 'Anchor';\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst universal_authenticator_library_1 = require(\"universal-authenticator-library\");\nconst eosjs_1 = require(\"eosjs\");\nconst UALAnchorError_1 = require(\"./UALAnchorError\");\nclass AnchorUser extends universal_authenticator_library_1.User {\n    constructor(chain, session) {\n        super();\n        this.accountName = '';\n        this.requestPermission = '';\n        this.chain = chain;\n        this.accountName = session.auth.actor;\n        this.requestPermission = session.auth.permission;\n        this.session = session;\n        const rpcEndpoint = this.chain.rpcEndpoints[0];\n        const rpcEndpointString = `${rpcEndpoint.protocol}://${rpcEndpoint.host}:${rpcEndpoint.port}`;\n        this.rpc = new eosjs_1.JsonRpc(rpcEndpointString);\n    }\n    signTransaction(transaction, { broadcast = true, blocksBehind = 3, expireSeconds = 30 }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // try {\n            const tx = {\n                broadcast,\n                blocksBehind,\n                expireSeconds,\n            };\n            if (transaction.actions.length === 1 && Object.keys(transaction).length === 1) {\n                tx.actions = transaction.actions;\n            }\n            else {\n                tx.transaction = transaction;\n            }\n            console.log(tx);\n            const completedTransaction = yield this.session.transact(tx);\n            console.log(completedTransaction);\n            console.log(this.returnEosjsTransaction(broadcast, completedTransaction));\n            return this.returnEosjsTransaction(broadcast, completedTransaction);\n            // } catch (e) {\n            //   const message = e.message ? e.message : 'Unable to sign transaction'\n            //   const type = UALErrorType.Signing\n            //   const cause = e\n            //   throw new UALAnchorError(message, type, cause)\n            // }\n        });\n    }\n    signArbitrary(publicKey, data, _) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"signArbitrary\", publicKey, data);\n            throw new UALAnchorError_1.UALAnchorError(`Anchor does not currently support signArbitrary`, universal_authenticator_library_1.UALErrorType.Unsupported, null);\n        });\n    }\n    verifyKeyOwnership(challenge) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"verifyKeyOwnership\", challenge);\n            throw new UALAnchorError_1.UALAnchorError(`Anchor does not currently support verifyKeyOwnership`, universal_authenticator_library_1.UALErrorType.Unsupported, null);\n        });\n    }\n    getAccountName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.accountName;\n        });\n    }\n    getChainId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.chain.chainId;\n        });\n    }\n    getKeys() {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"getKeys\");\n            try {\n                const keys = yield this.signatureProvider.getAvailableKeys(this.requestPermission);\n                return keys;\n            }\n            catch (error) {\n                const message = `Unable to getKeys for account ${this.accountName}.\n        Please make sure your wallet is running.`;\n                const type = universal_authenticator_library_1.UALErrorType.DataRequest;\n                const cause = error;\n                throw new UALAnchorError_1.UALAnchorError(message, type, cause);\n            }\n        });\n    }\n    isAccountValid() {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"isAccountValid\");\n            try {\n                const account = this.rpc && (yield this.rpc.get_account(this.accountName));\n                const actualKeys = this.extractAccountKeys(account);\n                const authorizationKeys = yield this.getKeys();\n                return actualKeys.filter((key) => {\n                    return authorizationKeys.indexOf(key) !== -1;\n                }).length > 0;\n            }\n            catch (e) {\n                if (e.constructor.name === 'UALAnchorError') {\n                    throw e;\n                }\n                const message = `Account validation failed for account ${this.accountName}.`;\n                const type = universal_authenticator_library_1.UALErrorType.Validation;\n                const cause = e;\n                throw new UALAnchorError_1.UALAnchorError(message, type, cause);\n            }\n        });\n    }\n    extractAccountKeys(account) {\n        console.log(\"extractAccountKeys\", account);\n        const keySubsets = account.permissions.map((permission) => permission.required_auth.keys.map((key) => key.key));\n        let keys = [];\n        for (const keySubset of keySubsets) {\n            keys = keys.concat(keySubset);\n        }\n        return keys;\n    }\n}\nexports.AnchorUser = AnchorUser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst universal_authenticator_library_1 = require(\"universal-authenticator-library\");\nconst interfaces_1 = require(\"./interfaces\");\nclass UALAnchorError extends universal_authenticator_library_1.UALError {\n    constructor(message, type, cause) {\n        super(message, type, cause, interfaces_1.Name);\n    }\n}\nexports.UALAnchorError = UALAnchorError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Name = 'Scatter';\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst eosjs_1 = require(\"eosjs\");\nconst elliptic_1 = require(\"elliptic\");\nconst eosjs_jssig_1 = require(\"eosjs/dist/eosjs-jssig\");\nconst universal_authenticator_library_1 = require(\"universal-authenticator-library\");\nconst UALScatterError_1 = require(\"./UALScatterError\");\nconst { KeyType } = eosjs_1.Numeric;\nconst ec = new elliptic_1.ec('secp256k1');\nclass ScatterUser extends universal_authenticator_library_1.User {\n    constructor(chain, scatter) {\n        super();\n        this.chain = chain;\n        this.scatter = scatter;\n        this.keys = [];\n        this.accountName = '';\n        const rpcEndpoint = this.chain.rpcEndpoints[0];\n        const rpcEndpointString = this.buildRpcEndpoint(rpcEndpoint);\n        this.rpc = new eosjs_1.JsonRpc(rpcEndpointString);\n        const network = {\n            blockchain: 'eos',\n            chainId: this.chain.chainId,\n            protocol: rpcEndpoint.protocol,\n            host: rpcEndpoint.host,\n            port: rpcEndpoint.port,\n        };\n        const rpc = this.rpc;\n        this.api = this.scatter.eos(network, eosjs_1.Api, { rpc });\n    }\n    signTransaction(transaction, { broadcast = true, blocksBehind = 3, expireSeconds = 30 }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // try {\n            console.log(transaction);\n            const completedTransaction = yield this.api.transact(transaction, { broadcast, blocksBehind, expireSeconds });\n            return this.returnEosjsTransaction(broadcast, completedTransaction);\n            // } catch (e) {\n            //   throw new UALScatterError(\n            //       'Unable to sign the given transaction',\n            //       UALErrorType.Signing,\n            //       e)\n            // }\n        });\n    }\n    verifyKeyOwnership(challenge) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    reject(new Error('verifyKeyOwnership failed'));\n                }, 1000);\n                this.authenticate(challenge, resolve);\n            });\n        });\n    }\n    signArbitrary(publicKey, data, _) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.scatter.getArbitrarySignature(publicKey, data);\n        });\n    }\n    getAccountName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.accountName) {\n                yield this.refreshIdentity();\n            }\n            return this.accountName;\n        });\n    }\n    getChainId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.chain.chainId;\n        });\n    }\n    getKeys() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.keys || this.keys.length === 0) {\n                yield this.refreshIdentity();\n            }\n            return this.keys;\n        });\n    }\n    refreshIdentity() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const rpcEndpoint = this.chain.rpcEndpoints[0];\n            try {\n                const identity = yield this.scatter.getIdentity({\n                    accounts: [{\n                            blockchain: 'eos',\n                            host: rpcEndpoint.host,\n                            port: rpcEndpoint.port,\n                            chainId: this.chain.chainId\n                        }]\n                });\n                this.keys = [identity.accounts[0].publicKey];\n                this.accountName = identity.accounts[0].name;\n            }\n            catch (e) {\n                throw new UALScatterError_1.UALScatterError('Unable load user\\'s identity', universal_authenticator_library_1.UALErrorType.DataRequest, e);\n            }\n        });\n    }\n    authenticate(challenge, resolve) {\n        this.scatter.authenticate(challenge).then((signature) => __awaiter(this, void 0, void 0, function* () {\n            const publicKey = this.getPublicKey(challenge, signature);\n            const myKeys = yield this.getKeys();\n            let resolvedValue = false;\n            for (const key of myKeys) {\n                if (key === publicKey) {\n                    resolvedValue = true;\n                }\n            }\n            resolve(resolvedValue);\n        }));\n    }\n    getPublicKey(challenge, signature) {\n        const ellipticSignature = eosjs_jssig_1.Signature.fromString(signature).toElliptic();\n        const ellipticHashedStringAsBuffer = Buffer.from(ec.hash().update(challenge).digest(), 'hex');\n        const ellipticRecoveredPublicKey = ec.recoverPubKey(ellipticHashedStringAsBuffer, ellipticSignature, ellipticSignature.recoveryParam, 'hex');\n        const ellipticPublicKey = ec.keyFromPublic(ellipticRecoveredPublicKey);\n        return eosjs_jssig_1.PublicKey.fromElliptic(ellipticPublicKey, KeyType.k1).toString();\n    }\n}\nexports.ScatterUser = ScatterUser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst universal_authenticator_library_1 = require(\"universal-authenticator-library\");\nconst interfaces_1 = require(\"./interfaces\");\nclass UALScatterError extends universal_authenticator_library_1.UALError {\n    constructor(message, type, cause) {\n        super(message, type, cause, interfaces_1.Name);\n    }\n}\nexports.UALScatterError = UALScatterError;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Anchor\"));\n__export(require(\"./AnchorUser\"));\n","export default {\n    version: 'eosio::abi/1.1',\n    types: [],\n    structs: [\n        {\n            name: 'sealed_message',\n            base: '',\n            fields: [\n                {\n                    name: 'from',\n                    type: 'public_key',\n                },\n                {\n                    name: 'nonce',\n                    type: 'uint64',\n                },\n                {\n                    name: 'ciphertext',\n                    type: 'bytes',\n                },\n                {\n                    name: 'checksum',\n                    type: 'uint32',\n                },\n            ],\n        },\n        {\n            name: 'link_create',\n            base: '',\n            fields: [\n                {\n                    name: 'session_name',\n                    type: 'name',\n                },\n                {\n                    name: 'request_key',\n                    type: 'public_key',\n                },\n            ],\n        },\n        {\n            name: 'link_info',\n            base: '',\n            fields: [\n                {\n                    name: 'expiration',\n                    type: 'time_point_sec',\n                },\n            ],\n        },\n    ],\n    actions: [],\n    ricardian_clauses: [],\n    error_messages: [],\n    tables: [],\n    abi_extensions: [],\n};\n//# sourceMappingURL=link-abi-data.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Scatter\"));\n__export(require(\"./ScatterUser\"));\n","module.exports = __webpack_public_path__ + \"static/media/eos.b3392955.png\";","module.exports = __webpack_public_path__ + \"static/media/fio.9ae02e71.svg\";","module.exports = __webpack_public_path__ + \"static/media/proton.c090f672.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wax.f02a31b4.png\";","/**\n * Error that is thrown if a [[LinkTransport]] cancels a request.\n * @internal\n */\nexport class CancelError extends Error {\n    constructor(reason) {\n        super(`User canceled request ${reason ? '(' + reason + ')' : ''}`);\n        this.code = 'E_CANCEL';\n    }\n}\n/**\n * Error that is thrown if an identity request fails to verify.\n * @internal\n */\nexport class IdentityError extends Error {\n    constructor(reason) {\n        super(`Unable to verify identity ${reason ? '(' + reason + ')' : ''}`);\n        this.code = 'E_IDENTITY';\n    }\n}\n/**\n * Error originating from a [[LinkSession]].\n * @internal\n */\nexport class SessionError extends Error {\n    constructor(reason, code) {\n        super(reason);\n        this.code = code;\n    }\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst universal_authenticator_library_1 = require(\"universal-authenticator-library\");\nconst anchor_link_1 = __importDefault(require(\"anchor-link\"));\nconst interfaces_1 = require(\"./interfaces\");\nconst AnchorUser_1 = require(\"./AnchorUser\");\nconst AnchorLogo_1 = require(\"./AnchorLogo\");\nconst UALAnchorError_1 = require(\"./UALAnchorError\");\nconst anchor_link_browser_transport_1 = __importDefault(require(\"anchor-link-browser-transport\"));\nclass Anchor extends universal_authenticator_library_1.Authenticator {\n    // private session?: LinkSession;\n    /**\n     * Anchor Constructor.\n     *\n     * @param chains\n     * @param options { appName } appName is a required option to use Scatter\n     */\n    constructor(chains, options) {\n        super(chains);\n        this.users = [];\n        console.log(\"constructor\", chains, options);\n        // Establish sessions for persistence\n        this.chainId = chains[0].chainId;\n        this.service = options.service || 'https://cb.anchor.link';\n        this.users = [];\n        if (options && options.appName) {\n            this.appName = options.appName;\n        }\n        else {\n            throw new UALAnchorError_1.UALAnchorError('Anchor requires the appName property to be set on the `options` argument.', universal_authenticator_library_1.UALErrorType.Initialization, null);\n        }\n        console.log(\"constructor\", this);\n    }\n    /**\n     * Called after `shouldRender` and should be used to handle any async actions required to initialize the authenticator\n     */\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"init\", this);\n            // establish anchor-link\n            const [chain] = this.chains;\n            const [rpc] = chain.rpcEndpoints;\n            this.link = new anchor_link_1.default({\n                chainId: this.chainId,\n                rpc: `${rpc.protocol}://${rpc.host}:${rpc.port}`,\n                service: this.service,\n                transport: new anchor_link_browser_transport_1.default({ requestStatus: false }),\n            });\n            // attempt to restore existing session\n            console.log(this);\n            const sessions = yield this.link.listSessions(this.appName);\n            console.log(\"sessions\", sessions);\n            // if (this.link.listSessions(this.appName))\n            const session = yield this.link.restoreSession(this.appName);\n            if (session) {\n                this.users = [new AnchorUser_1.AnchorUser(chain, session)];\n            }\n            console.log(\"users\", this.users);\n        });\n    }\n    /**\n     * Resets the authenticator to its initial, default state then calls `init` method\n     */\n    reset() {\n        console.log(\"reset\", this);\n        this.users = [];\n    }\n    /**\n     * Returns true if the authenticator has errored while initializing.\n     */\n    isErrored() {\n        console.log(\"isErrored\", this);\n        return false;\n    }\n    /**\n     * Returns a URL where the user can download and install the underlying authenticator\n     * if it is not found by the UAL Authenticator.\n     */\n    getOnboardingLink() {\n        console.log(\"getOnboardingLink\", this);\n        return 'https://github.com/greymass/anchor/';\n    }\n    /**\n     * Returns error (if available) if the authenticator has errored while initializing.\n     */\n    getError() {\n        console.log(\"getError\", this);\n        return null;\n    }\n    /**\n     * Returns true if the authenticator is loading while initializing its internal state.\n     */\n    isLoading() {\n        console.log(\"isLoading\", this);\n        return false;\n    }\n    /**\n     * Returns the style of the Button that will be rendered.\n     */\n    getStyle() {\n        console.log(\"getStyle\", this);\n        return {\n            icon: AnchorLogo_1.AnchorLogo,\n            text: interfaces_1.Name,\n            textColor: 'white',\n            background: '#3650A2'\n        };\n    }\n    /**\n     * Returns whether or not the button should render based on the operating environment and other factors.\n     * ie. If your Authenticator App does not support mobile, it returns false when running in a mobile browser.\n     */\n    shouldRender() {\n        console.log(\"shouldRender\", this);\n        return !this.isLoading();\n    }\n    /**\n     * Returns whether or not the dapp should attempt to auto login with the Authenticator app.\n     * Auto login will only occur when there is only one Authenticator that returns shouldRender() true and\n     * shouldAutoLogin() true.\n     */\n    shouldAutoLogin() {\n        console.log(\"shouldAutoLogin\", this);\n        return this.users.length > 0;\n    }\n    /**\n     * Returns whether or not the button should show an account name input field.\n     * This is for Authenticators that do not have a concept of account names.\n     */\n    shouldRequestAccountName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"shouldRequestAccountName\", this);\n            return false;\n        });\n    }\n    /**\n     * Login using the Authenticator App. This can return one or more users depending on multiple chain support.\n     *\n     * @param accountName  The account name of the user for Authenticators that do not store accounts (optional)\n     */\n    login(accountName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"login\", accountName, this);\n            if (this.chains.length > 1) {\n                throw new UALAnchorError_1.UALAnchorError('UAL-Anchor does not yet support providing multiple chains to UAL. Please initialize the UAL provider with a single chain.', universal_authenticator_library_1.UALErrorType.Unsupported, null);\n            }\n            try {\n                if (this.users.length === 0) {\n                    const [chain] = this.chains;\n                    const identity = yield this.link.login(this.appName);\n                    this.users = [new AnchorUser_1.AnchorUser(chain, identity.session)];\n                }\n            }\n            catch (e) {\n                throw new UALAnchorError_1.UALAnchorError(e.message, universal_authenticator_library_1.UALErrorType.Login, e);\n            }\n            return this.users;\n        });\n    }\n    /**\n     * Logs the user out of the dapp. This will be strongly dependent on each Authenticator app's patterns.\n     */\n    logout() {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"logout\", this);\n            const [user] = this.users;\n            const { session: { auth } } = user;\n            console.log(auth);\n            yield this.link.removeSession(this.appName, auth);\n            this.reset();\n        });\n    }\n    /**\n     * Returns true if user confirmation is required for `getKeys`\n     */\n    requiresGetKeyConfirmation() {\n        return false;\n    }\n}\nexports.Anchor = Anchor;\n","import * as qrcode from 'qrcode';\nimport styleText from './styles';\nclass Storage {\n    constructor(keyPrefix) {\n        this.keyPrefix = keyPrefix;\n    }\n    async write(key, data) {\n        localStorage.setItem(this.storageKey(key), data);\n    }\n    async read(key) {\n        return localStorage.getItem(this.storageKey(key));\n    }\n    async remove(key) {\n        localStorage.removeItem(this.storageKey(key));\n    }\n    storageKey(key) {\n        return `${this.keyPrefix}-${key}`;\n    }\n}\nexport default class BrowserTransport {\n    constructor(options = {}) {\n        this.options = options;\n        this.classPrefix = options.classPrefix || 'anchor-link';\n        this.injectStyles = !(options.injectStyles === false);\n        this.requestStatus = !(options.requestStatus === false);\n        this.storage = new Storage(options.storagePrefix || 'anchor-link');\n    }\n    setupElements() {\n        if (this.injectStyles && !this.styleEl) {\n            this.styleEl = document.createElement('style');\n            this.styleEl.type = 'text/css';\n            const css = styleText.replace(/%prefix%/g, this.classPrefix);\n            this.styleEl.appendChild(document.createTextNode(css));\n            document.head.appendChild(this.styleEl);\n        }\n        if (!this.containerEl) {\n            this.containerEl = this.createEl();\n            this.containerEl.className = this.classPrefix;\n            this.containerEl.onclick = (event) => {\n                if (event.target === this.containerEl) {\n                    event.stopPropagation();\n                    this.hide();\n                    if (this.activeCancel) {\n                        this.activeRequest = undefined;\n                        this.activeCancel('Modal closed');\n                        this.activeCancel = undefined;\n                    }\n                }\n            };\n            document.body.appendChild(this.containerEl);\n        }\n        if (!this.requestEl) {\n            let wrapper = this.createEl({ class: 'inner' });\n            this.requestEl = this.createEl({ class: 'request' });\n            wrapper.appendChild(this.requestEl);\n            this.containerEl.appendChild(wrapper);\n        }\n    }\n    createEl(attrs) {\n        if (!attrs)\n            attrs = {};\n        const el = document.createElement(attrs.tag || 'div');\n        if (attrs) {\n            for (const attr of Object.keys(attrs)) {\n                const value = attrs[attr];\n                switch (attr) {\n                    case 'tag':\n                        break;\n                    case 'text':\n                        el.appendChild(document.createTextNode(value));\n                        break;\n                    case 'class':\n                        el.className = `${this.classPrefix}-${value}`;\n                        break;\n                    default:\n                        el.setAttribute(attr, value);\n                }\n            }\n        }\n        return el;\n    }\n    hide() {\n        if (this.containerEl) {\n            this.containerEl.classList.remove(`${this.classPrefix}-active`);\n        }\n        this.clearTimers();\n    }\n    show() {\n        if (this.containerEl) {\n            this.containerEl.classList.add(`${this.classPrefix}-active`);\n        }\n    }\n    async displayRequest(request) {\n        this.setupElements();\n        let sameDeviceRequest = request.clone();\n        sameDeviceRequest.setInfoKey('same_device', true);\n        sameDeviceRequest.setInfoKey('return_path', returnUrl());\n        let sameDeviceUri = sameDeviceRequest.encode(true, false);\n        let crossDeviceUri = request.encode(true, false);\n        const isIdentity = request.isIdentity();\n        const title = isIdentity ? 'Login' : 'Sign';\n        const subtitle = 'Scan the QR-code with your Anchor app.';\n        const qrEl = this.createEl({ class: 'qr' });\n        qrEl.innerHTML = await qrcode.toString(crossDeviceUri, {\n            margin: 0,\n            errorCorrectionLevel: 'L',\n        });\n        const linkEl = this.createEl({ class: 'uri' });\n        const linkA = this.createEl({\n            tag: 'a',\n            href: crossDeviceUri,\n            text: 'Open Anchor app',\n        });\n        linkA.addEventListener('click', (event) => {\n            event.preventDefault();\n            window.location.href = sameDeviceUri;\n        });\n        linkEl.appendChild(linkA);\n        const infoEl = this.createEl({ class: 'info' });\n        const infoTitle = this.createEl({ class: 'title', tag: 'span', text: title });\n        const infoSubtitle = this.createEl({ class: 'subtitle', tag: 'span', text: subtitle });\n        infoEl.appendChild(infoTitle);\n        infoEl.appendChild(infoSubtitle);\n        const actionEl = this.createEl({ class: 'actions' });\n        actionEl.appendChild(qrEl);\n        actionEl.appendChild(linkEl);\n        emptyElement(this.requestEl);\n        const logoEl = this.createEl({ class: 'logo' });\n        this.requestEl.appendChild(logoEl);\n        this.requestEl.appendChild(infoEl);\n        this.requestEl.appendChild(actionEl);\n        this.show();\n    }\n    onRequest(request, cancel) {\n        this.activeRequest = request;\n        this.activeCancel = cancel;\n        this.displayRequest(request).catch(cancel);\n    }\n    onSessionRequest(session, request, cancel) {\n        if (session.metadata.sameDevice) {\n            request.setInfoKey('return_path', returnUrl());\n        }\n        if (session.type === 'fallback') {\n            this.onRequest(request, cancel);\n            if (session.metadata.sameDevice) {\n                // trigger directly on a fallback same-device session\n                window.location.href = request.encode();\n            }\n            return;\n        }\n        this.activeRequest = request;\n        this.activeCancel = cancel;\n        this.setupElements();\n        const timeout = session.metadata.timeout || 60 * 1000 * 2;\n        const deviceName = session.metadata.name;\n        const start = Date.now();\n        const infoTitle = this.createEl({ class: 'title', tag: 'span', text: 'Sign' });\n        const updateCountdown = () => {\n            const timeLeft = timeout + start - Date.now();\n            const timeFormatted = timeLeft > 0 ? new Date(timeLeft).toISOString().substr(14, 5) : '00:00';\n            infoTitle.textContent = `Sign - ${timeFormatted}`;\n        };\n        this.countdownTimer = setInterval(updateCountdown, 500);\n        updateCountdown();\n        const infoEl = this.createEl({ class: 'info' });\n        infoEl.appendChild(infoTitle);\n        let subtitle;\n        if (deviceName && deviceName.length > 0) {\n            subtitle = `Please open Anchor app on “${deviceName}” to review and sign the transaction.`;\n        }\n        else {\n            subtitle = 'Please review and sign the transaction in the linked wallet.';\n        }\n        const infoSubtitle = this.createEl({ class: 'subtitle', tag: 'span', text: subtitle });\n        infoEl.appendChild(infoSubtitle);\n        emptyElement(this.requestEl);\n        const logoEl = this.createEl({ class: 'logo' });\n        this.requestEl.appendChild(logoEl);\n        this.requestEl.appendChild(infoEl);\n        this.show();\n        if (isAppleHandheld() && session.metadata.sameDevice) {\n            window.location.href = 'anchor://link';\n        }\n    }\n    clearTimers() {\n        if (this.closeTimer) {\n            clearTimeout(this.closeTimer);\n            this.closeTimer = undefined;\n        }\n        if (this.countdownTimer) {\n            clearTimeout(this.countdownTimer);\n            this.countdownTimer = undefined;\n        }\n    }\n    onSuccess(request) {\n        if (request === this.activeRequest) {\n            this.clearTimers();\n            if (this.requestStatus) {\n                this.setupElements();\n                const infoEl = this.createEl({ class: 'info' });\n                const logoEl = this.createEl({ class: 'logo' });\n                logoEl.classList.add('success');\n                const infoTitle = this.createEl({ class: 'title', tag: 'span', text: 'Success!' });\n                const subtitle = request.isIdentity() ? 'Identity signed.' : 'Transaction signed.';\n                const infoSubtitle = this.createEl({ class: 'subtitle', tag: 'span', text: subtitle });\n                infoEl.appendChild(infoTitle);\n                infoEl.appendChild(infoSubtitle);\n                emptyElement(this.requestEl);\n                this.requestEl.appendChild(logoEl);\n                this.requestEl.appendChild(infoEl);\n                this.show();\n                this.closeTimer = setTimeout(() => {\n                    this.hide();\n                }, 1.5 * 1000);\n            }\n            else {\n                this.hide();\n            }\n        }\n    }\n    onFailure(request, error) {\n        if (request === this.activeRequest) {\n            this.clearTimers();\n            if (this.requestStatus) {\n                this.setupElements();\n                const infoEl = this.createEl({ class: 'info' });\n                const logoEl = this.createEl({ class: 'logo' });\n                logoEl.classList.add('error');\n                const infoTitle = this.createEl({\n                    class: 'title',\n                    tag: 'span',\n                    text: 'Transaction error',\n                });\n                const infoSubtitle = this.createEl({\n                    class: 'subtitle',\n                    tag: 'span',\n                    text: error.message || String(error),\n                });\n                infoEl.appendChild(infoTitle);\n                infoEl.appendChild(infoSubtitle);\n                emptyElement(this.requestEl);\n                this.requestEl.appendChild(logoEl);\n                this.requestEl.appendChild(infoEl);\n                this.show();\n                this.closeTimer = setTimeout(() => {\n                    this.hide();\n                }, 5 * 1000);\n            }\n            else {\n                this.hide();\n            }\n        }\n    }\n}\nfunction emptyElement(el) {\n    while (el.firstChild) {\n        el.removeChild(el.firstChild);\n    }\n}\nconst returnUrlAlphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nconst returnUrlAlphabetLen = returnUrlAlphabet.length;\n/** Generate a return url with a random #fragment so mobile safari will redirect back w/o reload. */\nfunction returnUrl() {\n    let rv = window.location.href.split('#')[0] + '#';\n    for (let i = 0; i < 8; i++) {\n        rv += returnUrlAlphabet.charAt(Math.floor(Math.random() * returnUrlAlphabetLen));\n    }\n    return rv;\n}\nfunction isAppleHandheld() {\n    return /iP(ad|od|hone)/i.test(navigator.userAgent);\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nvar Aes = require(\"./aes\");\n\nvar PrivateKey = require(\"./key_private\");\n\nvar PublicKey = require(\"./key_public\");\n\nvar Signature = require(\"./signature\");\n\nvar key_utils = require(\"./key_utils\");\n\nvar hash = require(\"./hash\");\n/**\n    [Wallet Import Format](https://en.bitcoin.it/wiki/Wallet_import_format)\n    @typedef {string} wif\n*/\n\n/**\n    EOSKey..\n    @typedef {string} pubkey\n*/\n\n/** @namespace */\n\n\nvar ecc = {\n  /**\n    Initialize by running some self-checking code.  This should take a\n    second to gather additional CPU entropy used during private key\n    generation.\n     Initialization happens once even if called multiple times.\n     @return {Promise}\n  */\n  initialize: PrivateKey.initialize,\n\n  /**\n    Does not pause to gather CPU entropy.\n    @return {Promise<PrivateKey>} test key\n  */\n  unsafeRandomKey: function unsafeRandomKey() {\n    return PrivateKey.unsafeRandomKey().then(function (key) {\n      return key.toString();\n    });\n  },\n\n  /**\n      @arg {number} [cpuEntropyBits = 0] gather additional entropy\n      from a CPU mining algorithm.  This will already happen once by\n      default.\n       @return {Promise<wif>}\n       @example\n  ecc.randomKey().then(privateKey => {\n  console.log('Private Key:\\t', privateKey) // wif\n  console.log('Public Key:\\t', ecc.privateToPublic(privateKey)) // EOSkey...\n  })\n  */\n  randomKey: function randomKey(cpuEntropyBits) {\n    return PrivateKey.randomKey(cpuEntropyBits).then(function (key) {\n      return key.toString();\n    });\n  },\n\n  /**\n       @arg {string} seed - any length string.  This is private.  The same\n      seed produces the same private key every time.  At least 128 random\n      bits should be used to produce a good private key.\n      @return {wif}\n       @example ecc.seedPrivate('secret') === wif\n  */\n  seedPrivate: function seedPrivate(seed) {\n    return PrivateKey.fromSeed(seed).toString();\n  },\n\n  /**\n      @arg {wif} wif\n      @arg {string} [pubkey_prefix = 'EOS'] - public key prefix\n       @return {pubkey}\n       @example ecc.privateToPublic(wif) === pubkey\n  */\n  privateToPublic: function privateToPublic(wif) {\n    var pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n    return PrivateKey(wif).toPublic().toString(pubkey_prefix);\n  },\n\n  /**\n      @arg {pubkey} pubkey - like EOSKey..\n      @arg {string} [pubkey_prefix = 'EOS']\n       @return {boolean} valid\n       @example ecc.isValidPublic(pubkey) === true\n  */\n  isValidPublic: function isValidPublic(pubkey) {\n    var pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n    return PublicKey.isValid(pubkey, pubkey_prefix);\n  },\n\n  /**\n      @arg {wif} wif\n      @return {boolean} valid\n       @example ecc.isValidPrivate(wif) === true\n  */\n  isValidPrivate: function isValidPrivate(wif) {\n    return PrivateKey.isValid(wif);\n  },\n\n  /**\n      Create a signature using data or a hash.\n       @arg {string|Buffer} data\n      @arg {wif|PrivateKey} privateKey\n      @arg {String} [encoding = 'utf8'] - data encoding (if string)\n       @return {string} string signature\n       @example ecc.sign('I am alive', wif)\n  */\n  sign: function sign(data, privateKey) {\n    var encoding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'utf8';\n\n    if (encoding === true) {\n      throw new TypeError('API changed, use signHash(..) instead');\n    } else {\n      if (encoding === false) {\n        console.log('Warning: ecc.sign hashData parameter was removed');\n      }\n    }\n\n    return Signature.sign(data, privateKey, encoding).toString();\n  },\n\n  /**\n      @arg {String|Buffer} dataSha256 - sha256 hash 32 byte buffer or string\n      @arg {wif|PrivateKey} privateKey\n      @arg {String} [encoding = 'hex'] - dataSha256 encoding (if string)\n       @return {string} string signature\n  */\n  signHash: function signHash(dataSha256, privateKey) {\n    var encoding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'hex';\n    return Signature.signHash(dataSha256, privateKey, encoding).toString();\n  },\n\n  /**\n      Verify signed data.\n       @arg {string|Buffer} signature - buffer or hex string\n      @arg {string|Buffer} data\n      @arg {pubkey|PublicKey} pubkey\n      @arg {boolean} [hashData = true] - sha256 hash data before verify\n      @return {boolean}\n       @example ecc.verify(signature, 'I am alive', pubkey) === true\n  */\n  verify: function verify(signature, data, pubkey) {\n    var encoding = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'utf8';\n\n    if (encoding === true) {\n      throw new TypeError('API changed, use verifyHash(..) instead');\n    } else {\n      if (encoding === false) {\n        console.log('Warning: ecc.verify hashData parameter was removed');\n      }\n    }\n\n    signature = Signature.from(signature);\n    return signature.verify(data, pubkey, encoding);\n  },\n  verifyHash: function verifyHash(signature, dataSha256, pubkey) {\n    var encoding = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'hex';\n    signature = Signature.from(signature);\n    return signature.verifyHash(dataSha256, pubkey, encoding);\n  },\n\n  /**\n      Recover the public key used to create the signature.\n       @arg {String|Buffer} signature (EOSbase58sig.., Hex, Buffer)\n      @arg {String|Buffer} data - full data\n      @arg {String} [encoding = 'utf8'] - data encoding (if data is a string)\n       @return {pubkey}\n       @example ecc.recover(signature, 'I am alive') === pubkey\n  */\n  recover: function recover(signature, data) {\n    var encoding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'utf8';\n\n    if (encoding === true) {\n      throw new TypeError('API changed, use recoverHash(signature, data) instead');\n    } else {\n      if (encoding === false) {\n        console.log('Warning: ecc.recover hashData parameter was removed');\n      }\n    }\n\n    signature = Signature.from(signature);\n    return signature.recover(data, encoding).toString();\n  },\n\n  /**\n      @arg {String|Buffer} signature (EOSbase58sig.., Hex, Buffer)\n      @arg {String|Buffer} dataSha256 - sha256 hash 32 byte buffer or hex string\n      @arg {String} [encoding = 'hex'] - dataSha256 encoding (if dataSha256 is a string)\n       @return {PublicKey}\n  */\n  recoverHash: function recoverHash(signature, dataSha256) {\n    var encoding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'hex';\n    signature = Signature.from(signature);\n    return signature.recoverHash(dataSha256, encoding).toString();\n  },\n\n  /** @arg {string|Buffer} data - always binary, you may need Buffer.from(data, 'hex')\n      @arg {string} [encoding = 'hex'] - result encoding 'hex', 'binary' or 'base64'\n      @return {string|Buffer} - Buffer when encoding is null, or string\n       @example ecc.sha256('hashme') === '02208b..'\n      @example ecc.sha256(Buffer.from('02208b', 'hex')) === '29a23..'\n  */\n  sha256: function sha256(data) {\n    var resultEncoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'hex';\n    return hash.sha256(data, resultEncoding);\n  }\n};\nmodule.exports = ecc;","\"use strict\";\n\n/**\n  Convert a synchronous function into a asynchronous one (via setTimeout)\n  wrapping it in a promise.  This does not expect the function to have a\n  callback paramter.\n\n  @arg {function} func - non-callback function\n\n  @example promiseAsync(myfunction)\n*/\nmodule.exports = function (func) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return new Promise(function (resolve, reject) {\n      setTimeout(function () {\n        try {\n          resolve(func.apply(void 0, args));\n        } catch (err) {\n          reject(err);\n        }\n      });\n    });\n  };\n};","\"use strict\";\n\nvar assert = require('assert'); // from github.com/bitcoinjs/bitcoinjs-lib from github.com/cryptocoinjs/ecdsa\n\n\nvar crypto = require('./hash');\n\nvar enforceType = require('./enforce_types');\n\nvar BigInteger = require('bigi');\n\nvar ECSignature = require('./ecsignature'); // https://tools.ietf.org/html/rfc6979#section-3.2\n\n\nfunction deterministicGenerateK(curve, hash, d, checkSig, nonce) {\n  enforceType('Buffer', hash);\n  enforceType(BigInteger, d);\n\n  if (nonce) {\n    hash = crypto.sha256(Buffer.concat([hash, new Buffer(nonce)]));\n  } // sanity check\n\n\n  assert.equal(hash.length, 32, 'Hash must be 256 bit');\n  var x = d.toBuffer(32);\n  var k = new Buffer(32);\n  var v = new Buffer(32); // Step B\n\n  v.fill(1); // Step C\n\n  k.fill(0); // Step D\n\n  k = crypto.HmacSHA256(Buffer.concat([v, new Buffer([0]), x, hash]), k); // Step E\n\n  v = crypto.HmacSHA256(v, k); // Step F\n\n  k = crypto.HmacSHA256(Buffer.concat([v, new Buffer([1]), x, hash]), k); // Step G\n\n  v = crypto.HmacSHA256(v, k); // Step H1/H2a, ignored as tlen === qlen (256 bit)\n  // Step H2b\n\n  v = crypto.HmacSHA256(v, k);\n  var T = BigInteger.fromBuffer(v); // Step H3, repeat until T is within the interval [1, n - 1]\n\n  while (T.signum() <= 0 || T.compareTo(curve.n) >= 0 || !checkSig(T)) {\n    k = crypto.HmacSHA256(Buffer.concat([v, new Buffer([0])]), k);\n    v = crypto.HmacSHA256(v, k); // Step H1/H2a, again, ignored as tlen === qlen (256 bit)\n    // Step H2b again\n\n    v = crypto.HmacSHA256(v, k);\n    T = BigInteger.fromBuffer(v);\n  }\n\n  return T;\n}\n\nfunction sign(curve, hash, d, nonce) {\n  var e = BigInteger.fromBuffer(hash);\n  var n = curve.n;\n  var G = curve.G;\n  var r, s;\n  var k = deterministicGenerateK(curve, hash, d, function (k) {\n    // find canonically valid signature\n    var Q = G.multiply(k);\n    if (curve.isInfinity(Q)) return false;\n    r = Q.affineX.mod(n);\n    if (r.signum() === 0) return false;\n    s = k.modInverse(n).multiply(e.add(d.multiply(r))).mod(n);\n    if (s.signum() === 0) return false;\n    return true;\n  }, nonce);\n  var N_OVER_TWO = n.shiftRight(1); // enforce low S values, see bip62: 'low s values in signatures'\n\n  if (s.compareTo(N_OVER_TWO) > 0) {\n    s = n.subtract(s);\n  }\n\n  return ECSignature(r, s);\n}\n\nfunction verifyRaw(curve, e, signature, Q) {\n  var n = curve.n;\n  var G = curve.G;\n  var r = signature.r;\n  var s = signature.s; // 1.4.1 Enforce r and s are both integers in the interval [1, n − 1]\n\n  if (r.signum() <= 0 || r.compareTo(n) >= 0) return false;\n  if (s.signum() <= 0 || s.compareTo(n) >= 0) return false; // c = s^-1 mod n\n\n  var c = s.modInverse(n); // 1.4.4 Compute u1 = es^−1 mod n\n  //               u2 = rs^−1 mod n\n\n  var u1 = e.multiply(c).mod(n);\n  var u2 = r.multiply(c).mod(n); // 1.4.5 Compute R = (xR, yR) = u1G + u2Q\n\n  var R = G.multiplyTwo(u1, Q, u2); // 1.4.5 (cont.) Enforce R is not at infinity\n\n  if (curve.isInfinity(R)) return false; // 1.4.6 Convert the field element R.x to an integer\n\n  var xR = R.affineX; // 1.4.7 Set v = xR mod n\n\n  var v = xR.mod(n); // 1.4.8 If v = r, output \"valid\", and if v != r, output \"invalid\"\n\n  return v.equals(r);\n}\n\nfunction verify(curve, hash, signature, Q) {\n  // 1.4.2 H = Hash(M), already done by the user\n  // 1.4.3 e = H\n  var e = BigInteger.fromBuffer(hash);\n  return verifyRaw(curve, e, signature, Q);\n}\n/**\n  * Recover a public key from a signature.\n  *\n  * See SEC 1: Elliptic Curve Cryptography, section 4.1.6, \"Public\n  * Key Recovery Operation\".\n  *\n  * http://www.secg.org/download/aid-780/sec1-v2.pdf\n  */\n\n\nfunction recoverPubKey(curve, e, signature, i) {\n  assert.strictEqual(i & 3, i, 'Recovery param is more than two bits');\n  var n = curve.n;\n  var G = curve.G;\n  var r = signature.r;\n  var s = signature.s;\n  assert(r.signum() > 0 && r.compareTo(n) < 0, 'Invalid r value');\n  assert(s.signum() > 0 && s.compareTo(n) < 0, 'Invalid s value'); // A set LSB signifies that the y-coordinate is odd\n\n  var isYOdd = i & 1; // The more significant bit specifies whether we should use the\n  // first or second candidate key.\n\n  var isSecondKey = i >> 1; // 1.1 Let x = r + jn\n\n  var x = isSecondKey ? r.add(n) : r;\n  var R = curve.pointFromX(isYOdd, x); // 1.4 Check that nR is at infinity\n\n  var nR = R.multiply(n);\n  assert(curve.isInfinity(nR), 'nR is not a valid curve point'); // Compute -e from e\n\n  var eNeg = e.negate().mod(n); // 1.6.1 Compute Q = r^-1 (sR -  eG)\n  //               Q = r^-1 (sR + -eG)\n\n  var rInv = r.modInverse(n);\n  var Q = R.multiplyTwo(s, G, eNeg).multiply(rInv);\n  curve.validate(Q);\n  return Q;\n}\n/**\n  * Calculate pubkey extraction parameter.\n  *\n  * When extracting a pubkey from a signature, we have to\n  * distinguish four different cases. Rather than putting this\n  * burden on the verifier, Bitcoin includes a 2-bit value with the\n  * signature.\n  *\n  * This function simply tries all four cases and returns the value\n  * that resulted in a successful pubkey recovery.\n  */\n\n\nfunction calcPubKeyRecoveryParam(curve, e, signature, Q) {\n  for (var i = 0; i < 4; i++) {\n    var Qprime = recoverPubKey(curve, e, signature, i); // 1.6.2 Verify Q\n\n    if (Qprime.equals(Q)) {\n      return i;\n    }\n  }\n\n  throw new Error('Unable to find valid recovery factor');\n}\n\nmodule.exports = {\n  calcPubKeyRecoveryParam: calcPubKeyRecoveryParam,\n  deterministicGenerateK: deterministicGenerateK,\n  recoverPubKey: recoverPubKey,\n  sign: sign,\n  verify: verify,\n  verifyRaw: verifyRaw\n};","\"use strict\";\n\nvar assert = require('assert'); // from https://github.com/bitcoinjs/bitcoinjs-lib\n\n\nvar enforceType = require('./enforce_types');\n\nvar BigInteger = require('bigi');\n\nfunction ECSignature(r, s) {\n  enforceType(BigInteger, r);\n  enforceType(BigInteger, s);\n\n  function toCompact(i, compressed) {\n    if (compressed) i += 4;\n    i += 27;\n    var buffer = new Buffer(65);\n    buffer.writeUInt8(i, 0);\n    r.toBuffer(32).copy(buffer, 1);\n    s.toBuffer(32).copy(buffer, 33);\n    return buffer;\n  }\n\n  function toDER() {\n    var rBa = r.toDERInteger();\n    var sBa = s.toDERInteger();\n    var sequence = []; // INTEGER\n\n    sequence.push(0x02, rBa.length);\n    sequence = sequence.concat(rBa); // INTEGER\n\n    sequence.push(0x02, sBa.length);\n    sequence = sequence.concat(sBa); // SEQUENCE\n\n    sequence.unshift(0x30, sequence.length);\n    return new Buffer(sequence);\n  }\n\n  function toScriptSignature(hashType) {\n    var hashTypeBuffer = new Buffer(1);\n    hashTypeBuffer.writeUInt8(hashType, 0);\n    return Buffer.concat([toDER(), hashTypeBuffer]);\n  }\n\n  return {\n    r: r,\n    s: s,\n    toCompact: toCompact,\n    toDER: toDER,\n    toScriptSignature: toScriptSignature\n  };\n} // Import operations\n\n\nECSignature.parseCompact = function (buffer) {\n  assert.equal(buffer.length, 65, 'Invalid signature length');\n  var i = buffer.readUInt8(0) - 27; // At most 3 bits\n\n  assert.equal(i, i & 7, 'Invalid signature parameter');\n  var compressed = !!(i & 4); // Recovery param only\n\n  i = i & 3;\n  var r = BigInteger.fromBuffer(buffer.slice(1, 33));\n  var s = BigInteger.fromBuffer(buffer.slice(33));\n  return {\n    compressed: compressed,\n    i: i,\n    signature: ECSignature(r, s)\n  };\n};\n\nECSignature.fromDER = function (buffer) {\n  assert.equal(buffer.readUInt8(0), 0x30, 'Not a DER sequence');\n  assert.equal(buffer.readUInt8(1), buffer.length - 2, 'Invalid sequence length');\n  assert.equal(buffer.readUInt8(2), 0x02, 'Expected a DER integer');\n  var rLen = buffer.readUInt8(3);\n  assert(rLen > 0, 'R length is zero');\n  var offset = 4 + rLen;\n  assert.equal(buffer.readUInt8(offset), 0x02, 'Expected a DER integer (2)');\n  var sLen = buffer.readUInt8(offset + 1);\n  assert(sLen > 0, 'S length is zero');\n  var rB = buffer.slice(4, offset);\n  var sB = buffer.slice(offset + 2);\n  offset += 2 + sLen;\n\n  if (rLen > 1 && rB.readUInt8(0) === 0x00) {\n    assert(rB.readUInt8(1) & 0x80, 'R value excessively padded');\n  }\n\n  if (sLen > 1 && sB.readUInt8(0) === 0x00) {\n    assert(sB.readUInt8(1) & 0x80, 'S value excessively padded');\n  }\n\n  assert.equal(offset, buffer.length, 'Invalid DER encoding');\n  var r = BigInteger.fromDERInteger(rB);\n  var s = BigInteger.fromDERInteger(sB);\n  assert(r.signum() >= 0, 'R value is negative');\n  assert(s.signum() >= 0, 'S value is negative');\n  return ECSignature(r, s);\n}; // FIXME: 0x00, 0x04, 0x80 are SIGHASH_* boundary constants, importing Transaction causes a circular dependency\n\n\nECSignature.parseScriptSignature = function (buffer) {\n  var hashType = buffer.readUInt8(buffer.length - 1);\n  var hashTypeMod = hashType & ~0x80;\n  assert(hashTypeMod > 0x00 && hashTypeMod < 0x04, 'Invalid hashType');\n  return {\n    signature: ECSignature.fromDER(buffer.slice(0, -1)),\n    hashType: hashType\n  };\n};\n\nmodule.exports = ECSignature;","\"use strict\";\n\nvar Aes = require(\"./aes\");\n\nvar PrivateKey = require(\"./key_private\");\n\nvar PublicKey = require(\"./key_public\");\n\nvar Signature = require(\"./signature\");\n\nvar key_utils = require(\"./key_utils\");\n\nmodule.exports = {\n  Aes: Aes,\n  PrivateKey: PrivateKey,\n  PublicKey: PublicKey,\n  Signature: Signature,\n  key_utils: key_utils\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AnchorLogo = `data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS40NCwgMCwgMCwgMS40NCwgLTguNTAxOTI1LCAtNTcuMDc0NTcpIiBzdHlsZT0iIj4KICAgIDx0aXRsZT5XaGl0ZTwvdGl0bGU+CiAgICA8Y2lyY2xlIGN4PSI5NC43OTMiIGN5PSIxMjguNTI0IiByPSI4MCIgZmlsbD0iI0ZCRkRGRiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0gOTQuNzk5IDc4LjUyNCBDIDk3LjA5OCA3OC41MjQgOTkuMTk1IDc5LjgzNyAxMDAuMTk4IDgxLjkwNiBMIDEyNC4yMDQgMTMxLjQwNiBMIDEyNC43NDYgMTMyLjUyNCBMIDExMS40MDkgMTMyLjUyNCBMIDEwNy41MyAxMjQuNTI0IEwgODIuMDY5IDEyNC41MjQgTCA3OC4xODkgMTMyLjUyNCBMIDY0Ljg1MyAxMzIuNTI0IEwgNjUuMzk1IDEzMS40MDYgTCA4OS40MDEgODEuOTA2IEMgOTAuNDA0IDc5LjgzNyA5Mi41MDEgNzguNTI0IDk0Ljc5OSA3OC41MjQgWiBNIDg2LjkxOSAxMTQuNTI0IEwgMTAyLjY4IDExNC41MjQgTCA5NC43OTkgOTguMjc0IEwgODYuOTE5IDExNC41MjQgWiBNIDExMi43OTMgMTQ5LjUyNCBMIDEyNC43OTggMTQ5LjUyNCBDIDEyNC40MzcgMTY1LjY3NiAxMTEuMDY3IDE3OC41MjQgOTQuNzk5IDE3OC41MjQgQyA3OC41MzIgMTc4LjUyNCA2NS4xNjIgMTY1LjY3NiA2NC44MDEgMTQ5LjUyNCBMIDc2LjgwNiAxNDkuNTI0IEMgNzcuMDg3IDE1Ni44NzggODEuOTc0IDE2My4xNTUgODguNzkzIDE2NS41MiBMIDg4Ljc5MyAxNDEuNTI0IEMgODguNzkzIDEzOC4yMSA5MS40OCAxMzUuNTI0IDk0Ljc5MyAxMzUuNTI0IEMgOTguMTA3IDEzNS41MjQgMTAwLjc5MyAxMzguMjEgMTAwLjc5MyAxNDEuNTI0IEwgMTAwLjc5MyAxNjUuNTI0IEMgMTA3LjYyIDE2My4xNjIgMTEyLjUxMSAxNTYuODgzIDExMi43OTMgMTQ5LjUyNCBaIiBmaWxsPSIjMzY1MEEyIi8+CiAgPC9nPgo8L3N2Zz4=`;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = __importDefault(require(\"@scatterjs/core\"));\nconst eosjs2_1 = __importDefault(require(\"@scatterjs/eosjs2\"));\nconst universal_authenticator_library_1 = require(\"universal-authenticator-library\");\nconst interfaces_1 = require(\"./interfaces\");\nconst scatterLogo_1 = require(\"./scatterLogo\");\nconst ScatterUser_1 = require(\"./ScatterUser\");\nconst UALScatterError_1 = require(\"./UALScatterError\");\nclass Scatter extends universal_authenticator_library_1.Authenticator {\n    /**\n     * Scatter Constructor.\n     *\n     * @param chains\n     * @param options { appName } appName is a required option to use Scatter\n     */\n    constructor(chains, options) {\n        super(chains);\n        this.users = [];\n        this.scatterIsLoading = false;\n        this.initError = null;\n        if (options && options.appName) {\n            this.appName = options.appName;\n        }\n        else {\n            throw new UALScatterError_1.UALScatterError('Scatter requires the appName property to be set on the `options` argument.', universal_authenticator_library_1.UALErrorType.Initialization, null);\n        }\n    }\n    /**\n     * Checks Scatter for a live connection.  Will set an Initialization Error\n     * if we cannot connect to scatter.\n     */\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.scatterIsLoading = true;\n            core_1.default.plugins(new eosjs2_1.default());\n            // set an errored state if scatter doesn't connect\n            if (!(yield core_1.default.scatter.connect(this.appName))) {\n                this.initError = new UALScatterError_1.UALScatterError('Error occurred while connecting', universal_authenticator_library_1.UALErrorType.Initialization, null);\n                this.scatterIsLoading = false;\n                return;\n            }\n            this.scatter = core_1.default.scatter;\n            window.ScatterJS = null;\n            this.scatterIsLoading = false;\n        });\n    }\n    reset() {\n        this.initError = null;\n        // tslint:disable-next-line:no-floating-promises\n        this.init();\n    }\n    isLoading() {\n        return this.scatterIsLoading;\n    }\n    isErrored() {\n        return !!this.initError;\n    }\n    getError() {\n        return this.initError;\n    }\n    getStyle() {\n        return {\n            icon: scatterLogo_1.scatterLogo,\n            text: interfaces_1.Name,\n            textColor: 'white',\n            background: '#078CE9'\n        };\n    }\n    /**\n     * Scatter will only render on Desktop Browser Environments\n     */\n    shouldRender() {\n        if (!this.isMobile()) {\n            return true;\n        }\n        return false;\n    }\n    shouldAutoLogin() {\n        return false;\n    }\n    login(_) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.users = [];\n            try {\n                for (const chain of this.chains) {\n                    const user = new ScatterUser_1.ScatterUser(chain, this.scatter);\n                    yield user.getKeys();\n                    this.users.push(user);\n                }\n                return this.users;\n            }\n            catch (e) {\n                throw new UALScatterError_1.UALScatterError('Unable to login', universal_authenticator_library_1.UALErrorType.Login, e);\n            }\n        });\n    }\n    /**\n     * Call logout on scatter.  Throws a Logout Error if unsuccessful\n     */\n    logout() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.scatter.logout();\n            }\n            catch (error) {\n                throw new UALScatterError_1.UALScatterError('Error occurred during logout', universal_authenticator_library_1.UALErrorType.Logout, error);\n            }\n        });\n    }\n    /**\n     * Scatter provides account names so it does not need to request it\n     */\n    shouldRequestAccountName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return false;\n        });\n    }\n    isMobile() {\n        const userAgent = window.navigator.userAgent;\n        const isIOS = userAgent.includes('iPhone') || userAgent.includes('iPad');\n        const isMobile = userAgent.includes('Mobile');\n        const isAndroid = userAgent.includes('Android');\n        const isCustom = userAgent.toLowerCase().includes('eoslynx');\n        return isIOS || isMobile || isAndroid || isCustom;\n    }\n    getOnboardingLink() {\n        return 'https://get-scatter.com/';\n    }\n    requiresGetKeyConfirmation() {\n        return false;\n    }\n}\nexports.Scatter = Scatter;\n","\"use strict\";\n// tslint:disable:max-line-length\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// SVG for scatter logo\n// <svg width=\"32px\" height=\"34px\" viewBox=\"13 20 26 5\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n//   <title>gs_button_loginwithscatter_blue</title>\n//   <g id=\"gs_button_loginwithscatter_blue\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n//     <g id=\"Group-2\" transform=\"translate(9.000000, 5.000000)\">\n//         <circle id=\"Oval\" stroke=\"#FFFFFF\" stroke-width=\"2\" cx=\"17\" cy=\"17\" r=\"12\"></circle>\n//         <path d=\"M16.3536374,26.2400165 C15.837526,26.2400165 15.408763,26.1815472 15.0673355,26.0646069 C14.7259079,25.9476665 14.455946,25.8166146 14.2574417,25.6714473 C14.0589373,25.5262799 13.9199863,25.3871633 13.8405846,25.2540932 C13.7611828,25.1210232 13.7214825,25.0343273 13.7214825,24.994003 C13.7214825,24.8488357 13.7532427,24.6935896 13.8167641,24.5282601 C13.8802855,24.3629306 13.9596861,24.2097007 14.0549682,24.0685658 C14.1502503,23.9274309 14.253471,23.8084761 14.3646335,23.7116979 C14.4757959,23.6149196 14.5750466,23.5665312 14.6623886,23.5665312 C14.773551,23.5665312 14.8648617,23.6391138 14.9363232,23.7842812 L15.0554253,23.9052534 C15.1189467,23.9697722 15.2082723,24.0363062 15.3234048,24.1048575 C15.4385374,24.1734087 15.5814584,24.2359104 15.7521721,24.2923643 C15.9228859,24.3488183 16.1233723,24.3770449 16.3536374,24.3770449 C16.8538684,24.3770449 17.2627813,24.2217988 17.5803883,23.911302 C17.8979953,23.6008051 18.0567964,23.1794229 18.0567964,22.6471426 C18.0567964,22.2761594 17.9714408,21.9455054 17.800727,21.6551707 C17.6300133,21.364836 17.4057067,21.0946675 17.1278006,20.8446571 C16.8498945,20.5946466 16.5322922,20.3506885 16.1749843,20.1127753 C15.8176765,19.8748622 15.4524339,19.6268717 15.0792457,19.3687964 C14.7060574,19.1107211 14.3408149,18.8324879 13.983507,18.5340883 C13.6261991,18.2356888 13.3085969,17.8929377 13.0306907,17.5058247 C12.7527846,17.1187118 12.528478,16.6812001 12.3577643,16.1932765 C12.1870505,15.7053529 12.1016949,15.1468703 12.1016949,14.5178118 C12.1016949,13.9774666 12.1930056,13.4330972 12.3756296,12.8846872 C12.5582536,12.3362773 12.8103504,11.8140859 13.1319275,11.3180974 C13.4535046,10.822109 13.8326422,10.3583869 14.2693519,9.92691731 C14.7060615,9.49544769 15.1784948,9.12043767 15.686666,8.80187599 C16.1948372,8.4833143 16.724836,8.23330762 17.2766781,8.05184843 C17.8285203,7.87038925 18.3823392,7.77966102 18.9381514,7.77966102 C19.4145619,7.77966102 19.843325,7.85627597 20.2244534,8.00950817 C20.6055818,8.16274037 20.927154,8.37847194 21.1891798,8.65670936 C21.4512056,8.93494678 21.653677,9.26963315 21.7966002,9.6607785 C21.9395233,10.0519239 22.0109838,10.4894356 22.0109838,10.9733267 C22.0109838,11.4330233 21.9315832,11.8846483 21.7727797,12.3282152 C21.6139762,12.7717821 21.4035648,13.1911481 21.141539,13.5863259 C20.8795132,13.9815037 20.5837461,14.3464328 20.2542289,14.6811242 C19.9247116,15.0158156 19.5872592,15.3061459 19.2418616,15.5521239 C18.896464,15.7981019 18.5609966,15.9896393 18.2354495,16.1267418 C17.9099023,16.2638443 17.6240603,16.3323945 17.3779148,16.3323945 C17.1635301,16.3323945 16.9709838,16.28199 16.80027,16.1811793 C16.6295562,16.0803686 16.4866352,15.9553653 16.3715027,15.8061655 C16.2563702,15.6569658 16.1670445,15.4997035 16.1035231,15.334374 C16.0400017,15.1690445 16.0082415,15.0218632 16.0082415,14.8928255 C16.0082415,14.7879824 16.0221366,14.7194322 16.0499272,14.6871728 C16.0777178,14.6549134 16.1174181,14.6408001 16.1690292,14.6448325 C16.2206404,14.648865 16.2861458,14.6609621 16.3655476,14.6811242 C16.4449493,14.7012863 16.53626,14.7113673 16.6394823,14.7113673 C16.9729696,14.7113673 17.3421822,14.5944286 17.7471311,14.3605479 C18.1520801,14.1266672 18.5332027,13.8282721 18.8905106,13.4653537 C19.2478185,13.1024354 19.5475556,12.7032311 19.7897309,12.2677291 C20.0319063,11.8322271 20.1529921,11.4088286 20.1529921,10.9975212 C20.1529921,10.5781488 20.0517564,10.2474948 19.849282,10.0055492 C19.6468075,9.76360365 19.3034001,9.64263267 18.8190494,9.64263267 C18.5173228,9.64263267 18.1897954,9.70110198 17.8364577,9.81804234 C17.4831199,9.93498271 17.1278024,10.0982935 16.7704945,10.3079797 C16.4131866,10.5176659 16.0677942,10.7717049 15.7343068,11.0701045 C15.4008195,11.368504 15.1070374,11.6971418 14.8529518,12.0560278 C14.5988662,12.4149137 14.3944098,12.8020208 14.2395764,13.2173608 C14.0847429,13.6327007 14.0073274,14.06618 14.0073274,14.5178118 C14.0073274,14.9936381 14.092683,15.4190527 14.2633968,15.7940683 C14.4341105,16.169084 14.6604021,16.5098189 14.9422783,16.8162833 C15.2241545,17.1227477 15.5437418,17.4050133 15.9010497,17.6630886 C16.2583575,17.9211639 16.6236001,18.1772191 16.9967883,18.431262 C17.3699766,18.6853048 17.7352191,18.9474086 18.092527,19.2175812 C18.4498349,19.4877537 18.7694222,19.7861488 19.0512984,20.1127753 C19.3331746,20.4394019 19.5594662,20.8023148 19.7301799,21.201525 C19.9008937,21.6007352 19.9862493,22.0584087 19.9862493,22.5745593 C19.9862493,23.0745802 19.8929536,23.5483832 19.7063595,23.9959825 C19.5197654,24.4435818 19.2636986,24.8327051 18.9381514,25.1633641 C18.6126043,25.494023 18.2275115,25.7561268 17.7828617,25.9496833 C17.3382119,26.1432398 16.8618086,26.2400165 16.3536374,26.2400165 Z\" id=\"Scatter\" fill=\"#FFFFFF\"></path>\n//     </g>\n//   </g>\n// </svg>\n// data url encoded svg\nexports.scatterLogo = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzNHB4IiB2aWV3Qm94PSIxMyAyMCAyNiA1IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogIDx0aXRsZT5nc19idXR0b25fbG9naW53aXRoc2NhdHRlcl9ibHVlPC90aXRsZT4KICA8ZyBpZD0iZ3NfYnV0dG9uX2xvZ2lud2l0aHNjYXR0ZXJfYmx1ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICA8ZyBpZD0iR3JvdXAtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOS4wMDAwMDAsIDUuMDAwMDAwKSI+CiAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgc3Ryb2tlPSIjRkZGRkZGIiBzdHJva2Utd2lkdGg9IjIiIGN4PSIxNyIgY3k9IjE3IiByPSIxMiI+PC9jaXJjbGU+CiAgICAgICAgPHBhdGggZD0iTTE2LjM1MzYzNzQsMjYuMjQwMDE2NSBDMTUuODM3NTI2LDI2LjI0MDAxNjUgMTUuNDA4NzYzLDI2LjE4MTU0NzIgMTUuMDY3MzM1NSwyNi4wNjQ2MDY5IEMxNC43MjU5MDc5LDI1Ljk0NzY2NjUgMTQuNDU1OTQ2LDI1LjgxNjYxNDYgMTQuMjU3NDQxNywyNS42NzE0NDczIEMxNC4wNTg5MzczLDI1LjUyNjI3OTkgMTMuOTE5OTg2MywyNS4zODcxNjMzIDEzLjg0MDU4NDYsMjUuMjU0MDkzMiBDMTMuNzYxMTgyOCwyNS4xMjEwMjMyIDEzLjcyMTQ4MjUsMjUuMDM0MzI3MyAxMy43MjE0ODI1LDI0Ljk5NDAwMyBDMTMuNzIxNDgyNSwyNC44NDg4MzU3IDEzLjc1MzI0MjcsMjQuNjkzNTg5NiAxMy44MTY3NjQxLDI0LjUyODI2MDEgQzEzLjg4MDI4NTUsMjQuMzYyOTMwNiAxMy45NTk2ODYxLDI0LjIwOTcwMDcgMTQuMDU0OTY4MiwyNC4wNjg1NjU4IEMxNC4xNTAyNTAzLDIzLjkyNzQzMDkgMTQuMjUzNDcxLDIzLjgwODQ3NjEgMTQuMzY0NjMzNSwyMy43MTE2OTc5IEMxNC40NzU3OTU5LDIzLjYxNDkxOTYgMTQuNTc1MDQ2NiwyMy41NjY1MzEyIDE0LjY2MjM4ODYsMjMuNTY2NTMxMiBDMTQuNzczNTUxLDIzLjU2NjUzMTIgMTQuODY0ODYxNywyMy42MzkxMTM4IDE0LjkzNjMyMzIsMjMuNzg0MjgxMiBMMTUuMDU1NDI1MywyMy45MDUyNTM0IEMxNS4xMTg5NDY3LDIzLjk2OTc3MjIgMTUuMjA4MjcyMywyNC4wMzYzMDYyIDE1LjMyMzQwNDgsMjQuMTA0ODU3NSBDMTUuNDM4NTM3NCwyNC4xNzM0MDg3IDE1LjU4MTQ1ODQsMjQuMjM1OTEwNCAxNS43NTIxNzIxLDI0LjI5MjM2NDMgQzE1LjkyMjg4NTksMjQuMzQ4ODE4MyAxNi4xMjMzNzIzLDI0LjM3NzA0NDkgMTYuMzUzNjM3NCwyNC4zNzcwNDQ5IEMxNi44NTM4Njg0LDI0LjM3NzA0NDkgMTcuMjYyNzgxMywyNC4yMjE3OTg4IDE3LjU4MDM4ODMsMjMuOTExMzAyIEMxNy44OTc5OTUzLDIzLjYwMDgwNTEgMTguMDU2Nzk2NCwyMy4xNzk0MjI5IDE4LjA1Njc5NjQsMjIuNjQ3MTQyNiBDMTguMDU2Nzk2NCwyMi4yNzYxNTk0IDE3Ljk3MTQ0MDgsMjEuOTQ1NTA1NCAxNy44MDA3MjcsMjEuNjU1MTcwNyBDMTcuNjMwMDEzMywyMS4zNjQ4MzYgMTcuNDA1NzA2NywyMS4wOTQ2Njc1IDE3LjEyNzgwMDYsMjAuODQ0NjU3MSBDMTYuODQ5ODk0NSwyMC41OTQ2NDY2IDE2LjUzMjI5MjIsMjAuMzUwNjg4NSAxNi4xNzQ5ODQzLDIwLjExMjc3NTMgQzE1LjgxNzY3NjUsMTkuODc0ODYyMiAxNS40NTI0MzM5LDE5LjYyNjg3MTcgMTUuMDc5MjQ1NywxOS4zNjg3OTY0IEMxNC43MDYwNTc0LDE5LjExMDcyMTEgMTQuMzQwODE0OSwxOC44MzI0ODc5IDEzLjk4MzUwNywxOC41MzQwODgzIEMxMy42MjYxOTkxLDE4LjIzNTY4ODggMTMuMzA4NTk2OSwxNy44OTI5Mzc3IDEzLjAzMDY5MDcsMTcuNTA1ODI0NyBDMTIuNzUyNzg0NiwxNy4xMTg3MTE4IDEyLjUyODQ3OCwxNi42ODEyMDAxIDEyLjM1Nzc2NDMsMTYuMTkzMjc2NSBDMTIuMTg3MDUwNSwxNS43MDUzNTI5IDEyLjEwMTY5NDksMTUuMTQ2ODcwMyAxMi4xMDE2OTQ5LDE0LjUxNzgxMTggQzEyLjEwMTY5NDksMTMuOTc3NDY2NiAxMi4xOTMwMDU2LDEzLjQzMzA5NzIgMTIuMzc1NjI5NiwxMi44ODQ2ODcyIEMxMi41NTgyNTM2LDEyLjMzNjI3NzMgMTIuODEwMzUwNCwxMS44MTQwODU5IDEzLjEzMTkyNzUsMTEuMzE4MDk3NCBDMTMuNDUzNTA0NiwxMC44MjIxMDkgMTMuODMyNjQyMiwxMC4zNTgzODY5IDE0LjI2OTM1MTksOS45MjY5MTczMSBDMTQuNzA2MDYxNSw5LjQ5NTQ0NzY5IDE1LjE3ODQ5NDgsOS4xMjA0Mzc2NyAxNS42ODY2NjYsOC44MDE4NzU5OSBDMTYuMTk0ODM3Miw4LjQ4MzMxNDMgMTYuNzI0ODM2LDguMjMzMzA3NjIgMTcuMjc2Njc4MSw4LjA1MTg0ODQzIEMxNy44Mjg1MjAzLDcuODcwMzg5MjUgMTguMzgyMzM5Miw3Ljc3OTY2MTAyIDE4LjkzODE1MTQsNy43Nzk2NjEwMiBDMTkuNDE0NTYxOSw3Ljc3OTY2MTAyIDE5Ljg0MzMyNSw3Ljg1NjI3NTk3IDIwLjIyNDQ1MzQsOC4wMDk1MDgxNyBDMjAuNjA1NTgxOCw4LjE2Mjc0MDM3IDIwLjkyNzE1NCw4LjM3ODQ3MTk0IDIxLjE4OTE3OTgsOC42NTY3MDkzNiBDMjEuNDUxMjA1Niw4LjkzNDk0Njc4IDIxLjY1MzY3Nyw5LjI2OTYzMzE1IDIxLjc5NjYwMDIsOS42NjA3Nzg1IEMyMS45Mzk1MjMzLDEwLjA1MTkyMzkgMjIuMDEwOTgzOCwxMC40ODk0MzU2IDIyLjAxMDk4MzgsMTAuOTczMzI2NyBDMjIuMDEwOTgzOCwxMS40MzMwMjMzIDIxLjkzMTU4MzIsMTEuODg0NjQ4MyAyMS43NzI3Nzk3LDEyLjMyODIxNTIgQzIxLjYxMzk3NjIsMTIuNzcxNzgyMSAyMS40MDM1NjQ4LDEzLjE5MTE0ODEgMjEuMTQxNTM5LDEzLjU4NjMyNTkgQzIwLjg3OTUxMzIsMTMuOTgxNTAzNyAyMC41ODM3NDYxLDE0LjM0NjQzMjggMjAuMjU0MjI4OSwxNC42ODExMjQyIEMxOS45MjQ3MTE2LDE1LjAxNTgxNTYgMTkuNTg3MjU5MiwxNS4zMDYxNDU5IDE5LjI0MTg2MTYsMTUuNTUyMTIzOSBDMTguODk2NDY0LDE1Ljc5ODEwMTkgMTguNTYwOTk2NiwxNS45ODk2MzkzIDE4LjIzNTQ0OTUsMTYuMTI2NzQxOCBDMTcuOTA5OTAyMywxNi4yNjM4NDQzIDE3LjYyNDA2MDMsMTYuMzMyMzk0NSAxNy4zNzc5MTQ4LDE2LjMzMjM5NDUgQzE3LjE2MzUzMDEsMTYuMzMyMzk0NSAxNi45NzA5ODM4LDE2LjI4MTk5IDE2LjgwMDI3LDE2LjE4MTE3OTMgQzE2LjYyOTU1NjIsMTYuMDgwMzY4NiAxNi40ODY2MzUyLDE1Ljk1NTM2NTMgMTYuMzcxNTAyNywxNS44MDYxNjU1IEMxNi4yNTYzNzAyLDE1LjY1Njk2NTggMTYuMTY3MDQ0NSwxNS40OTk3MDM1IDE2LjEwMzUyMzEsMTUuMzM0Mzc0IEMxNi4wNDAwMDE3LDE1LjE2OTA0NDUgMTYuMDA4MjQxNSwxNS4wMjE4NjMyIDE2LjAwODI0MTUsMTQuODkyODI1NSBDMTYuMDA4MjQxNSwxNC43ODc5ODI0IDE2LjAyMjEzNjYsMTQuNzE5NDMyMiAxNi4wNDk5MjcyLDE0LjY4NzE3MjggQzE2LjA3NzcxNzgsMTQuNjU0OTEzNCAxNi4xMTc0MTgxLDE0LjY0MDgwMDEgMTYuMTY5MDI5MiwxNC42NDQ4MzI1IEMxNi4yMjA2NDA0LDE0LjY0ODg2NSAxNi4yODYxNDU4LDE0LjY2MDk2MjEgMTYuMzY1NTQ3NiwxNC42ODExMjQyIEMxNi40NDQ5NDkzLDE0LjcwMTI4NjMgMTYuNTM2MjYsMTQuNzExMzY3MyAxNi42Mzk0ODIzLDE0LjcxMTM2NzMgQzE2Ljk3Mjk2OTYsMTQuNzExMzY3MyAxNy4zNDIxODIyLDE0LjU5NDQyODYgMTcuNzQ3MTMxMSwxNC4zNjA1NDc5IEMxOC4xNTIwODAxLDE0LjEyNjY2NzIgMTguNTMzMjAyNywxMy44MjgyNzIxIDE4Ljg5MDUxMDYsMTMuNDY1MzUzNyBDMTkuMjQ3ODE4NSwxMy4xMDI0MzU0IDE5LjU0NzU1NTYsMTIuNzAzMjMxMSAxOS43ODk3MzA5LDEyLjI2NzcyOTEgQzIwLjAzMTkwNjMsMTEuODMyMjI3MSAyMC4xNTI5OTIxLDExLjQwODgyODYgMjAuMTUyOTkyMSwxMC45OTc1MjEyIEMyMC4xNTI5OTIxLDEwLjU3ODE0ODggMjAuMDUxNzU2NCwxMC4yNDc0OTQ4IDE5Ljg0OTI4MiwxMC4wMDU1NDkyIEMxOS42NDY4MDc1LDkuNzYzNjAzNjUgMTkuMzAzNDAwMSw5LjY0MjYzMjY3IDE4LjgxOTA0OTQsOS42NDI2MzI2NyBDMTguNTE3MzIyOCw5LjY0MjYzMjY3IDE4LjE4OTc5NTQsOS43MDExMDE5OCAxNy44MzY0NTc3LDkuODE4MDQyMzQgQzE3LjQ4MzExOTksOS45MzQ5ODI3MSAxNy4xMjc4MDI0LDEwLjA5ODI5MzUgMTYuNzcwNDk0NSwxMC4zMDc5Nzk3IEMxNi40MTMxODY2LDEwLjUxNzY2NTkgMTYuMDY3Nzk0MiwxMC43NzE3MDQ5IDE1LjczNDMwNjgsMTEuMDcwMTA0NSBDMTUuNDAwODE5NSwxMS4zNjg1MDQgMTUuMTA3MDM3NCwxMS42OTcxNDE4IDE0Ljg1Mjk1MTgsMTIuMDU2MDI3OCBDMTQuNTk4ODY2MiwxMi40MTQ5MTM3IDE0LjM5NDQwOTgsMTIuODAyMDIwOCAxNC4yMzk1NzY0LDEzLjIxNzM2MDggQzE0LjA4NDc0MjksMTMuNjMyNzAwNyAxNC4wMDczMjc0LDE0LjA2NjE4IDE0LjAwNzMyNzQsMTQuNTE3ODExOCBDMTQuMDA3MzI3NCwxNC45OTM2MzgxIDE0LjA5MjY4MywxNS40MTkwNTI3IDE0LjI2MzM5NjgsMTUuNzk0MDY4MyBDMTQuNDM0MTEwNSwxNi4xNjkwODQgMTQuNjYwNDAyMSwxNi41MDk4MTg5IDE0Ljk0MjI3ODMsMTYuODE2MjgzMyBDMTUuMjI0MTU0NSwxNy4xMjI3NDc3IDE1LjU0Mzc0MTgsMTcuNDA1MDEzMyAxNS45MDEwNDk3LDE3LjY2MzA4ODYgQzE2LjI1ODM1NzUsMTcuOTIxMTYzOSAxNi42MjM2MDAxLDE4LjE3NzIxOTEgMTYuOTk2Nzg4MywxOC40MzEyNjIgQzE3LjM2OTk3NjYsMTguNjg1MzA0OCAxNy43MzUyMTkxLDE4Ljk0NzQwODYgMTguMDkyNTI3LDE5LjIxNzU4MTIgQzE4LjQ0OTgzNDksMTkuNDg3NzUzNyAxOC43Njk0MjIyLDE5Ljc4NjE0ODggMTkuMDUxMjk4NCwyMC4xMTI3NzUzIEMxOS4zMzMxNzQ2LDIwLjQzOTQwMTkgMTkuNTU5NDY2MiwyMC44MDIzMTQ4IDE5LjczMDE3OTksMjEuMjAxNTI1IEMxOS45MDA4OTM3LDIxLjYwMDczNTIgMTkuOTg2MjQ5MywyMi4wNTg0MDg3IDE5Ljk4NjI0OTMsMjIuNTc0NTU5MyBDMTkuOTg2MjQ5MywyMy4wNzQ1ODAyIDE5Ljg5Mjk1MzYsMjMuNTQ4MzgzMiAxOS43MDYzNTk1LDIzLjk5NTk4MjUgQzE5LjUxOTc2NTQsMjQuNDQzNTgxOCAxOS4yNjM2OTg2LDI0LjgzMjcwNTEgMTguOTM4MTUxNCwyNS4xNjMzNjQxIEMxOC42MTI2MDQzLDI1LjQ5NDAyMyAxOC4yMjc1MTE1LDI1Ljc1NjEyNjggMTcuNzgyODYxNywyNS45NDk2ODMzIEMxNy4zMzgyMTE5LDI2LjE0MzIzOTggMTYuODYxODA4NiwyNi4yNDAwMTY1IDE2LjM1MzYzNzQsMjYuMjQwMDE2NSBaIiBpZD0iU2NhdHRlciIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==`;\n","import { Numeric, Serialize } from 'eosjs';\nimport * as ecc from 'eosjs-ecc';\nimport linkAbi from './link-abi-data';\n/** @internal */\nconst types = Serialize.getTypesFromAbi(Serialize.createInitialTypes(), linkAbi);\n/**\n * Helper to ABI encode value.\n * @internal\n */\nexport function abiEncode(value, typeName) {\n    let type = types.get(typeName);\n    if (!type) {\n        throw new Error(`No such type: ${typeName}`);\n    }\n    let buf = new Serialize.SerialBuffer();\n    type.serialize(buf, value);\n    return buf.asUint8Array();\n}\n/**\n * Helper to ABI decode data.\n * @internal\n */\nexport function abiDecode(data, typeName) {\n    let type = types.get(typeName);\n    if (!type) {\n        throw new Error(`No such type: ${typeName}`);\n    }\n    if (typeof data === 'string') {\n        data = Serialize.hexToUint8Array(data);\n    }\n    else if (!(data instanceof Uint8Array)) {\n        data = new Uint8Array(data);\n    }\n    let buf = new Serialize.SerialBuffer({\n        array: data,\n    });\n    return type.deserialize(buf);\n}\n/**\n * Encrypt a message using AES and shared secret derived from given keys.\n * @internal\n */\nexport function sealMessage(message, privateKey, publicKey) {\n    const res = ecc.Aes.encrypt(privateKey, publicKey, message);\n    const data = {\n        from: ecc.privateToPublic(privateKey),\n        nonce: res.nonce.toString(),\n        ciphertext: res.message,\n        checksum: res.checksum,\n    };\n    return abiEncode(data, 'sealed_message');\n}\n/**\n * Ensure public key is in new PUB_ format.\n * @internal\n */\nexport function normalizePublicKey(key) {\n    if (key.startsWith('PUB_')) {\n        return key;\n    }\n    return Numeric.publicKeyToString(Numeric.stringToPublicKey('EOS' + key.substr(-50)));\n}\n/**\n * Return true if given public keys are equal.\n * @internal\n */\nexport function publicKeyEqual(keyA, keyB) {\n    return normalizePublicKey(keyA) === normalizePublicKey(keyB);\n}\n/**\n * Generate a random private key.\n * Uses browser crypto if available, otherwise falls back to slow eosjs-ecc.\n * @internal\n */\nexport async function generatePrivateKey() {\n    if (typeof window !== 'undefined' && window.crypto) {\n        const data = new Uint32Array(32);\n        window.crypto.getRandomValues(data);\n        return ecc.PrivateKey.fromBuffer(Buffer.from(data)).toString();\n    }\n    else {\n        return await ecc.randomKey();\n    }\n}\n//# sourceMappingURL=utils.js.map","\"use strict\";\n\nvar commonApi = require('./api_common');\n\nvar objectApi = require('./api_object');\n\nvar ecc = Object.assign({}, commonApi, objectApi);\nmodule.exports = ecc;","\"use strict\";\n\nvar createHash = require('create-hash');\n\nvar createHmac = require('create-hmac');\n/** @namespace hash */\n\n/** @arg {string|Buffer} data\n    @arg {string} [resultEncoding = null] - 'hex', 'binary' or 'base64'\n    @return {string|Buffer} - Buffer when resultEncoding is null, or string\n*/\n\n\nfunction sha1(data, resultEncoding) {\n  return createHash('sha1').update(data).digest(resultEncoding);\n}\n/** @arg {string|Buffer} data\n    @arg {string} [resultEncoding = null] - 'hex', 'binary' or 'base64'\n    @return {string|Buffer} - Buffer when resultEncoding is null, or string\n*/\n\n\nfunction sha256(data, resultEncoding) {\n  return createHash('sha256').update(data).digest(resultEncoding);\n}\n/** @arg {string|Buffer} data\n    @arg {string} [resultEncoding = null] - 'hex', 'binary' or 'base64'\n    @return {string|Buffer} - Buffer when resultEncoding is null, or string\n*/\n\n\nfunction sha512(data, resultEncoding) {\n  return createHash('sha512').update(data).digest(resultEncoding);\n}\n\nfunction HmacSHA256(buffer, secret) {\n  return createHmac('sha256', secret).update(buffer).digest();\n}\n\nfunction ripemd160(data) {\n  try {\n    return createHash('rmd160').update(data).digest();\n  } catch (e) {\n    return createHash('ripemd160').update(data).digest();\n  }\n} // function hash160(buffer) {\n//   return ripemd160(sha256(buffer))\n// }\n//\n// function hash256(buffer) {\n//   return sha256(sha256(buffer))\n// }\n//\n// function HmacSHA512(buffer, secret) {\n//   return crypto.createHmac('sha512', secret).update(buffer).digest()\n// }\n\n\nmodule.exports = {\n  sha1: sha1,\n  sha256: sha256,\n  sha512: sha512,\n  HmacSHA256: HmacSHA256,\n  ripemd160: ripemd160 // hash160: hash160,\n  // hash256: hash256,\n  // HmacSHA512: HmacSHA512\n\n};","import React, { Component } from 'react'\nimport { Button, Table } from 'semantic-ui-react';\n\nclass Debug extends Component {\n  render() {\n    const { activeUser, chain, users } = this.props;\n    return (\n      <Table>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell collapsing>{chain.name}</Table.HeaderCell>\n            <Table.HeaderCell>Account</Table.HeaderCell>\n            <Table.HeaderCell>Permission</Table.HeaderCell>\n            <Table.HeaderCell />\n          </Table.Row>\n        </Table.Header>\n        {(users.length)\n          ? (\n            <Table.Body>\n              {users.map((s) => {\n                let actor;\n                let permission;\n                let key;\n                let isCurrent = false;\n                if (activeUser.scatter) {\n                  const [ active ] = activeUser.scatter.identity.accounts;\n                  const [ current ] = s.scatter.identity.accounts;\n                  isCurrent = (current && current.name  === active.name && current.authority === active.authority);\n                  key = [current.name, current.authority].join('-')\n                  actor = current.name\n                  permission = current.authority\n                }\n                if (activeUser.session) {\n                  isCurrent = (activeUser && s.accountName === activeUser.accountName && s.requestPermission === activeUser.requestPermission)\n                  key = Object.values(s).join('-')\n                  actor = s.accountName\n                  permission = s.requestPermission\n                }\n                return (\n                  <Table.Row key={key}>\n                    <Table.Cell collapsing>\n                      <Button\n                        color={isCurrent ? \"blue\" : \"green\"}\n                        content={isCurrent ? \"In Use\" : \"Use Account\"}\n                        disabled={isCurrent}\n                        onClick={() => this.props.setSession({ actor, permission })}\n                      />\n                    </Table.Cell>\n                    <Table.Cell>{actor}</Table.Cell>\n                    <Table.Cell>{permission}</Table.Cell>\n                    <Table.Cell collapsing>\n                      <Button\n                        color=\"red\"\n                        icon=\"trash\"\n                        onClick={() => this.props.removeSession({ actor, permission })}\n                      />\n                    </Table.Cell>\n                  </Table.Row>\n                );\n              })}\n            </Table.Body>\n          )\n          : (\n            <Table.Body>\n              <Table.Row textAlign=\"center\">\n                <Table.Cell colSpan=\"4\">No Accounts Imported</Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          )\n        }\n        <Table.Footer fullWidth>\n          <Table.Row>\n            <Table.HeaderCell />\n            <Table.HeaderCell colSpan=\"4\" textAlign=\"center\">\n              <Button\n                basic\n                content=\"Add Account\"\n                fluid\n                onClick={this.props.addAccount}\n                primary\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    );\n  }\n}\n\nexport default Debug;\n","import React, { Component } from 'react'\nimport { Dropdown } from 'semantic-ui-react';\n\nimport eosLogo from './assets/eos.png';\nimport fioLogo from './assets/fio.svg';\nimport jungleLogo from './assets/jungle.png';\nimport protonLogo from './assets/proton.png';\nimport telosLogo from './assets/telos.png';\nimport waxLogo from './assets/wax.png';\n\nimport blockchains from './assets/blockchains.json';\n\nconst logoMap = {\n  \"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72\": eosLogo,\n  \"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e\": fioLogo,\n  \"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473\": jungleLogo,\n  \"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840\": jungleLogo,\n  \"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd\": protonLogo,\n  \"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f\": telosLogo,\n  \"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12\": waxLogo,\n};\n\nconst options = blockchains.map((chain) => ({\n  key: chain.chainId,\n  text: chain.name,\n  value: chain.chainId,\n  image: {\n    avatar: true,\n    src: logoMap[chain.chainId]\n  },\n}));\n\n\nclass Blockchains extends Component {\n  render() {\n    const { chain } = this.props;\n    return (\n      <Dropdown\n        fluid\n        onChange={this.props.onChange}\n        options={options}\n        placeholder='Select Blockchain...'\n        search\n        selection\n        value={chain.chainId}\n      />\n    );\n  }\n}\n\nexport default Blockchains;\n","import React, { Component } from 'react'\nimport { Header, Segment } from 'semantic-ui-react';\nimport ReactJson from 'react-json-view';\nimport { CodeBlock, monokai } from 'react-code-blocks'\n\n\nclass Transaction extends Component {\n  render() {\n    const { response } = this.props;\n    return (\n      <React.Fragment>\n        <Segment style={{ background: 'rgb(39, 40, 34)' }}>\n          <Header dividing size=\"large\" style={{ borderBottom: '1px solid white', color: 'white' }}>\n            Callback Payload\n          </Header>\n          <CodeBlock\n            text={`console.log(response.payload);`}\n            language={\"javascript\"}\n            showLineNumbers={false}\n            theme={monokai}\n            wrapLines\n          />\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            enableClipboard={false}\n            iconStyle=\"square\"\n            name={null}\n            src={response.payload}\n            style={{\n              background: 'rgb(39, 40, 34)',\n              marginTop: '1em',\n              overflow: 'scroll',\n            }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n        <Segment style={{ background: 'rgb(39, 40, 34)' }}>\n          <Header dividing size=\"large\" style={{ borderBottom: '1px solid white', color: 'white' }}>\n            Signatures\n          </Header>\n          <CodeBlock\n            text={`console.log(response.signatures);`}\n            language={\"javascript\"}\n            showLineNumbers={false}\n            theme={monokai}\n            wrapLines\n          />\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            enableClipboard={false}\n            iconStyle=\"square\"\n            name={null}\n            src={response.signatures}\n            style={{\n              background: 'rgb(39, 40, 34)',\n              marginTop: '1em',\n              overflow: 'scroll',\n            }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n        <Segment style={{ background: 'rgb(39, 40, 34)' }}>\n          <Header dividing size=\"large\" style={{ borderBottom: '1px solid white', color: 'white' }}>\n            Signer\n          </Header>\n          <CodeBlock\n            text={`console.log(response.signer);`}\n            language={\"javascript\"}\n            showLineNumbers={false}\n            theme={monokai}\n            wrapLines\n          />\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            enableClipboard={false}\n            iconStyle=\"square\"\n            name={null}\n            src={response.signer}\n            style={{\n              background: 'rgb(39, 40, 34)',\n              marginTop: '1em',\n              overflow: 'scroll',\n            }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n        <Segment style={{ background: 'rgb(39, 40, 34)' }}>\n          <Header dividing size=\"large\" style={{ borderBottom: '1px solid white', color: 'white' }}>\n            Transaction\n          </Header>\n          <CodeBlock\n            text={`console.log(response.transaction);`}\n            language={\"javascript\"}\n            showLineNumbers={false}\n            theme={monokai}\n            wrapLines\n          />\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            enableClipboard={false}\n            iconStyle=\"square\"\n            name={null}\n            src={response.transaction}\n            style={{\n              background: 'rgb(39, 40, 34)',\n              marginTop: '1em',\n              overflow: 'scroll',\n            }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Transaction;\n","// React and UI components for demo\nimport React, { Component } from 'react'\nimport { Button, Container, Header, Segment } from 'semantic-ui-react'\n\n// The required ual includes\nimport { withUAL } from 'ual-reactjs-renderer'\n\n// React components for this demo, not required\nimport Accounts from './Accounts.js'\nimport Blockchains from './Blockchains.js'\nimport Response from './Response.js'\n\nclass App extends Component {\n  // Demo initialization code\n  constructor(props) {\n    super(props)\n    console.log(props)\n    // Set initial blank application state\n    this.state = {\n      response: undefined,\n      session: undefined,\n      sessions: [],\n    }\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.chainId !== prevState.chainId) {\n      console.log(\"chainId change\")\n    }\n    if (this.props.ual.activeUser !== prevProps.ual.activeUser) {\n      console.log(\"activeUser change\")\n    }\n  }\n  addAccount = () => {\n    this.props.ual.showModal()\n  }\n  signTransaction = async () => {\n    // Retrieve current session from state\n    const { ual: { activeUser } } = this.props\n    try {\n      // Reset our response state to clear any previous transaction data\n      this.setState({ response: undefined })\n      // Determine our auth from the current authenticator\n      let actor;\n      let permission;\n      if (activeUser.scatter) {\n        const [ current ] = activeUser.scatter.identity.accounts;\n        actor = current.name\n        permission = current.authority\n      }\n      if (activeUser.session) {\n        actor = activeUser.accountName\n        permission = activeUser.requestPermission\n      }\n      // Call transact on the session\n      const result = await activeUser.signTransaction({\n        actions: [\n          {\n            account: 'eosio',\n            name: 'voteproducer',\n            authorization: [{\n              actor,\n              permission,\n            }],\n            data: {\n              producers: [],\n              proxy: 'greymassvote',\n              voter: activeUser.accountName\n            }\n          }\n        ]\n      }, {\n        // Optional: Whether anchor-link should broadcast this transaction\n        //    For this demo, anchor-link will not broadcast the transaction after receiving it\n        broadcast: false,\n        // Optional: TAPOS values\n        blocksBehind: 3,\n        expireSeconds: 120,\n      })\n      // Update application state with the results of the transaction\n      console.log(result)\n      this.setState({ response: result.transaction })\n    } catch(e) {\n      console.log(e)\n    }\n  }\n  // React State Helper to update sessions while switching accounts\n  setSession = async (auth) => {\n    // Restore a specific session based on appName and auth\n    const session = await this.link.restoreSession(this.props.appName, auth)\n    // Update application state with new session and reset response data\n    this.setState({\n      response: undefined,\n      session,\n    })\n  }\n  // React State Helper to remove/delete a session\n  removeSession = async (auth) => {\n    const { ual: { logout } } = this.props\n    logout();\n    // // Remove from local storage based on appName and auth\n    // await this.link.removeSession(this.props.appName, auth)\n    // // Remove from local application state\n    // const { session, sessions } = this.state\n    // // If this was the currently active account, remove the session\n    // if (session && session.auth.actor === auth.actor && session.auth.permission === auth.permission) {\n    //   this.setState({ session: undefined });\n    // }\n    // this.setState({\n    //   sessions: sessions.filter(s => !(s.actor === auth.actor && s.permission === auth.permission))\n    // })\n  }\n  render() {\n    // Load state for rendering\n    const {\n      session,\n      sessions,\n      response,\n    } = this.state\n    const {\n      chain,\n    } = this.props\n    const { ual: { activeUser } } = this.props\n    const { ual: { users } } = this.props\n    console.log(users)\n    // Return the UI\n    return (\n      <Container\n        style={{ paddingTop: '2em' }}\n      >\n        <Header attached=\"top\" block size=\"huge\">\n          ual-anchor-reactjs-demo-multipass\n          <Header.Subheader>\n            <p>An UAL demo that allows multiple persistent logins from different wallets, blockchains, and accounts.</p>\n            <p>Source code: <a href=\"https://github.com/greymass/ual-anchor-reactjs-demo-multipass\">https://github.com/greymass/ual-anchor-reactjs-demo-multipass</a></p>\n          </Header.Subheader>\n        </Header>\n        <Segment attached padded>\n          <p>Switch to a specific blockchain.</p>\n          <Blockchains\n            chain={chain}\n            onChange={this.props.setChainId}\n          />\n        </Segment>\n        <Segment attached padded>\n          <Header>Available Accounts</Header>\n          <Accounts\n            activeUser={activeUser}\n            addAccount={this.addAccount}\n            chain={chain}\n            setSession={this.setSession}\n            removeSession={this.removeSession}\n            users={users}\n          />\n        </Segment>\n        <Segment attached={response ? true : 'bottom'} padded>\n          <Header>Transact with anchor-link</Header>\n          <Button\n            content=\"Sign Test Transaction\"\n            disabled={!activeUser}\n            icon=\"external\"\n            onClick={this.signTransaction}\n            primary\n            size=\"huge\"\n          />\n          {(!activeUser)\n            ? <p style={{ marginTop: '0.5em'}}>Login using UAL to sign a test transaction.</p>\n            : false\n          }\n        </Segment>\n        {(response)\n          ? (\n            <Segment attached=\"bottom\" padded>\n              <Header>Transaction Response</Header>\n              <Response\n                response={response}\n              />\n            </Segment>\n          )\n          : false\n        }\n      </Container>\n    )\n  }\n}\n\n// ensure this component is exported withUAL\nexport default withUAL(App)\n","// React and UI components for demo\nimport React, { Component } from 'react'\nimport { Button, Container, Header, Segment } from 'semantic-ui-react'\n\n// The required ual-reactjs-renderer with ual-anchor, ual-scatter, and ual-ledger\nimport { Anchor } from 'ual-anchor'\nimport { Ledger } from 'ual-ledger'\nimport { Scatter } from 'ual-scatter'\nimport { UALProvider } from 'ual-reactjs-renderer'\n\n// React components for this demo, not required\nimport { find } from 'lodash'\nimport blockchains from './assets/blockchains.json'\nimport Main from './Main'\n\n// Define the app name for UAL\nconst appName = 'ual-anchor-reactjs-demo-multipass'\n\nclass App extends Component {\n  // Demo initialization code\n  constructor(props) {\n    super(props)\n    // Add the ability to retrieve the chainId from the URL\n    const search = window.location.search\n    const params = new URLSearchParams(search)\n    const chainId = params.get('chainId') || '0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72'\n    // Set initial application state with the default chainId\n    this.state = {\n      chainId,\n    }\n  }\n  getAuthenticators = (chainId) => {\n    const [ chain ] = blockchains.filter((c) => c.chainId === chainId)\n    console.log(chainId, chain)\n    const anchor = new Anchor([chain], {\n      // Required: The name of the app requesting a session\n      appName,\n    })\n    const ledger = new Ledger([chain])\n    const scatter = new Scatter([chain], {\n      appName\n    })\n    return [anchor, ledger, scatter]\n  }\n  // React State Helper to update chainId while switching blockchains\n  setChainId = (e, { value }) => this.setState({\n    chainId: value\n  })\n  render() {\n    const {\n      chainId,\n    } = this.state\n    // Find the blockchain information (rpc, name, etc) for UI purposes\n    const chain = find(blockchains, { chainId })\n    // Retrieve the authenticators for this chain for UAL\n    const authenticators = this.getAuthenticators(chainId)\n    // Return the UI\n    return (\n      <UALProvider\n        appName={appName}\n        authenticators={authenticators}\n        chains={blockchains}\n        key={chain.chainId}\n      >\n        <Main\n          appName={appName}\n          chain={chain}\n          setChainId={this.setChainId}\n          key={chain.chainId}\n        />\n      </UALProvider>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export default `\n/* Anchor Link */\n\n.%prefix% * {\n    box-sizing: border-box;\n    line-height: 1;\n}\n\n.%prefix% {\n    font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',\n        Arial, sans-serif;\n    font-size: 13px;\n    background: rgba(0, 0, 0, 0.5);\n    backdrop-filter: blur(5px);\n    -webkit-backdrop-filter: blur(5px);\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 2147483647;\n    display: none;\n    align-items: center;\n    justify-content: center;\n}\n\n.%prefix%-active {\n    display: flex;\n}\n\n.%prefix%-inner {\n    background: #F1F1F1;\n    margin: 1em;\n    padding-top: 3.5em;\n    border-radius: 1.5em;\n    box-shadow: 0px 4px 100px rgba(0, 0, 0, .5);\n    width: 24em;\n}\n\n.%prefix%-logo {\n    width: 5em;\n    height: 5em;\n    margin: 0 auto;\n    margin-top: -3.75em;;\n    background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg viewBox='0 0 160 160' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='80' cy='80' r='80' fill='%233650A2'/%3E%3Cpath d='m80.006 30c2.2988 0 4.3956 1.3134 5.3987 3.3818l24.006 49.5 0.542 1.1178h-13.337l-3.8797-8h-25.461l-3.8798 8h-13.337l0.5423-1.1182 24.006-49.5c1.0031-2.0684 3.0998-3.3818 5.3986-3.3818zm-7.8807 36h15.761l-7.8807-16.25-7.8807 16.25zm25.874 35h12.006c-0.361 16.152-13.731 29-29.999 29s-29.638-12.848-29.998-29h12.005c0.281 7.354 5.1673 13.631 11.987 15.996v-23.996c0-3.3137 2.6863-6 6-6s6 2.6863 6 6v24c6.8262-2.362 11.718-8.641 11.999-16z' clip-rule='evenodd' fill='%23fff' fill-rule='evenodd'/%3E%3C/svg%3E%0A\");\n}\n\n.%prefix%-logo.error {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%23FC3D39'/%3E%3Cpath fill='%23fff' d='M22.3 48h25.4c2.5 0 4-1.7 4-4a4 4 0 00-.5-2L38.5 19.3a4 4 0 00-3.5-2 4 4 0 00-3.5 2L18.8 42.1c-.3.6-.5 1.3-.5 2 0 2.2 1.6 4 4 4zM35 37c-.9 0-1.4-.6-1.4-1.5l-.2-7.7c0-.9.6-1.6 1.6-1.6s1.7.7 1.7 1.6l-.3 7.7c0 1-.5 1.5-1.4 1.5zm0 6c-1 0-1.9-.8-1.9-1.8s.9-1.8 2-1.8c1 0 1.8.7 1.8 1.8 0 1-.9 1.8-1.9 1.8z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.success {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%233DC55D'/%3E%3Cpath fill='%23fff' d='M30.9 49.7a2 2 0 001.8-1L48 24.9c.3-.5.4-1 .4-1.4 0-1-.7-1.7-1.7-1.7-.8 0-1.2.3-1.6 1L30.8 45.4 23.5 36c-.5-.6-1-.9-1.6-.9-1 0-1.8.8-1.8 1.8 0 .4.2.9.6 1.3L29 48.7c.6.7 1.1 1 1.9 1z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-request {\n    padding: 1.5em;\n    border-radius: 1.5em;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    background: white;\n}\n\n.%prefix%-info {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    line-height: 2em;\n}\n\n.%prefix%-title {\n    font-size: 1.8em;\n    margin-top: 0.5em;\n    font-weight: bold;\n}\n\n.%prefix%-subtitle {\n    margin-top: 1em;\n    color: #5C5C5C;\n    text-align: center;\n    margin-bottom: 0.5em;\n}\n\n.%prefix%-actions {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.%prefix%-uri {\n    width: 100%;\n\n}\n.%prefix%-uri a {\n    color: #007AFF;\n    background: rgba(116, 116, 128, 0.08);\n    text-decoration: none;\n    font-size: 1.3em;\n    flex-grow: 1;\n    flex: 1;\n    width: 100%;\n    padding: 1.5em;\n    border-radius: 0.75em;\n    font-weight: 500;\n    letter-spacing: .01em;\n    text-align: center;\n    display: block;\n    margin-top: 1em;\n}\n\n.%prefix%-qr {\n    margin-top: 1em;\n}\n\n.%prefix%-qr svg {\n    width: 100%;\n}\n`;\n//# sourceMappingURL=styles.js.map"],"sourceRoot":""}